var dv=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var M=(t,e,n)=>(dv(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ie=(t,e,n,r)=>(dv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var zh=(t,e,n,r)=>({set _(s){ie(t,e,s,n)},get _(){return M(t,e,r)}}),Ne=(t,e,n)=>(dv(t,e,"access private method"),n);function KM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function EC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IC={exports:{}},Rm={},TC={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),WM=Symbol.for("react.portal"),GM=Symbol.for("react.fragment"),QM=Symbol.for("react.strict_mode"),YM=Symbol.for("react.profiler"),JM=Symbol.for("react.provider"),XM=Symbol.for("react.context"),ZM=Symbol.for("react.forward_ref"),eL=Symbol.for("react.suspense"),tL=Symbol.for("react.memo"),nL=Symbol.for("react.lazy"),N1=Symbol.iterator;function rL(t){return t===null||typeof t!="object"?null:(t=N1&&t[N1]||t["@@iterator"],typeof t=="function"?t:null)}var SC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CC=Object.assign,NC={};function dc(t,e,n){this.props=t,this.context=e,this.refs=NC,this.updater=n||SC}dc.prototype.isReactComponent={};dc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kC(){}kC.prototype=dc.prototype;function Bw(t,e,n){this.props=t,this.context=e,this.refs=NC,this.updater=n||SC}var zw=Bw.prototype=new kC;zw.constructor=Bw;CC(zw,dc.prototype);zw.isPureReactComponent=!0;var k1=Array.isArray,RC=Object.prototype.hasOwnProperty,qw={current:null},PC={key:!0,ref:!0,__self:!0,__source:!0};function AC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)RC.call(e,r)&&!PC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hd,type:t,key:i,ref:o,props:s,_owner:qw.current}}function sL(t,e){return{$$typeof:Hd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hd}function iL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var R1=/\/+/g;function hv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iL(""+t.key):e.toString(36)}function Nf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hd:case WM:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hv(o,0):r,k1(s)?(n="",t!=null&&(n=t.replace(R1,"$&/")+"/"),Nf(s,e,n,"",function(u){return u})):s!=null&&(Hw(s)&&(s=sL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(R1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",k1(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+hv(i,a);o+=Nf(i,e,n,l,s)}else if(l=rL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+hv(i,a++),o+=Nf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qh(t,e,n){if(t==null)return t;var r=[],s=0;return Nf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function oL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},kf={transition:null},aL={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:kf,ReactCurrentOwner:qw};function jC(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:qh,forEach:function(t,e,n){qh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qh(t,function(){e++}),e},toArray:function(t){return qh(t,function(e){return e})||[]},only:function(t){if(!Hw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=dc;Te.Fragment=GM;Te.Profiler=YM;Te.PureComponent=Bw;Te.StrictMode=QM;Te.Suspense=eL;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aL;Te.act=jC;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)RC.call(e,l)&&!PC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hd,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:XM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JM,_context:t},t.Consumer=t};Te.createElement=AC;Te.createFactory=function(t){var e=AC.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:ZM,render:t}};Te.isValidElement=Hw;Te.lazy=function(t){return{$$typeof:nL,_payload:{_status:-1,_result:t},_init:oL}};Te.memo=function(t,e){return{$$typeof:tL,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=kf.transition;kf.transition={};try{t()}finally{kf.transition=e}};Te.unstable_act=jC;Te.useCallback=function(t,e){return sn.current.useCallback(t,e)};Te.useContext=function(t){return sn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return sn.current.useEffect(t,e)};Te.useId=function(){return sn.current.useId()};Te.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return sn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Te.useRef=function(t){return sn.current.useRef(t)};Te.useState=function(t){return sn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return sn.current.useTransition()};Te.version="18.3.1";TC.exports=Te;var g=TC.exports;const J=EC(g),Kw=KM({__proto__:null,default:J},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lL=g,cL=Symbol.for("react.element"),uL=Symbol.for("react.fragment"),dL=Object.prototype.hasOwnProperty,hL=lL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fL={key:!0,ref:!0,__self:!0,__source:!0};function DC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dL.call(e,r)&&!fL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:cL,type:t,key:i,ref:o,props:s,_owner:hL.current}}Rm.Fragment=uL;Rm.jsx=DC;Rm.jsxs=DC;IC.exports=Rm;var c=IC.exports,Cy={},OC={exports:{}},jn={},MC={exports:{}},LC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var W=F.length;F.push($);e:for(;0<W;){var q=W-1>>>1,H=F[q];if(0<s(H,$))F[q]=$,F[W]=H,W=q;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],W=F.pop();if(W!==$){F[0]=W;e:for(var q=0,H=F.length,X=H>>>1;q<X;){var de=2*(q+1)-1,le=F[de],ue=de+1,Ie=F[ue];if(0>s(le,W))ue<H&&0>s(Ie,le)?(F[q]=Ie,F[ue]=W,q=ue):(F[q]=le,F[de]=W,q=de);else if(ue<H&&0>s(Ie,W))F[q]=Ie,F[ue]=W,q=ue;else break e}}return $}function s(F,$){var W=F.sortIndex-$.sortIndex;return W!==0?W:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,_=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function C(F){if(w=!1,E(F),!_)if(n(l)!==null)_=!0,K(j);else{var $=n(u);$!==null&&Z(C,$.startTime-F)}}function j(F,$){_=!1,w&&(w=!1,x(I),I=-1),m=!0;var W=p;try{for(E($),h=n(l);h!==null&&(!(h.expirationTime>$)||F&&!D());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var H=q(h.expirationTime<=$);$=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),E($)}else r(l);h=n(l)}if(h!==null)var X=!0;else{var de=n(u);de!==null&&Z(C,de.startTime-$),X=!1}return X}finally{h=null,p=W,m=!1}}var O=!1,S=null,I=-1,P=5,k=-1;function D(){return!(t.unstable_now()-k<P)}function N(){if(S!==null){var F=t.unstable_now();k=F;var $=!0;try{$=S(!0,F)}finally{$?R():(O=!1,S=null)}}else O=!1}var R;if(typeof b=="function")R=function(){b(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Q=U.port2;U.port1.onmessage=N,R=function(){Q.postMessage(null)}}else R=function(){y(N,0)};function K(F){S=F,O||(O=!0,R())}function Z(F,$){I=y(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,K(j))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var W=p;p=$;try{return F()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=p;p=F;try{return $()}finally{p=W}},t.unstable_scheduleCallback=function(F,$,W){var q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,F){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,F={id:f++,callback:$,priorityLevel:F,startTime:W,expirationTime:H,sortIndex:-1},W>q?(F.sortIndex=W,e(u,F),n(l)===null&&F===n(u)&&(w?(x(I),I=-1):w=!0,Z(C,W-q))):(F.sortIndex=H,e(l,F),_||m||(_=!0,K(j))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var $=p;return function(){var W=p;p=$;try{return F.apply(this,arguments)}finally{p=W}}}})(LC);MC.exports=LC;var pL=MC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mL=g,Pn=pL;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VC=new Set,qu={};function ua(t,e){Vl(t,e),Vl(t+"Capture",e)}function Vl(t,e){for(qu[t]=e,t=0;t<e.length;t++)VC.add(e[t])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ny=Object.prototype.hasOwnProperty,gL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P1={},A1={};function vL(t){return Ny.call(A1,t)?!0:Ny.call(P1,t)?!1:gL.test(t)?A1[t]=!0:(P1[t]=!0,!1)}function yL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wL(t,e,n,r){if(e===null||typeof e>"u"||yL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Gw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ww,Gw);Mt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ww,Gw);Mt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ww,Gw);Mt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qw(t,e,n,r){var s=Mt.hasOwnProperty(e)?Mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wL(e,n,s,r)&&(n=null),r||s===null?vL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cs=mL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hh=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),Yw=Symbol.for("react.strict_mode"),ky=Symbol.for("react.profiler"),FC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),Xw=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),UC=Symbol.for("react.offscreen"),j1=Symbol.iterator;function Uc(t){return t===null||typeof t!="object"?null:(t=j1&&t[j1]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,fv;function lu(t){if(fv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fv=e&&e[1]||""}return`
`+fv+t}var pv=!1;function mv(t,e){if(!t||pv)return"";pv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lu(t):""}function xL(t){switch(t.tag){case 5:return lu(t.type);case 16:return lu("Lazy");case 13:return lu("Suspense");case 19:return lu("SuspenseList");case 0:case 2:case 15:return t=mv(t.type,!1),t;case 11:return t=mv(t.type.render,!1),t;case 1:return t=mv(t.type,!0),t;default:return""}}function Ay(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case Ga:return"Portal";case ky:return"Profiler";case Yw:return"StrictMode";case Ry:return"Suspense";case Py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $C:return(t.displayName||"Context")+".Consumer";case FC:return(t._context.displayName||"Context")+".Provider";case Jw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xw:return e=t.displayName||null,e!==null?e:Ay(t.type)||"Memo";case Qs:e=t._payload,t=t._init;try{return Ay(t(e))}catch{}}return null}function _L(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ay(e);case 8:return e===Yw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bL(t){var e=BC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kh(t){t._valueTracker||(t._valueTracker=bL(t))}function zC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=BC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jy(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function D1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qC(t,e){e=e.checked,e!=null&&Qw(t,"checked",e,!1)}function Dy(t,e){qC(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oy(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Oy(t,e,n){(e!=="number"||gp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cu=Array.isArray;function ol(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function My(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(cu(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function HC(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ly(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wh,WC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wh=Wh||document.createElement("div"),Wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EL=["Webkit","ms","Moz","O"];Object.keys(_u).forEach(function(t){EL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_u[e]=_u[t]})});function GC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_u.hasOwnProperty(t)&&_u[t]?(""+e).trim():e+"px"}function QC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=GC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var IL=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vy(t,e){if(e){if(IL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Fy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $y=null;function Zw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uy=null,al=null,ll=null;function V1(t){if(t=Gd(t)){if(typeof Uy!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Om(e),Uy(t.stateNode,t.type,e))}}function YC(t){al?ll?ll.push(t):ll=[t]:al=t}function JC(){if(al){var t=al,e=ll;if(ll=al=null,V1(t),e)for(t=0;t<e.length;t++)V1(e[t])}}function XC(t,e){return t(e)}function ZC(){}var gv=!1;function e2(t,e,n){if(gv)return t(e,n);gv=!0;try{return XC(t,e,n)}finally{gv=!1,(al!==null||ll!==null)&&(ZC(),JC())}}function Ku(t,e){var n=t.stateNode;if(n===null)return null;var r=Om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var By=!1;if(ms)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){By=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{By=!1}function TL(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var bu=!1,vp=null,yp=!1,zy=null,SL={onError:function(t){bu=!0,vp=t}};function CL(t,e,n,r,s,i,o,a,l){bu=!1,vp=null,TL.apply(SL,arguments)}function NL(t,e,n,r,s,i,o,a,l){if(CL.apply(this,arguments),bu){if(bu){var u=vp;bu=!1,vp=null}else throw Error(Y(198));yp||(yp=!0,zy=u)}}function da(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F1(t){if(da(t)!==t)throw Error(Y(188))}function kL(t){var e=t.alternate;if(!e){if(e=da(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return F1(s),t;if(i===r)return F1(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function n2(t){return t=kL(t),t!==null?r2(t):null}function r2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=r2(t);if(e!==null)return e;t=t.sibling}return null}var s2=Pn.unstable_scheduleCallback,$1=Pn.unstable_cancelCallback,RL=Pn.unstable_shouldYield,PL=Pn.unstable_requestPaint,at=Pn.unstable_now,AL=Pn.unstable_getCurrentPriorityLevel,ex=Pn.unstable_ImmediatePriority,i2=Pn.unstable_UserBlockingPriority,wp=Pn.unstable_NormalPriority,jL=Pn.unstable_LowPriority,o2=Pn.unstable_IdlePriority,Pm=null,Or=null;function DL(t){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Pm,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:LL,OL=Math.log,ML=Math.LN2;function LL(t){return t>>>=0,t===0?32:31-(OL(t)/ML|0)|0}var Gh=64,Qh=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=uu(a):(i&=o,i!==0&&(r=uu(i)))}else o=n&~s,o!==0?r=uu(o):i!==0&&(r=uu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),s=1<<n,r|=t[n],e&=~s;return r}function VL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ur(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=VL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function qy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a2(){var t=Gh;return Gh<<=1,!(Gh&4194240)&&(Gh=64),t}function vv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function $L(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function tx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function l2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c2,nx,u2,d2,h2,Hy=!1,Yh=[],gi=null,vi=null,yi=null,Wu=new Map,Gu=new Map,Js=[],UL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U1(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(e.pointerId)}}function zc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gd(e),e!==null&&nx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function BL(t,e,n,r,s){switch(e){case"focusin":return gi=zc(gi,t,e,n,r,s),!0;case"dragenter":return vi=zc(vi,t,e,n,r,s),!0;case"mouseover":return yi=zc(yi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wu.set(i,zc(Wu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gu.set(i,zc(Gu.get(i)||null,t,e,n,r,s)),!0}return!1}function f2(t){var e=xo(t.target);if(e!==null){var n=da(e);if(n!==null){if(e=n.tag,e===13){if(e=t2(n),e!==null){t.blockedOn=e,h2(t.priority,function(){u2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ky(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$y=r,n.target.dispatchEvent(r),$y=null}else return e=Gd(n),e!==null&&nx(e),t.blockedOn=n,!1;e.shift()}return!0}function B1(t,e,n){Rf(t)&&n.delete(e)}function zL(){Hy=!1,gi!==null&&Rf(gi)&&(gi=null),vi!==null&&Rf(vi)&&(vi=null),yi!==null&&Rf(yi)&&(yi=null),Wu.forEach(B1),Gu.forEach(B1)}function qc(t,e){t.blockedOn===e&&(t.blockedOn=null,Hy||(Hy=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,zL)))}function Qu(t){function e(s){return qc(s,t)}if(0<Yh.length){qc(Yh[0],t);for(var n=1;n<Yh.length;n++){var r=Yh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&qc(gi,t),vi!==null&&qc(vi,t),yi!==null&&qc(yi,t),Wu.forEach(e),Gu.forEach(e),n=0;n<Js.length;n++)r=Js[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Js.length&&(n=Js[0],n.blockedOn===null);)f2(n),n.blockedOn===null&&Js.shift()}var cl=Cs.ReactCurrentBatchConfig,_p=!0;function qL(t,e,n,r){var s=Me,i=cl.transition;cl.transition=null;try{Me=1,rx(t,e,n,r)}finally{Me=s,cl.transition=i}}function HL(t,e,n,r){var s=Me,i=cl.transition;cl.transition=null;try{Me=4,rx(t,e,n,r)}finally{Me=s,cl.transition=i}}function rx(t,e,n,r){if(_p){var s=Ky(t,e,n,r);if(s===null)Cv(t,e,r,bp,n),U1(t,r);else if(BL(s,t,e,n,r))r.stopPropagation();else if(U1(t,r),e&4&&-1<UL.indexOf(t)){for(;s!==null;){var i=Gd(s);if(i!==null&&c2(i),i=Ky(t,e,n,r),i===null&&Cv(t,e,r,bp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cv(t,e,r,null,n)}}var bp=null;function Ky(t,e,n,r){if(bp=null,t=Zw(r),t=xo(t),t!==null)if(e=da(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bp=t,null}function p2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AL()){case ex:return 1;case i2:return 4;case wp:case jL:return 16;case o2:return 536870912;default:return 16}default:return 16}}var di=null,sx=null,Pf=null;function m2(){if(Pf)return Pf;var t,e=sx,n=e.length,r,s="value"in di?di.value:di.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pf=s.slice(t,1<r?1-r:void 0)}function Af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jh(){return!0}function z1(){return!1}function Dn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jh:z1,this.isPropagationStopped=z1,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jh)},persist:function(){},isPersistent:Jh}),e}var hc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ix=Dn(hc),Wd=tt({},hc,{view:0,detail:0}),KL=Dn(Wd),yv,wv,Hc,Am=tt({},Wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ox,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hc&&(Hc&&t.type==="mousemove"?(yv=t.screenX-Hc.screenX,wv=t.screenY-Hc.screenY):wv=yv=0,Hc=t),yv)},movementY:function(t){return"movementY"in t?t.movementY:wv}}),q1=Dn(Am),WL=tt({},Am,{dataTransfer:0}),GL=Dn(WL),QL=tt({},Wd,{relatedTarget:0}),xv=Dn(QL),YL=tt({},hc,{animationName:0,elapsedTime:0,pseudoElement:0}),JL=Dn(YL),XL=tt({},hc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZL=Dn(XL),e5=tt({},hc,{data:0}),H1=Dn(e5),t5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=r5[t])?!!e[t]:!1}function ox(){return s5}var i5=tt({},Wd,{key:function(t){if(t.key){var e=t5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?n5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ox,charCode:function(t){return t.type==="keypress"?Af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o5=Dn(i5),a5=tt({},Am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K1=Dn(a5),l5=tt({},Wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ox}),c5=Dn(l5),u5=tt({},hc,{propertyName:0,elapsedTime:0,pseudoElement:0}),d5=Dn(u5),h5=tt({},Am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f5=Dn(h5),p5=[9,13,27,32],ax=ms&&"CompositionEvent"in window,Eu=null;ms&&"documentMode"in document&&(Eu=document.documentMode);var m5=ms&&"TextEvent"in window&&!Eu,g2=ms&&(!ax||Eu&&8<Eu&&11>=Eu),W1=String.fromCharCode(32),G1=!1;function v2(t,e){switch(t){case"keyup":return p5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function g5(t,e){switch(t){case"compositionend":return y2(e);case"keypress":return e.which!==32?null:(G1=!0,W1);case"textInput":return t=e.data,t===W1&&G1?null:t;default:return null}}function v5(t,e){if(Ya)return t==="compositionend"||!ax&&v2(t,e)?(t=m2(),Pf=sx=di=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g2&&e.locale!=="ko"?null:e.data;default:return null}}var y5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!y5[t.type]:e==="textarea"}function w2(t,e,n,r){YC(r),e=Ep(e,"onChange"),0<e.length&&(n=new ix("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,Yu=null;function w5(t){R2(t,0)}function jm(t){var e=Za(t);if(zC(e))return t}function x5(t,e){if(t==="change")return e}var x2=!1;if(ms){var _v;if(ms){var bv="oninput"in document;if(!bv){var Y1=document.createElement("div");Y1.setAttribute("oninput","return;"),bv=typeof Y1.oninput=="function"}_v=bv}else _v=!1;x2=_v&&(!document.documentMode||9<document.documentMode)}function J1(){Iu&&(Iu.detachEvent("onpropertychange",_2),Yu=Iu=null)}function _2(t){if(t.propertyName==="value"&&jm(Yu)){var e=[];w2(e,Yu,t,Zw(t)),e2(w5,e)}}function _5(t,e,n){t==="focusin"?(J1(),Iu=e,Yu=n,Iu.attachEvent("onpropertychange",_2)):t==="focusout"&&J1()}function b5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jm(Yu)}function E5(t,e){if(t==="click")return jm(e)}function I5(t,e){if(t==="input"||t==="change")return jm(e)}function T5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:T5;function Ju(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ny.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function X1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z1(t,e){var n=X1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X1(n)}}function b2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E2(){for(var t=window,e=gp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gp(t.document)}return e}function lx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S5(t){var e=E2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&b2(n.ownerDocument.documentElement,n)){if(r!==null&&lx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Z1(n,i);var o=Z1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C5=ms&&"documentMode"in document&&11>=document.documentMode,Ja=null,Wy=null,Tu=null,Gy=!1;function eE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gy||Ja==null||Ja!==gp(r)||(r=Ja,"selectionStart"in r&&lx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tu&&Ju(Tu,r)||(Tu=r,r=Ep(Wy,"onSelect"),0<r.length&&(e=new ix("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ja)))}function Xh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xa={animationend:Xh("Animation","AnimationEnd"),animationiteration:Xh("Animation","AnimationIteration"),animationstart:Xh("Animation","AnimationStart"),transitionend:Xh("Transition","TransitionEnd")},Ev={},I2={};ms&&(I2=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Dm(t){if(Ev[t])return Ev[t];if(!Xa[t])return t;var e=Xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in I2)return Ev[t]=e[n];return t}var T2=Dm("animationend"),S2=Dm("animationiteration"),C2=Dm("animationstart"),N2=Dm("transitionend"),k2=new Map,tE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){k2.set(t,e),ua(e,[t])}for(var Iv=0;Iv<tE.length;Iv++){var Tv=tE[Iv],N5=Tv.toLowerCase(),k5=Tv[0].toUpperCase()+Tv.slice(1);zi(N5,"on"+k5)}zi(T2,"onAnimationEnd");zi(S2,"onAnimationIteration");zi(C2,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(N2,"onTransitionEnd");Vl("onMouseEnter",["mouseout","mouseover"]);Vl("onMouseLeave",["mouseout","mouseover"]);Vl("onPointerEnter",["pointerout","pointerover"]);Vl("onPointerLeave",["pointerout","pointerover"]);ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R5=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function nE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NL(r,e,void 0,t),t.currentTarget=null}function R2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;nE(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;nE(s,a,u),i=l}}}if(yp)throw t=zy,yp=!1,zy=null,t}function He(t,e){var n=e[Zy];n===void 0&&(n=e[Zy]=new Set);var r=t+"__bubble";n.has(r)||(P2(e,t,2,!1),n.add(r))}function Sv(t,e,n){var r=0;e&&(r|=4),P2(n,t,r,e)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[Zh]){t[Zh]=!0,VC.forEach(function(n){n!=="selectionchange"&&(R5.has(n)||Sv(n,!1,t),Sv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zh]||(e[Zh]=!0,Sv("selectionchange",!1,e))}}function P2(t,e,n,r){switch(p2(e)){case 1:var s=qL;break;case 4:s=HL;break;default:s=rx}n=s.bind(null,e,n,t),s=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}e2(function(){var u=i,f=Zw(n),h=[];e:{var p=k2.get(t);if(p!==void 0){var m=ix,_=t;switch(t){case"keypress":if(Af(n)===0)break e;case"keydown":case"keyup":m=o5;break;case"focusin":_="focus",m=xv;break;case"focusout":_="blur",m=xv;break;case"beforeblur":case"afterblur":m=xv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=GL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=c5;break;case T2:case S2:case C2:m=JL;break;case N2:m=d5;break;case"scroll":m=KL;break;case"wheel":m=f5;break;case"copy":case"cut":case"paste":m=ZL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=K1}var w=(e&4)!==0,y=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var b=u,E;b!==null;){E=b;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,x!==null&&(C=Ku(b,x),C!=null&&w.push(Zu(b,C,E)))),y)break;b=b.return}0<w.length&&(p=new m(p,_,null,n,f),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==$y&&(_=n.relatedTarget||n.fromElement)&&(xo(_)||_[gs]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?xo(_):null,_!==null&&(y=da(_),_!==y||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(w=q1,C="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=K1,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:Za(m),E=_==null?p:Za(_),p=new w(C,b+"leave",m,n,f),p.target=y,p.relatedTarget=E,C=null,xo(f)===u&&(w=new w(x,b+"enter",_,n,f),w.target=E,w.relatedTarget=y,C=w),y=C,m&&_)t:{for(w=m,x=_,b=0,E=w;E;E=Na(E))b++;for(E=0,C=x;C;C=Na(C))E++;for(;0<b-E;)w=Na(w),b--;for(;0<E-b;)x=Na(x),E--;for(;b--;){if(w===x||x!==null&&w===x.alternate)break t;w=Na(w),x=Na(x)}w=null}else w=null;m!==null&&rE(h,p,m,w,!1),_!==null&&y!==null&&rE(h,y,_,w,!0)}}e:{if(p=u?Za(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=x5;else if(Q1(p))if(x2)j=I5;else{j=b5;var O=_5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=E5);if(j&&(j=j(t,u))){w2(h,j,n,f);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Oy(p,"number",p.value)}switch(O=u?Za(u):window,t){case"focusin":(Q1(O)||O.contentEditable==="true")&&(Ja=O,Wy=u,Tu=null);break;case"focusout":Tu=Wy=Ja=null;break;case"mousedown":Gy=!0;break;case"contextmenu":case"mouseup":case"dragend":Gy=!1,eE(h,n,f);break;case"selectionchange":if(C5)break;case"keydown":case"keyup":eE(h,n,f)}var S;if(ax)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ya?v2(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(g2&&n.locale!=="ko"&&(Ya||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ya&&(S=m2()):(di=f,sx="value"in di?di.value:di.textContent,Ya=!0)),O=Ep(u,I),0<O.length&&(I=new H1(I,t,null,n,f),h.push({event:I,listeners:O}),S?I.data=S:(S=y2(n),S!==null&&(I.data=S)))),(S=m5?g5(t,n):v5(t,n))&&(u=Ep(u,"onBeforeInput"),0<u.length&&(f=new H1("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=S))}R2(h,e)})}function Zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ep(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ku(t,n),i!=null&&r.unshift(Zu(t,i,s)),i=Ku(t,e),i!=null&&r.push(Zu(t,i,s))),t=t.return}return r}function Na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ku(n,i),l!=null&&o.unshift(Zu(n,l,a))):s||(l=Ku(n,i),l!=null&&o.push(Zu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var P5=/\r\n?/g,A5=/\u0000|\uFFFD/g;function sE(t){return(typeof t=="string"?t:""+t).replace(P5,`
`).replace(A5,"")}function ef(t,e,n){if(e=sE(e),sE(t)!==e&&n)throw Error(Y(425))}function Ip(){}var Qy=null,Yy=null;function Jy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xy=typeof setTimeout=="function"?setTimeout:void 0,j5=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,D5=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(t){return iE.resolve(null).then(t).catch(O5)}:Xy;function O5(t){setTimeout(function(){throw t})}function Nv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qu(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fc=Math.random().toString(36).slice(2),Nr="__reactFiber$"+fc,ed="__reactProps$"+fc,gs="__reactContainer$"+fc,Zy="__reactEvents$"+fc,M5="__reactListeners$"+fc,L5="__reactHandles$"+fc;function xo(t){var e=t[Nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gs]||n[Nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oE(t);t!==null;){if(n=t[Nr])return n;t=oE(t)}return e}t=n,n=t.parentNode}return null}function Gd(t){return t=t[Nr]||t[gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Om(t){return t[ed]||null}var e0=[],el=-1;function qi(t){return{current:t}}function Ke(t){0>el||(t.current=e0[el],e0[el]=null,el--)}function Be(t,e){el++,e0[el]=t.current,t.current=e}var Oi={},Gt=qi(Oi),mn=qi(!1),zo=Oi;function Fl(t,e){var n=t.type.contextTypes;if(!n)return Oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function Tp(){Ke(mn),Ke(Gt)}function aE(t,e,n){if(Gt.current!==Oi)throw Error(Y(168));Be(Gt,e),Be(mn,n)}function A2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,_L(t)||"Unknown",s));return tt({},n,r)}function Sp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,zo=Gt.current,Be(Gt,t),Be(mn,mn.current),!0}function lE(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=A2(t,e,zo),r.__reactInternalMemoizedMergedChildContext=t,Ke(mn),Ke(Gt),Be(Gt,t)):Ke(mn),Be(mn,n)}var ns=null,Mm=!1,kv=!1;function j2(t){ns===null?ns=[t]:ns.push(t)}function V5(t){Mm=!0,j2(t)}function Hi(){if(!kv&&ns!==null){kv=!0;var t=0,e=Me;try{var n=ns;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ns=null,Mm=!1}catch(s){throw ns!==null&&(ns=ns.slice(t+1)),s2(ex,Hi),s}finally{Me=e,kv=!1}}return null}var tl=[],nl=0,Cp=null,Np=0,Fn=[],$n=0,qo=null,ss=1,is="";function uo(t,e){tl[nl++]=Np,tl[nl++]=Cp,Cp=t,Np=e}function D2(t,e,n){Fn[$n++]=ss,Fn[$n++]=is,Fn[$n++]=qo,qo=t;var r=ss;t=is;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ss=1<<32-ur(e)+s|n<<s|r,is=i+t}else ss=1<<i|n<<s|r,is=t}function cx(t){t.return!==null&&(uo(t,1),D2(t,1,0))}function ux(t){for(;t===Cp;)Cp=tl[--nl],tl[nl]=null,Np=tl[--nl],tl[nl]=null;for(;t===qo;)qo=Fn[--$n],Fn[$n]=null,is=Fn[--$n],Fn[$n]=null,ss=Fn[--$n],Fn[$n]=null}var Nn=null,Sn=null,Ge=!1,or=null;function O2(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,Sn=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qo!==null?{id:ss,overflow:is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,Sn=null,!0):!1;default:return!1}}function t0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function n0(t){if(Ge){var e=Sn;if(e){var n=e;if(!cE(t,e)){if(t0(t))throw Error(Y(418));e=wi(n.nextSibling);var r=Nn;e&&cE(t,e)?O2(r,n):(t.flags=t.flags&-4097|2,Ge=!1,Nn=t)}}else{if(t0(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ge=!1,Nn=t}}}function uE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function tf(t){if(t!==Nn)return!1;if(!Ge)return uE(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jy(t.type,t.memoizedProps)),e&&(e=Sn)){if(t0(t))throw M2(),Error(Y(418));for(;e;)O2(t,e),e=wi(e.nextSibling)}if(uE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=Nn?wi(t.stateNode.nextSibling):null;return!0}function M2(){for(var t=Sn;t;)t=wi(t.nextSibling)}function $l(){Sn=Nn=null,Ge=!1}function dx(t){or===null?or=[t]:or.push(t)}var F5=Cs.ReactCurrentBatchConfig;function Kc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function nf(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dE(t){var e=t._init;return e(t._payload)}function L2(t){function e(x,b){if(t){var E=x.deletions;E===null?(x.deletions=[b],x.flags|=16):E.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Ei(x,b),x.index=0,x.sibling=null,x}function i(x,b,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<b?(x.flags|=2,b):E):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,E,C){return b===null||b.tag!==6?(b=Mv(E,x.mode,C),b.return=x,b):(b=s(b,E),b.return=x,b)}function l(x,b,E,C){var j=E.type;return j===Qa?f(x,b,E.props.children,C,E.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qs&&dE(j)===b.type)?(C=s(b,E.props),C.ref=Kc(x,b,E),C.return=x,C):(C=Ff(E.type,E.key,E.props,null,x.mode,C),C.ref=Kc(x,b,E),C.return=x,C)}function u(x,b,E,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Lv(E,x.mode,C),b.return=x,b):(b=s(b,E.children||[]),b.return=x,b)}function f(x,b,E,C,j){return b===null||b.tag!==7?(b=Mo(E,x.mode,C,j),b.return=x,b):(b=s(b,E),b.return=x,b)}function h(x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Mv(""+b,x.mode,E),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hh:return E=Ff(b.type,b.key,b.props,null,x.mode,E),E.ref=Kc(x,null,b),E.return=x,E;case Ga:return b=Lv(b,x.mode,E),b.return=x,b;case Qs:var C=b._init;return h(x,C(b._payload),E)}if(cu(b)||Uc(b))return b=Mo(b,x.mode,E,null),b.return=x,b;nf(x,b)}return null}function p(x,b,E,C){var j=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return j!==null?null:a(x,b,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hh:return E.key===j?l(x,b,E,C):null;case Ga:return E.key===j?u(x,b,E,C):null;case Qs:return j=E._init,p(x,b,j(E._payload),C)}if(cu(E)||Uc(E))return j!==null?null:f(x,b,E,C,null);nf(x,E)}return null}function m(x,b,E,C,j){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(E)||null,a(b,x,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Hh:return x=x.get(C.key===null?E:C.key)||null,l(b,x,C,j);case Ga:return x=x.get(C.key===null?E:C.key)||null,u(b,x,C,j);case Qs:var O=C._init;return m(x,b,E,O(C._payload),j)}if(cu(C)||Uc(C))return x=x.get(E)||null,f(b,x,C,j,null);nf(b,C)}return null}function _(x,b,E,C){for(var j=null,O=null,S=b,I=b=0,P=null;S!==null&&I<E.length;I++){S.index>I?(P=S,S=null):P=S.sibling;var k=p(x,S,E[I],C);if(k===null){S===null&&(S=P);break}t&&S&&k.alternate===null&&e(x,S),b=i(k,b,I),O===null?j=k:O.sibling=k,O=k,S=P}if(I===E.length)return n(x,S),Ge&&uo(x,I),j;if(S===null){for(;I<E.length;I++)S=h(x,E[I],C),S!==null&&(b=i(S,b,I),O===null?j=S:O.sibling=S,O=S);return Ge&&uo(x,I),j}for(S=r(x,S);I<E.length;I++)P=m(S,x,I,E[I],C),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?I:P.key),b=i(P,b,I),O===null?j=P:O.sibling=P,O=P);return t&&S.forEach(function(D){return e(x,D)}),Ge&&uo(x,I),j}function w(x,b,E,C){var j=Uc(E);if(typeof j!="function")throw Error(Y(150));if(E=j.call(E),E==null)throw Error(Y(151));for(var O=j=null,S=b,I=b=0,P=null,k=E.next();S!==null&&!k.done;I++,k=E.next()){S.index>I?(P=S,S=null):P=S.sibling;var D=p(x,S,k.value,C);if(D===null){S===null&&(S=P);break}t&&S&&D.alternate===null&&e(x,S),b=i(D,b,I),O===null?j=D:O.sibling=D,O=D,S=P}if(k.done)return n(x,S),Ge&&uo(x,I),j;if(S===null){for(;!k.done;I++,k=E.next())k=h(x,k.value,C),k!==null&&(b=i(k,b,I),O===null?j=k:O.sibling=k,O=k);return Ge&&uo(x,I),j}for(S=r(x,S);!k.done;I++,k=E.next())k=m(S,x,I,k.value,C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?I:k.key),b=i(k,b,I),O===null?j=k:O.sibling=k,O=k);return t&&S.forEach(function(N){return e(x,N)}),Ge&&uo(x,I),j}function y(x,b,E,C){if(typeof E=="object"&&E!==null&&E.type===Qa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Hh:e:{for(var j=E.key,O=b;O!==null;){if(O.key===j){if(j=E.type,j===Qa){if(O.tag===7){n(x,O.sibling),b=s(O,E.props.children),b.return=x,x=b;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qs&&dE(j)===O.type){n(x,O.sibling),b=s(O,E.props),b.ref=Kc(x,O,E),b.return=x,x=b;break e}n(x,O);break}else e(x,O);O=O.sibling}E.type===Qa?(b=Mo(E.props.children,x.mode,C,E.key),b.return=x,x=b):(C=Ff(E.type,E.key,E.props,null,x.mode,C),C.ref=Kc(x,b,E),C.return=x,x=C)}return o(x);case Ga:e:{for(O=E.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(x,b.sibling),b=s(b,E.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Lv(E,x.mode,C),b.return=x,x=b}return o(x);case Qs:return O=E._init,y(x,b,O(E._payload),C)}if(cu(E))return _(x,b,E,C);if(Uc(E))return w(x,b,E,C);nf(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(x,b.sibling),b=s(b,E),b.return=x,x=b):(n(x,b),b=Mv(E,x.mode,C),b.return=x,x=b),o(x)):n(x,b)}return y}var Ul=L2(!0),V2=L2(!1),kp=qi(null),Rp=null,rl=null,hx=null;function fx(){hx=rl=Rp=null}function px(t){var e=kp.current;Ke(kp),t._currentValue=e}function r0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ul(t,e){Rp=t,hx=rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(hx!==t)if(t={context:t,memoizedValue:e,next:null},rl===null){if(Rp===null)throw Error(Y(308));rl=t,Rp.dependencies={lanes:0,firstContext:t}}else rl=rl.next=t;return e}var _o=null;function mx(t){_o===null?_o=[t]:_o.push(t)}function F2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,mx(e)):(n.next=s.next,s.next=n),e.interleaved=n,vs(t,r)}function vs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ys=!1;function gx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,vs(t,n)}return s=r.interleaved,s===null?(e.next=e,mx(r)):(e.next=s.next,s.next=e),r.interleaved=e,vs(t,n)}function jf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tx(t,n)}}function hE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pp(t,e,n,r){var s=t.updateQueue;Ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,f=u=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(p=e,m=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(m,h,p);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,p=typeof _=="function"?_.call(m,h,p):_,p==null)break e;h=tt({},h,p);break e;case 2:Ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(f===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ko|=o,t.lanes=o,t.memoizedState=h}}function fE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Qd={},Mr=qi(Qd),td=qi(Qd),nd=qi(Qd);function bo(t){if(t===Qd)throw Error(Y(174));return t}function vx(t,e){switch(Be(nd,e),Be(td,t),Be(Mr,Qd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ly(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ly(e,t)}Ke(Mr),Be(Mr,e)}function Bl(){Ke(Mr),Ke(td),Ke(nd)}function U2(t){bo(nd.current);var e=bo(Mr.current),n=Ly(e,t.type);e!==n&&(Be(td,t),Be(Mr,n))}function yx(t){td.current===t&&(Ke(Mr),Ke(td))}var Je=qi(0);function Ap(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rv=[];function wx(){for(var t=0;t<Rv.length;t++)Rv[t]._workInProgressVersionPrimary=null;Rv.length=0}var Df=Cs.ReactCurrentDispatcher,Pv=Cs.ReactCurrentBatchConfig,Ho=0,Ze=null,mt=null,Tt=null,jp=!1,Su=!1,rd=0,$5=0;function $t(){throw Error(Y(321))}function xx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function _x(t,e,n,r,s,i){if(Ho=i,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Df.current=t===null||t.memoizedState===null?q5:H5,t=n(r,s),Su){i=0;do{if(Su=!1,rd=0,25<=i)throw Error(Y(301));i+=1,Tt=mt=null,e.updateQueue=null,Df.current=K5,t=n(r,s)}while(Su)}if(Df.current=Dp,e=mt!==null&&mt.next!==null,Ho=0,Tt=mt=Ze=null,jp=!1,e)throw Error(Y(300));return t}function bx(){var t=rd!==0;return rd=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ze.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Gn(){if(mt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Tt===null?Ze.memoizedState:Tt.next;if(e!==null)Tt=e,mt=t;else{if(t===null)throw Error(Y(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?Ze.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function sd(t,e){return typeof e=="function"?e(t):e}function Av(t){var e=Gn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var f=u.lane;if((Ho&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ze.lanes|=f,Ko|=f}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,fr(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ze.lanes|=i,Ko|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jv(t){var e=Gn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function B2(){}function z2(t,e){var n=Ze,r=Gn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,fn=!0),r=r.queue,Ex(K2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,id(9,H2.bind(null,n,r,s,e),void 0,null),St===null)throw Error(Y(349));Ho&30||q2(n,e,s)}return s}function q2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function H2(t,e,n,r){e.value=n,e.getSnapshot=r,W2(e)&&G2(t)}function K2(t,e,n){return n(function(){W2(e)&&G2(t)})}function W2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function G2(t){var e=vs(t,1);e!==null&&dr(e,t,1,-1)}function pE(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:t},e.queue=t,t=t.dispatch=z5.bind(null,Ze,t),[e.memoizedState,t]}function id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q2(){return Gn().memoizedState}function Of(t,e,n,r){var s=Er();Ze.flags|=t,s.memoizedState=id(1|e,n,void 0,r===void 0?null:r)}function Lm(t,e,n,r){var s=Gn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&xx(r,o.deps)){s.memoizedState=id(e,n,i,r);return}}Ze.flags|=t,s.memoizedState=id(1|e,n,i,r)}function mE(t,e){return Of(8390656,8,t,e)}function Ex(t,e){return Lm(2048,8,t,e)}function Y2(t,e){return Lm(4,2,t,e)}function J2(t,e){return Lm(4,4,t,e)}function X2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Z2(t,e,n){return n=n!=null?n.concat([t]):null,Lm(4,4,X2.bind(null,e,t),n)}function Ix(){}function eN(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tN(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nN(t,e,n){return Ho&21?(fr(n,e)||(n=a2(),Ze.lanes|=n,Ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function U5(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Pv.transition;Pv.transition={};try{t(!1),e()}finally{Me=n,Pv.transition=r}}function rN(){return Gn().memoizedState}function B5(t,e,n){var r=bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sN(t))iN(e,n);else if(n=F2(t,e,n,r),n!==null){var s=nn();dr(n,t,r,s),oN(n,e,r)}}function z5(t,e,n){var r=bi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sN(t))iN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fr(a,o)){var l=e.interleaved;l===null?(s.next=s,mx(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=F2(t,e,s,r),n!==null&&(s=nn(),dr(n,t,r,s),oN(n,e,r))}}function sN(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function iN(t,e){Su=jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tx(t,n)}}var Dp={readContext:Wn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},q5={readContext:Wn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:mE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Of(4194308,4,X2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Of(4194308,4,t,e)},useInsertionEffect:function(t,e){return Of(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=B5.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:pE,useDebugValue:Ix,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=pE(!1),e=t[0];return t=U5.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,s=Er();if(Ge){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),St===null)throw Error(Y(349));Ho&30||q2(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,mE(K2.bind(null,r,i,t),[t]),r.flags|=2048,id(9,H2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Er(),e=St.identifierPrefix;if(Ge){var n=is,r=ss;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},H5={readContext:Wn,useCallback:eN,useContext:Wn,useEffect:Ex,useImperativeHandle:Z2,useInsertionEffect:Y2,useLayoutEffect:J2,useMemo:tN,useReducer:Av,useRef:Q2,useState:function(){return Av(sd)},useDebugValue:Ix,useDeferredValue:function(t){var e=Gn();return nN(e,mt.memoizedState,t)},useTransition:function(){var t=Av(sd)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:B2,useSyncExternalStore:z2,useId:rN,unstable_isNewReconciler:!1},K5={readContext:Wn,useCallback:eN,useContext:Wn,useEffect:Ex,useImperativeHandle:Z2,useInsertionEffect:Y2,useLayoutEffect:J2,useMemo:tN,useReducer:jv,useRef:Q2,useState:function(){return jv(sd)},useDebugValue:Ix,useDeferredValue:function(t){var e=Gn();return mt===null?e.memoizedState=t:nN(e,mt.memoizedState,t)},useTransition:function(){var t=jv(sd)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:B2,useSyncExternalStore:z2,useId:rN,unstable_isNewReconciler:!1};function tr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function s0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vm={isMounted:function(t){return(t=t._reactInternals)?da(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),s=bi(t),i=ds(r,s);i.payload=e,n!=null&&(i.callback=n),e=xi(t,i,s),e!==null&&(dr(e,t,s,r),jf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),s=bi(t),i=ds(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xi(t,i,s),e!==null&&(dr(e,t,s,r),jf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=bi(t),s=ds(n,r);s.tag=2,e!=null&&(s.callback=e),e=xi(t,s,r),e!==null&&(dr(e,t,r,n),jf(e,t,r))}};function gE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ju(n,r)||!Ju(s,i):!0}function aN(t,e,n){var r=!1,s=Oi,i=e.contextType;return typeof i=="object"&&i!==null?i=Wn(i):(s=gn(e)?zo:Gt.current,r=e.contextTypes,i=(r=r!=null)?Fl(t,s):Oi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vm.enqueueReplaceState(e,e.state,null)}function i0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},gx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wn(i):(i=gn(e)?zo:Gt.current,s.context=Fl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(s0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vm.enqueueReplaceState(s,s.state,null),Pp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zl(t,e){try{var n="",r=e;do n+=xL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Dv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function o0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var W5=typeof WeakMap=="function"?WeakMap:Map;function lN(t,e,n){n=ds(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mp||(Mp=!0,g0=r),o0(t,e)},n}function cN(t,e,n){n=ds(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){o0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){o0(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new W5;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=a3.bind(null,t,e,n),e.then(t,t))}function wE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ds(-1,1),e.tag=2,xi(n,e,1))),n.lanes|=1),t)}var G5=Cs.ReactCurrentOwner,fn=!1;function Zt(t,e,n,r){e.child=t===null?V2(e,null,n,r):Ul(e,t.child,n,r)}function _E(t,e,n,r,s){n=n.render;var i=e.ref;return ul(e,s),r=_x(t,e,n,r,i,s),n=bx(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ys(t,e,s)):(Ge&&n&&cx(e),e.flags|=1,Zt(t,e,r,s),e.child)}function bE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ax(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,uN(t,e,i,r,s)):(t=Ff(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ju,n(o,r)&&t.ref===e.ref)return ys(t,e,s)}return e.flags|=1,t=Ei(i,r),t.ref=e.ref,t.return=e,e.child=t}function uN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ju(i,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,ys(t,e,s)}return a0(t,e,n,r,s)}function dN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(il,bn),bn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(il,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(il,bn),bn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(il,bn),bn|=r;return Zt(t,e,s,n),e.child}function hN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a0(t,e,n,r,s){var i=gn(n)?zo:Gt.current;return i=Fl(e,i),ul(e,s),n=_x(t,e,n,r,i,s),r=bx(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ys(t,e,s)):(Ge&&r&&cx(e),e.flags|=1,Zt(t,e,n,s),e.child)}function EE(t,e,n,r,s){if(gn(n)){var i=!0;Sp(e)}else i=!1;if(ul(e,s),e.stateNode===null)Mf(t,e),aN(e,n,r),i0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=gn(n)?zo:Gt.current,u=Fl(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vE(e,o,r,u),Ys=!1;var p=e.memoizedState;o.state=p,Pp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||mn.current||Ys?(typeof f=="function"&&(s0(e,n,f,r),l=e.memoizedState),(a=Ys||gE(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:tr(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=gn(n)?zo:Gt.current,l=Fl(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&vE(e,o,r,l),Ys=!1,p=e.memoizedState,o.state=p,Pp(e,r,o,s);var _=e.memoizedState;a!==h||p!==_||mn.current||Ys?(typeof m=="function"&&(s0(e,n,m,r),_=e.memoizedState),(u=Ys||gE(e,n,u,r,p,_,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return l0(t,e,n,r,i,s)}function l0(t,e,n,r,s,i){hN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&lE(e,n,!1),ys(t,e,i);r=e.stateNode,G5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ul(e,t.child,null,i),e.child=Ul(e,null,a,i)):Zt(t,e,a,i),e.memoizedState=r.state,s&&lE(e,n,!0),e.child}function fN(t){var e=t.stateNode;e.pendingContext?aE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aE(t,e.context,!1),vx(t,e.containerInfo)}function IE(t,e,n,r,s){return $l(),dx(s),e.flags|=256,Zt(t,e,n,r),e.child}var c0={dehydrated:null,treeContext:null,retryLane:0};function u0(t){return{baseLanes:t,cachePool:null,transitions:null}}function pN(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Je,s&1),t===null)return n0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Um(o,r,0,null),t=Mo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=u0(n),e.memoizedState=c0,t):Tx(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Q5(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ei(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ei(a,i):(i=Mo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?u0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=c0,r}return i=t.child,t=i.sibling,r=Ei(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tx(t,e){return e=Um({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rf(t,e,n,r){return r!==null&&dx(r),Ul(e,t.child,null,n),t=Tx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q5(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Dv(Error(Y(422))),rf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Um({mode:"visible",children:r.children},s,0,null),i=Mo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ul(e,t.child,null,o),e.child.memoizedState=u0(o),e.memoizedState=c0,i);if(!(e.mode&1))return rf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=Dv(i,r,void 0),rf(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=St,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vs(t,s),dr(r,t,s,-1))}return Px(),r=Dv(Error(Y(421))),rf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=l3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sn=wi(s.nextSibling),Nn=e,Ge=!0,or=null,t!==null&&(Fn[$n++]=ss,Fn[$n++]=is,Fn[$n++]=qo,ss=t.id,is=t.overflow,qo=e),e=Tx(e,r.children),e.flags|=4096,e)}function TE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),r0(t.return,e,n)}function Ov(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function mN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TE(t,n,e);else if(t.tag===19)TE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ap(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ov(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ap(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ov(e,!0,n,null,i);break;case"together":Ov(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y5(t,e,n){switch(e.tag){case 3:fN(e),$l();break;case 5:U2(e);break;case 1:gn(e.type)&&Sp(e);break;case 4:vx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(kp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?pN(t,e,n):(Be(Je,Je.current&1),t=ys(t,e,n),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,dN(t,e,n)}return ys(t,e,n)}var gN,d0,vN,yN;gN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};d0=function(){};vN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bo(Mr.current);var i=null;switch(n){case"input":s=jy(t,s),r=jy(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=My(t,s),r=My(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ip)}Vy(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};yN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wc(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function J5(t,e,n){var r=e.pendingProps;switch(ux(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return gn(e.type)&&Tp(),Ut(e),null;case 3:return r=e.stateNode,Bl(),Ke(mn),Ke(Gt),wx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(w0(or),or=null))),d0(t,e),Ut(e),null;case 5:yx(e);var s=bo(nd.current);if(n=e.type,t!==null&&e.stateNode!=null)vN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Ut(e),null}if(t=bo(Mr.current),tf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nr]=e,r[ed]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<du.length;s++)He(du[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":D1(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":M1(r,i),He("invalid",r)}Vy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ef(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ef(r.textContent,a,t),s=["children",""+a]):qu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Kh(r),O1(r,i,!0);break;case"textarea":Kh(r),L1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ip)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nr]=e,t[ed]=r,gN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fy(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<du.length;s++)He(du[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":D1(t,r),s=jy(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),He("invalid",t);break;case"textarea":M1(t,r),s=My(t,r),He("invalid",t);break;default:s=r}Vy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?QC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&WC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hu(t,l):typeof l=="number"&&Hu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&Qw(t,i,l,o))}switch(n){case"input":Kh(t),O1(t,r,!1);break;case"textarea":Kh(t),L1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ol(t,!!r.multiple,i,!1):r.defaultValue!=null&&ol(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ip)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)yN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=bo(nd.current),bo(Mr.current),tf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nr]=e,(i=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:ef(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ef(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Ke(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Sn!==null&&e.mode&1&&!(e.flags&128))M2(),$l(),e.flags|=98560,i=!1;else if(i=tf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Nr]=e}else $l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else or!==null&&(w0(or),or=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?gt===0&&(gt=3):Px())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Bl(),d0(t,e),t===null&&Xu(e.stateNode.containerInfo),Ut(e),null;case 10:return px(e.type._context),Ut(e),null;case 17:return gn(e.type)&&Tp(),Ut(e),null;case 19:if(Ke(Je),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wc(i,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ap(t),o!==null){for(e.flags|=128,Wc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&at()>ql&&(e.flags|=128,r=!0,Wc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ap(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ge)return Ut(e),null}else 2*at()-i.renderingStartTime>ql&&n!==1073741824&&(e.flags|=128,r=!0,Wc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=at(),e.sibling=null,n=Je.current,Be(Je,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Rx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function X5(t,e){switch(ux(e),e.tag){case 1:return gn(e.type)&&Tp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bl(),Ke(mn),Ke(Gt),wx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yx(e),null;case 13:if(Ke(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));$l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Je),null;case 4:return Bl(),null;case 10:return px(e.type._context),null;case 22:case 23:return Rx(),null;case 24:return null;default:return null}}var sf=!1,Ht=!1,Z5=typeof WeakSet=="function"?WeakSet:Set,re=null;function sl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function h0(t,e,n){try{n()}catch(r){it(t,e,r)}}var SE=!1;function e3(t,e){if(Qy=_p,t=E2(),lx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++f===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yy={focusedElem:t,selectionRange:n},_p=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,y=_.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:tr(e.type,w),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(C){it(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return _=SE,SE=!1,_}function Cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&h0(e,n,i)}s=s.next}while(s!==r)}}function Fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function f0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wN(t){var e=t.alternate;e!==null&&(t.alternate=null,wN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nr],delete e[ed],delete e[Zy],delete e[M5],delete e[L5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xN(t){return t.tag===5||t.tag===3||t.tag===4}function CE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function p0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ip));else if(r!==4&&(t=t.child,t!==null))for(p0(t,e,n),t=t.sibling;t!==null;)p0(t,e,n),t=t.sibling}function m0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(m0(t,e,n),t=t.sibling;t!==null;)m0(t,e,n),t=t.sibling}var Rt=null,sr=!1;function $s(t,e,n){for(n=n.child;n!==null;)_N(t,e,n),n=n.sibling}function _N(t,e,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Pm,n)}catch{}switch(n.tag){case 5:Ht||sl(n,e);case 6:var r=Rt,s=sr;Rt=null,$s(t,e,n),Rt=r,sr=s,Rt!==null&&(sr?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(sr?(t=Rt,n=n.stateNode,t.nodeType===8?Nv(t.parentNode,n):t.nodeType===1&&Nv(t,n),Qu(t)):Nv(Rt,n.stateNode));break;case 4:r=Rt,s=sr,Rt=n.stateNode.containerInfo,sr=!0,$s(t,e,n),Rt=r,sr=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&h0(n,e,o),s=s.next}while(s!==r)}$s(t,e,n);break;case 1:if(!Ht&&(sl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}$s(t,e,n);break;case 21:$s(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,$s(t,e,n),Ht=r):$s(t,e,n);break;default:$s(t,e,n)}}function NE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z5),e.forEach(function(r){var s=c3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,sr=!1;break e;case 3:Rt=a.stateNode.containerInfo,sr=!0;break e;case 4:Rt=a.stateNode.containerInfo,sr=!0;break e}a=a.return}if(Rt===null)throw Error(Y(160));_N(i,o,s),Rt=null,sr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){it(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bN(e,t),e=e.sibling}function bN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),_r(t),r&4){try{Cu(3,t,t.return),Fm(3,t)}catch(w){it(t,t.return,w)}try{Cu(5,t,t.return)}catch(w){it(t,t.return,w)}}break;case 1:er(e,t),_r(t),r&512&&n!==null&&sl(n,n.return);break;case 5:if(er(e,t),_r(t),r&512&&n!==null&&sl(n,n.return),t.flags&32){var s=t.stateNode;try{Hu(s,"")}catch(w){it(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&qC(s,i),Fy(a,o);var u=Fy(a,i);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?QC(s,h):f==="dangerouslySetInnerHTML"?WC(s,h):f==="children"?Hu(s,h):Qw(s,f,h,u)}switch(a){case"input":Dy(s,i);break;case"textarea":HC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ol(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?ol(s,!!i.multiple,i.defaultValue,!0):ol(s,!!i.multiple,i.multiple?[]:"",!1))}s[ed]=i}catch(w){it(t,t.return,w)}}break;case 6:if(er(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){it(t,t.return,w)}}break;case 3:if(er(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qu(e.containerInfo)}catch(w){it(t,t.return,w)}break;case 4:er(e,t),_r(t);break;case 13:er(e,t),_r(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Nx=at())),r&4&&NE(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(u=Ht)||f,er(e,t),Ht=u):er(e,t),_r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(re=t,f=t.child;f!==null;){for(h=re=f;re!==null;){switch(p=re,m=p.child,p.tag){case 0:case 11:case 14:case 15:Cu(4,p,p.return);break;case 1:sl(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){it(r,n,w)}}break;case 5:sl(p,p.return);break;case 22:if(p.memoizedState!==null){RE(h);continue}}m!==null?(m.return=p,re=m):RE(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GC("display",o))}catch(w){it(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){it(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:er(e,t),_r(t),r&4&&NE(t);break;case 21:break;default:er(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xN(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hu(s,""),r.flags&=-33);var i=CE(t);m0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=CE(t);p0(t,a,o);break;default:throw Error(Y(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t3(t,e,n){re=t,EN(t)}function EN(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||sf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=sf;var u=Ht;if(sf=o,(Ht=l)&&!u)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?PE(s):l!==null?(l.return=o,re=l):PE(s);for(;i!==null;)re=i,EN(i),i=i.sibling;re=s,sf=a,Ht=u}kE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):kE(t)}}function kE(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&fE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Qu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Ht||e.flags&512&&f0(e)}catch(p){it(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function RE(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function PE(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fm(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){it(e,s,l)}}var i=e.return;try{f0(e)}catch(l){it(e,i,l)}break;case 5:var o=e.return;try{f0(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var n3=Math.ceil,Op=Cs.ReactCurrentDispatcher,Sx=Cs.ReactCurrentOwner,zn=Cs.ReactCurrentBatchConfig,Pe=0,St=null,dt=null,Ot=0,bn=0,il=qi(0),gt=0,od=null,Ko=0,$m=0,Cx=0,Nu=null,hn=null,Nx=0,ql=1/0,ts=null,Mp=!1,g0=null,_i=null,of=!1,hi=null,Lp=0,ku=0,v0=null,Lf=-1,Vf=0;function nn(){return Pe&6?at():Lf!==-1?Lf:Lf=at()}function bi(t){return t.mode&1?Pe&2&&Ot!==0?Ot&-Ot:F5.transition!==null?(Vf===0&&(Vf=a2()),Vf):(t=Me,t!==0||(t=window.event,t=t===void 0?16:p2(t.type)),t):1}function dr(t,e,n,r){if(50<ku)throw ku=0,v0=null,Error(Y(185));Kd(t,n,r),(!(Pe&2)||t!==St)&&(t===St&&(!(Pe&2)&&($m|=n),gt===4&&Xs(t,Ot)),vn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(ql=at()+500,Mm&&Hi()))}function vn(t,e){var n=t.callbackNode;FL(t,e);var r=xp(t,t===St?Ot:0);if(r===0)n!==null&&$1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$1(n),e===1)t.tag===0?V5(AE.bind(null,t)):j2(AE.bind(null,t)),D5(function(){!(Pe&6)&&Hi()}),n=null;else{switch(l2(r)){case 1:n=ex;break;case 4:n=i2;break;case 16:n=wp;break;case 536870912:n=o2;break;default:n=wp}n=PN(n,IN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IN(t,e){if(Lf=-1,Vf=0,Pe&6)throw Error(Y(327));var n=t.callbackNode;if(dl()&&t.callbackNode!==n)return null;var r=xp(t,t===St?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vp(t,r);else{e=r;var s=Pe;Pe|=2;var i=SN();(St!==t||Ot!==e)&&(ts=null,ql=at()+500,Oo(t,e));do try{i3();break}catch(a){TN(t,a)}while(1);fx(),Op.current=i,Pe=s,dt!==null?e=0:(St=null,Ot=0,e=gt)}if(e!==0){if(e===2&&(s=qy(t),s!==0&&(r=s,e=y0(t,s))),e===1)throw n=od,Oo(t,0),Xs(t,r),vn(t,at()),n;if(e===6)Xs(t,r);else{if(s=t.current.alternate,!(r&30)&&!r3(s)&&(e=Vp(t,r),e===2&&(i=qy(t),i!==0&&(r=i,e=y0(t,i))),e===1))throw n=od,Oo(t,0),Xs(t,r),vn(t,at()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:ho(t,hn,ts);break;case 3:if(Xs(t,r),(r&130023424)===r&&(e=Nx+500-at(),10<e)){if(xp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xy(ho.bind(null,t,hn,ts),e);break}ho(t,hn,ts);break;case 4:if(Xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n3(r/1960))-r,10<r){t.timeoutHandle=Xy(ho.bind(null,t,hn,ts),r);break}ho(t,hn,ts);break;case 5:ho(t,hn,ts);break;default:throw Error(Y(329))}}}return vn(t,at()),t.callbackNode===n?IN.bind(null,t):null}function y0(t,e){var n=Nu;return t.current.memoizedState.isDehydrated&&(Oo(t,e).flags|=256),t=Vp(t,e),t!==2&&(e=hn,hn=n,e!==null&&w0(e)),t}function w0(t){hn===null?hn=t:hn.push.apply(hn,t)}function r3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e){for(e&=~Cx,e&=~$m,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function AE(t){if(Pe&6)throw Error(Y(327));dl();var e=xp(t,0);if(!(e&1))return vn(t,at()),null;var n=Vp(t,e);if(t.tag!==0&&n===2){var r=qy(t);r!==0&&(e=r,n=y0(t,r))}if(n===1)throw n=od,Oo(t,0),Xs(t,e),vn(t,at()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ho(t,hn,ts),vn(t,at()),null}function kx(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(ql=at()+500,Mm&&Hi())}}function Wo(t){hi!==null&&hi.tag===0&&!(Pe&6)&&dl();var e=Pe;Pe|=1;var n=zn.transition,r=Me;try{if(zn.transition=null,Me=1,t)return t()}finally{Me=r,zn.transition=n,Pe=e,!(Pe&6)&&Hi()}}function Rx(){bn=il.current,Ke(il)}function Oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,j5(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(ux(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tp();break;case 3:Bl(),Ke(mn),Ke(Gt),wx();break;case 5:yx(r);break;case 4:Bl();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:px(r.type._context);break;case 22:case 23:Rx()}n=n.return}if(St=t,dt=t=Ei(t.current,null),Ot=bn=e,gt=0,od=null,Cx=$m=Ko=0,hn=Nu=null,_o!==null){for(e=0;e<_o.length;e++)if(n=_o[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}_o=null}return t}function TN(t,e){do{var n=dt;try{if(fx(),Df.current=Dp,jp){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jp=!1}if(Ho=0,Tt=mt=Ze=null,Su=!1,rd=0,Sx.current=null,n===null||n.return===null){gt=1,od=e,dt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=wE(o);if(m!==null){m.flags&=-257,xE(m,o,a,i,e),m.mode&1&&yE(i,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){yE(i,u,e),Px();break e}l=Error(Y(426))}}else if(Ge&&a.mode&1){var y=wE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),xE(y,o,a,i,e),dx(zl(l,a));break e}}i=l=zl(l,a),gt!==4&&(gt=2),Nu===null?Nu=[i]:Nu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=lN(i,l,e);hE(i,x);break e;case 1:a=l;var b=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(_i===null||!_i.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=cN(i,a,e);hE(i,C);break e}}i=i.return}while(i!==null)}NN(n)}catch(j){e=j,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function SN(){var t=Op.current;return Op.current=Dp,t===null?Dp:t}function Px(){(gt===0||gt===3||gt===2)&&(gt=4),St===null||!(Ko&268435455)&&!($m&268435455)||Xs(St,Ot)}function Vp(t,e){var n=Pe;Pe|=2;var r=SN();(St!==t||Ot!==e)&&(ts=null,Oo(t,e));do try{s3();break}catch(s){TN(t,s)}while(1);if(fx(),Pe=n,Op.current=r,dt!==null)throw Error(Y(261));return St=null,Ot=0,gt}function s3(){for(;dt!==null;)CN(dt)}function i3(){for(;dt!==null&&!RL();)CN(dt)}function CN(t){var e=RN(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?NN(t):dt=e,Sx.current=null}function NN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=X5(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,dt=null;return}}else if(n=J5(n,e,bn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);gt===0&&(gt=5)}function ho(t,e,n){var r=Me,s=zn.transition;try{zn.transition=null,Me=1,o3(t,e,n,r)}finally{zn.transition=s,Me=r}return null}function o3(t,e,n,r){do dl();while(hi!==null);if(Pe&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($L(t,i),t===St&&(dt=St=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||of||(of=!0,PN(wp,function(){return dl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zn.transition,zn.transition=null;var o=Me;Me=1;var a=Pe;Pe|=4,Sx.current=null,e3(t,n),bN(n,t),S5(Yy),_p=!!Qy,Yy=Qy=null,t.current=n,t3(n),PL(),Pe=a,Me=o,zn.transition=i}else t.current=n;if(of&&(of=!1,hi=t,Lp=s),i=t.pendingLanes,i===0&&(_i=null),DL(n.stateNode),vn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mp)throw Mp=!1,t=g0,g0=null,t;return Lp&1&&t.tag!==0&&dl(),i=t.pendingLanes,i&1?t===v0?ku++:(ku=0,v0=t):ku=0,Hi(),null}function dl(){if(hi!==null){var t=l2(Lp),e=zn.transition,n=Me;try{if(zn.transition=null,Me=16>t?16:t,hi===null)var r=!1;else{if(t=hi,hi=null,Lp=0,Pe&6)throw Error(Y(331));var s=Pe;for(Pe|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var f=re;switch(f.tag){case 0:case 11:case 15:Cu(8,f,i)}var h=f.child;if(h!==null)h.return=f,re=h;else for(;re!==null;){f=re;var p=f.sibling,m=f.return;if(wN(f),f===u){re=null;break}if(p!==null){p.return=m,re=p;break}re=m}}}var _=i.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,re=x;break e}re=i.return}}var b=t.current;for(re=b;re!==null;){o=re;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,re=E;else e:for(o=b;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fm(9,a)}}catch(j){it(a,a.return,j)}if(a===o){re=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,re=C;break e}re=a.return}}if(Pe=s,Hi(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Pm,t)}catch{}r=!0}return r}finally{Me=n,zn.transition=e}}return!1}function jE(t,e,n){e=zl(n,e),e=lN(t,e,1),t=xi(t,e,1),e=nn(),t!==null&&(Kd(t,1,e),vn(t,e))}function it(t,e,n){if(t.tag===3)jE(t,t,n);else for(;e!==null;){if(e.tag===3){jE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=zl(n,t),t=cN(e,t,1),e=xi(e,t,1),t=nn(),e!==null&&(Kd(e,1,t),vn(e,t));break}}e=e.return}}function a3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Ot&n)===n&&(gt===4||gt===3&&(Ot&130023424)===Ot&&500>at()-Nx?Oo(t,0):Cx|=n),vn(t,e)}function kN(t,e){e===0&&(t.mode&1?(e=Qh,Qh<<=1,!(Qh&130023424)&&(Qh=4194304)):e=1);var n=nn();t=vs(t,e),t!==null&&(Kd(t,e,n),vn(t,n))}function l3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kN(t,n)}function c3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),kN(t,n)}var RN;RN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,Y5(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ge&&e.flags&1048576&&D2(e,Np,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mf(t,e),t=e.pendingProps;var s=Fl(e,Gt.current);ul(e,n),s=_x(null,e,r,t,s,n);var i=bx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,Sp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gx(e),s.updater=Vm,e.stateNode=s,s._reactInternals=e,i0(e,r,t,n),e=l0(null,e,r,!0,i,n)):(e.tag=0,Ge&&i&&cx(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=d3(r),t=tr(r,t),s){case 0:e=a0(null,e,r,t,n);break e;case 1:e=EE(null,e,r,t,n);break e;case 11:e=_E(null,e,r,t,n);break e;case 14:e=bE(null,e,r,tr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),a0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),EE(t,e,r,s,n);case 3:e:{if(fN(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$2(t,e),Pp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zl(Error(Y(423)),e),e=IE(t,e,r,n,s);break e}else if(r!==s){s=zl(Error(Y(424)),e),e=IE(t,e,r,n,s);break e}else for(Sn=wi(e.stateNode.containerInfo.firstChild),Nn=e,Ge=!0,or=null,n=V2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($l(),r===s){e=ys(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return U2(e),t===null&&n0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Jy(r,s)?o=null:i!==null&&Jy(r,i)&&(e.flags|=32),hN(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&n0(e),null;case 13:return pN(t,e,n);case 4:return vx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ul(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),_E(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(kp,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!mn.current){e=ys(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ds(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),r0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),r0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ul(e,n),s=Wn(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=tr(r,e.pendingProps),s=tr(r.type,s),bE(t,e,r,s,n);case 15:return uN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),Mf(t,e),e.tag=1,gn(r)?(t=!0,Sp(e)):t=!1,ul(e,n),aN(e,r,s),i0(e,r,s,n),l0(null,e,r,!0,t,n);case 19:return mN(t,e,n);case 22:return dN(t,e,n)}throw Error(Y(156,e.tag))};function PN(t,e){return s2(t,e)}function u3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new u3(t,e,n,r)}function Ax(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d3(t){if(typeof t=="function")return Ax(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jw)return 11;if(t===Xw)return 14}return 2}function Ei(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ff(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ax(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qa:return Mo(n.children,s,i,e);case Yw:o=8,s|=8;break;case ky:return t=Un(12,n,e,s|2),t.elementType=ky,t.lanes=i,t;case Ry:return t=Un(13,n,e,s),t.elementType=Ry,t.lanes=i,t;case Py:return t=Un(19,n,e,s),t.elementType=Py,t.lanes=i,t;case UC:return Um(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FC:o=10;break e;case $C:o=9;break e;case Jw:o=11;break e;case Xw:o=14;break e;case Qs:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Un(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Mo(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Um(t,e,n,r){return t=Un(22,t,r,e),t.elementType=UC,t.lanes=n,t.stateNode={isHidden:!1},t}function Mv(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function Lv(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vv(0),this.expirationTimes=vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jx(t,e,n,r,s,i,o,a,l){return t=new h3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gx(i),t}function f3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AN(t){if(!t)return Oi;t=t._reactInternals;e:{if(da(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(gn(n))return A2(t,n,e)}return e}function jN(t,e,n,r,s,i,o,a,l){return t=jx(n,r,!0,t,s,i,o,a,l),t.context=AN(null),n=t.current,r=nn(),s=bi(n),i=ds(r,s),i.callback=e??null,xi(n,i,s),t.current.lanes=s,Kd(t,s,r),vn(t,r),t}function Bm(t,e,n,r){var s=e.current,i=nn(),o=bi(s);return n=AN(n),e.context===null?e.context=n:e.pendingContext=n,e=ds(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xi(s,e,o),t!==null&&(dr(t,s,o,i),jf(t,s,o)),o}function Fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dx(t,e){DE(t,e),(t=t.alternate)&&DE(t,e)}function p3(){return null}var DN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ox(t){this._internalRoot=t}zm.prototype.render=Ox.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Bm(t,e,null,null)};zm.prototype.unmount=Ox.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){Bm(null,t,null,null)}),e[gs]=null}};function zm(t){this._internalRoot=t}zm.prototype.unstable_scheduleHydration=function(t){if(t){var e=d2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Js.length&&e!==0&&e<Js[n].priority;n++);Js.splice(n,0,t),n===0&&f2(t)}};function Mx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OE(){}function m3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fp(o);i.call(u)}}var o=jN(e,r,t,0,null,!1,!1,"",OE);return t._reactRootContainer=o,t[gs]=o.current,Xu(t.nodeType===8?t.parentNode:t),Wo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Fp(l);a.call(u)}}var l=jx(t,0,!1,null,null,!1,!1,"",OE);return t._reactRootContainer=l,t[gs]=l.current,Xu(t.nodeType===8?t.parentNode:t),Wo(function(){Bm(e,l,n,r)}),l}function Hm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fp(o);a.call(l)}}Bm(e,o,t,s)}else o=m3(n,e,t,s,r);return Fp(o)}c2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uu(e.pendingLanes);n!==0&&(tx(e,n|1),vn(e,at()),!(Pe&6)&&(ql=at()+500,Hi()))}break;case 13:Wo(function(){var r=vs(t,1);if(r!==null){var s=nn();dr(r,t,1,s)}}),Dx(t,1)}};nx=function(t){if(t.tag===13){var e=vs(t,134217728);if(e!==null){var n=nn();dr(e,t,134217728,n)}Dx(t,134217728)}};u2=function(t){if(t.tag===13){var e=bi(t),n=vs(t,e);if(n!==null){var r=nn();dr(n,t,e,r)}Dx(t,e)}};d2=function(){return Me};h2=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Uy=function(t,e,n){switch(e){case"input":if(Dy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Om(r);if(!s)throw Error(Y(90));zC(r),Dy(r,s)}}}break;case"textarea":HC(t,n);break;case"select":e=n.value,e!=null&&ol(t,!!n.multiple,e,!1)}};XC=kx;ZC=Wo;var g3={usingClientEntryPoint:!1,Events:[Gd,Za,Om,YC,JC,kx]},Gc={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v3={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n2(t),t===null?null:t.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||p3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Pm=af.inject(v3),Or=af}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g3;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mx(e))throw Error(Y(200));return f3(t,e,null,n)};jn.createRoot=function(t,e){if(!Mx(t))throw Error(Y(299));var n=!1,r="",s=DN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=jx(t,1,!1,null,null,n,!1,r,s),t[gs]=e.current,Xu(t.nodeType===8?t.parentNode:t),new Ox(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=n2(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return Wo(t)};jn.hydrate=function(t,e,n){if(!qm(e))throw Error(Y(200));return Hm(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!Mx(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=DN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jN(e,null,t,1,n??null,s,!1,i,o),t[gs]=e.current,Xu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zm(e)};jn.render=function(t,e,n){if(!qm(e))throw Error(Y(200));return Hm(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!qm(t))throw Error(Y(40));return t._reactRootContainer?(Wo(function(){Hm(null,null,t,!1,function(){t._reactRootContainer=null,t[gs]=null})}),!0):!1};jn.unstable_batchedUpdates=kx;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qm(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Hm(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function ON(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ON)}catch(t){console.error(t)}}ON(),OC.exports=jn;var Yd=OC.exports;const MN=EC(Yd);var ME=Yd;Cy.createRoot=ME.createRoot,Cy.hydrateRoot=ME.hydrateRoot;const y3=1,w3=1e6;let Vv=0;function x3(){return Vv=(Vv+1)%Number.MAX_SAFE_INTEGER,Vv.toString()}const Fv=new Map,LE=t=>{if(Fv.has(t))return;const e=setTimeout(()=>{Fv.delete(t),Ru({type:"REMOVE_TOAST",toastId:t})},w3);Fv.set(t,e)},_3=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,y3)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?LE(n):t.toasts.forEach(r=>{LE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},$f=[];let Uf={toasts:[]};function Ru(t){Uf=_3(Uf,t),$f.forEach(e=>{e(Uf)})}function b3({...t}){const e=x3(),n=s=>Ru({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ru({type:"DISMISS_TOAST",toastId:e});return Ru({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ha(){const[t,e]=g.useState(Uf);return g.useEffect(()=>($f.push(e),()=>{const n=$f.indexOf(e);n>-1&&$f.splice(n,1)}),[t]),{...t,toast:b3,dismiss:n=>Ru({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function VE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Km(...t){return e=>{let n=!1;const r=t.map(s=>{const i=VE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():VE(t[s],null)}}}}function Ve(...t){return g.useCallback(Km(...t),t)}function E3(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function On(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=h=>{var x;const{scope:p,children:m,..._}=h,w=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,y=g.useMemo(()=>_,Object.values(_));return c.jsx(w.Provider,{value:y,children:m})};u.displayName=i+"Provider";function f(h,p){var w;const m=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,_=g.useContext(m);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,I3(s,...e)]}function I3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Hl(t){const e=S3(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(N3);if(l){const u=l.props.children,f=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var T3=Hl("Slot");function S3(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=R3(s),a=k3(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Km(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var LN=Symbol("radix.slottable");function C3(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=LN,e}function N3(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===LN}function k3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function R3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wm(t){const e=t+"CollectionProvider",[n,r]=On(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:y,children:x}=w,b=J.useRef(null),E=J.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:E,collectionRef:b,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Hl(a),u=J.forwardRef((w,y)=>{const{scope:x,children:b}=w,E=i(a,x),C=Ve(y,E.collectionRef);return c.jsx(l,{ref:C,children:b})});u.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=Hl(f),m=J.forwardRef((w,y)=>{const{scope:x,children:b,...E}=w,C=J.useRef(null),j=Ve(y,C),O=i(f,x);return J.useEffect(()=>(O.itemMap.set(C,{ref:C,...E}),()=>void O.itemMap.delete(C))),c.jsx(p,{[h]:"",ref:j,children:b})});m.displayName=f;function _(w){const y=i(t+"CollectionConsumer",w);return J.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((O,S)=>E.indexOf(O.ref.current)-E.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},_,r]}var P3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ve=P3.reduce((t,e)=>{const n=Hl(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Lx(t,e){t&&Yd.flushSync(()=>t.dispatchEvent(e))}function xn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function A3(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var j3="DismissableLayer",x0="dismissableLayer.update",D3="dismissableLayer.pointerDownOutside",O3="dismissableLayer.focusOutside",FE,VN=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(VN),[f,h]=g.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),_=Ve(e,S=>h(S)),w=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(y),b=f?w.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=x,j=L3(S=>{const I=S.target,P=[...u.branches].some(k=>k.contains(I));!C||P||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},p),O=V3(S=>{const I=S.target;[...u.branches].some(k=>k.contains(I))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},p);return A3(S=>{b===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),g.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(FE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),$E(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=FE)}},[f,p,n,u]),g.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),$E())},[f,u]),g.useEffect(()=>{const S=()=>m({});return document.addEventListener(x0,S),()=>document.removeEventListener(x0,S)},[]),c.jsx(ve.div,{...l,ref:_,style:{pointerEvents:E?C?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,O.onFocusCapture),onBlurCapture:se(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,j.onPointerDownCapture)})});Jd.displayName=j3;var M3="DismissableLayerBranch",FN=g.forwardRef((t,e)=>{const n=g.useContext(VN),r=g.useRef(null),s=Ve(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ve.div,{...t,ref:s})});FN.displayName=M3;function L3(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$N(D3,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function V3(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&$N(O3,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $E(){const t=new CustomEvent(x0);document.dispatchEvent(t)}function $N(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Lx(s,i):s.dispatchEvent(i)}var F3=Jd,$3=FN,Qn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},U3="Portal",Gm=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Qn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?MN.createPortal(c.jsx(ve.div,{...r,ref:e}),o):null});Gm.displayName=U3;function B3(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Jn=t=>{const{present:e,children:n}=t,r=z3(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ve(r.ref,q3(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Jn.displayName="Presence";function z3(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=B3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=lf(r.current);i.current=a==="mounted"?u:"none"},[a]),Qn(()=>{const u=r.current,f=s.current;if(f!==t){const p=i.current,m=lf(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Qn(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=m=>{const w=lf(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(i.current=lf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function lf(t){return(t==null?void 0:t.animationName)||"none"}function q3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var H3=Kw[" useInsertionEffect ".trim().toString()]||Qn;function Ki({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=K3({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const f=g.useRef(t!==void 0);g.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=g.useCallback(f=>{var h;if(a){const p=W3(f)?f(t):f;p!==t&&((h=o.current)==null||h.call(o,p))}else i(f)},[a,t,i,o]);return[l,u]}function K3({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return H3(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function W3(t){return typeof t=="function"}var G3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Q3="VisuallyHidden",Qm=g.forwardRef((t,e)=>c.jsx(ve.span,{...t,ref:e,style:{...G3,...t.style}}));Qm.displayName=Q3;var Y3=Qm,Vx="ToastProvider",[Fx,J3,X3]=Wm("Toast"),[UN,WZ]=On("Toast",[X3]),[Z3,Ym]=UN(Vx),BN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,f]=g.useState(0),h=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vx}\`. Expected non-empty \`string\`.`),c.jsx(Fx.Provider,{scope:e,children:c.jsx(Z3,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>f(m=>m+1),[]),onToastRemove:g.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};BN.displayName=Vx;var zN="ToastViewport",eV=["F8"],_0="toast.viewportPause",b0="toast.viewportResume",qN=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=eV,label:s="Notifications ({hotkey})",...i}=t,o=Ym(zN,n),a=J3(n),l=g.useRef(null),u=g.useRef(null),f=g.useRef(null),h=g.useRef(null),p=Ve(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;g.useEffect(()=>{const y=x=>{var E;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),g.useEffect(()=>{const y=l.current,x=h.current;if(_&&y&&x){const b=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(_0);x.dispatchEvent(O),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(b0);x.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!y.contains(O.relatedTarget)&&E()},j=()=>{y.contains(document.activeElement)||E()};return y.addEventListener("focusin",b),y.addEventListener("focusout",C),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",j),window.addEventListener("blur",b),window.addEventListener("focus",E),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",b),window.removeEventListener("focus",E)}}},[_,o.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:y})=>{const b=a().map(E=>{const C=E.ref.current,j=[C,...fV(C)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?b.reverse():b).flat()},[a]);return g.useEffect(()=>{const y=h.current;if(y){const x=b=>{var j,O,S;const E=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!E){const I=document.activeElement,P=b.shiftKey;if(b.target===y&&P){(j=u.current)==null||j.focus();return}const N=w({tabbingDirection:P?"backwards":"forwards"}),R=N.findIndex(U=>U===I);$v(N.slice(R+1))?b.preventDefault():P?(O=u.current)==null||O.focus():(S=f.current)==null||S.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[a,w]),c.jsxs($3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&c.jsx(E0,{ref:u,onFocusFromOutsideViewport:()=>{const y=w({tabbingDirection:"forwards"});$v(y)}}),c.jsx(Fx.Slot,{scope:n,children:c.jsx(ve.ol,{tabIndex:-1,...i,ref:p})}),_&&c.jsx(E0,{ref:f,onFocusFromOutsideViewport:()=>{const y=w({tabbingDirection:"backwards"});$v(y)}})]})});qN.displayName=zN;var HN="ToastFocusProxy",E0=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ym(HN,n);return c.jsx(Qm,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});E0.displayName=HN;var Xd="Toast",tV="toast.swipeStart",nV="toast.swipeMove",rV="toast.swipeCancel",sV="toast.swipeEnd",KN=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Ki({prop:r,defaultProp:s??!0,onChange:i,caller:Xd});return c.jsx(Jn,{present:n||a,children:c.jsx(aV,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:xn(t.onPause),onResume:xn(t.onResume),onSwipeStart:se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});KN.displayName=Xd;var[iV,oV]=UN(Xd,{onClose(){}}),aV=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,..._}=t,w=Ym(Xd,n),[y,x]=g.useState(null),b=Ve(e,U=>x(U)),E=g.useRef(null),C=g.useRef(null),j=s||w.duration,O=g.useRef(0),S=g.useRef(j),I=g.useRef(0),{onToastAdd:P,onToastRemove:k}=w,D=xn(()=>{var Q;(y==null?void 0:y.contains(document.activeElement))&&((Q=w.viewport)==null||Q.focus()),o()}),N=g.useCallback(U=>{!U||U===1/0||(window.clearTimeout(I.current),O.current=new Date().getTime(),I.current=window.setTimeout(D,U))},[D]);g.useEffect(()=>{const U=w.viewport;if(U){const Q=()=>{N(S.current),u==null||u()},K=()=>{const Z=new Date().getTime()-O.current;S.current=S.current-Z,window.clearTimeout(I.current),l==null||l()};return U.addEventListener(_0,K),U.addEventListener(b0,Q),()=>{U.removeEventListener(_0,K),U.removeEventListener(b0,Q)}}},[w.viewport,j,l,u,N]),g.useEffect(()=>{i&&!w.isClosePausedRef.current&&N(j)},[i,j,w.isClosePausedRef,N]),g.useEffect(()=>(P(),()=>k()),[P,k]);const R=g.useMemo(()=>y?ZN(y):null,[y]);return w.viewport?c.jsxs(c.Fragment,{children:[R&&c.jsx(lV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),c.jsx(iV,{scope:n,onClose:D,children:Yd.createPortal(c.jsx(Fx.ItemSlot,{scope:n,children:c.jsx(F3,{asChild:!0,onEscapeKeyDown:se(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||D(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,..._,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:se(t.onPointerDown,U=>{U.button===0&&(E.current={x:U.clientX,y:U.clientY})}),onPointerMove:se(t.onPointerMove,U=>{if(!E.current)return;const Q=U.clientX-E.current.x,K=U.clientY-E.current.y,Z=!!C.current,F=["left","right"].includes(w.swipeDirection),$=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,W=F?$(0,Q):0,q=F?0:$(0,K),H=U.pointerType==="touch"?10:2,X={x:W,y:q},de={originalEvent:U,delta:X};Z?(C.current=X,cf(nV,h,de,{discrete:!1})):UE(X,w.swipeDirection,H)?(C.current=X,cf(tV,f,de,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(Q)>H||Math.abs(K)>H)&&(E.current=null)}),onPointerUp:se(t.onPointerUp,U=>{const Q=C.current,K=U.target;if(K.hasPointerCapture(U.pointerId)&&K.releasePointerCapture(U.pointerId),C.current=null,E.current=null,Q){const Z=U.currentTarget,F={originalEvent:U,delta:Q};UE(Q,w.swipeDirection,w.swipeThreshold)?cf(sV,m,F,{discrete:!0}):cf(rV,p,F,{discrete:!0}),Z.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),lV=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ym(Xd,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return dV(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(Gm,{asChild:!0,children:c.jsx(Qm,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},cV="ToastTitle",WN=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});WN.displayName=cV;var uV="ToastDescription",GN=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});GN.displayName=uV;var QN="ToastAction",YN=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(XN,{altText:n,asChild:!0,children:c.jsx($x,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${QN}\`. Expected non-empty \`string\`.`),null)});YN.displayName=QN;var JN="ToastClose",$x=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=oV(JN,n);return c.jsx(XN,{asChild:!0,children:c.jsx(ve.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});$x.displayName=JN;var XN=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ZN(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hV(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ZN(r))}}),e}function cf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Lx(s,i):s.dispatchEvent(i)}var UE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function dV(t=()=>{}){const e=xn(t);Qn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hV(t){return t.nodeType===t.ELEMENT_NODE}function fV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $v(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var pV=BN,ek=qN,tk=KN,nk=WN,rk=GN,sk=YN,ik=$x;function ok(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ok(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ak(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ok(t))&&(r&&(r+=" "),r+=e);return r}const BE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zE=ak,Zd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=i==null?void 0:i[u];if(f===null)return null;const p=BE(f)||BE(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:p,...m}=f;return Object.entries(m).every(_=>{let[w,y]=_;return Array.isArray(y)?y.includes({...i,...a}[w]):{...i,...a}[w]===y})?[...u,h,p]:u},[]);return zE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},f)=>g.createElement("svg",{ref:f,...mV,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${gV(t)}`,a].join(" "),...u},[...e.map(([h,p])=>g.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=_e("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=_e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=_e("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=_e("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=_e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=_e("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=_e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=_e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=_e("StarHalf",[["path",{d:"M12 17.8 5.8 21 7 14.1 2 9.3l7-1L12 2",key:"nare05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=_e("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=_e("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),zx="-",VV=t=>{const e=$V(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(zx);return a[0]===""&&a.length!==1&&a.shift(),gk(a,e)||FV(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},gk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?gk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(zx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},KE=/^\[(.+)\]$/,FV=t=>{if(KE.test(t)){const e=KE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$V=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return BV(Object.entries(t.classGroups),n).forEach(([i,o])=>{S0(o,r,i,e)}),r},S0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:WE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(UV(s)){S0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{S0(o,WE(e,i),n,r)})})},WE=(t,e)=>{let n=t;return e.split(zx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UV=t=>t.isThemeGetter,BV=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,zV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},vk="!",qV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,f=0,h;for(let y=0;y<a.length;y++){let x=a[y];if(u===0){if(x===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(f,y)),f=y+i;continue}if(x==="/"){h=y;continue}}x==="["?u++:x==="]"&&u--}const p=l.length===0?a:a.substring(f),m=p.startsWith(vk),_=m?p.substring(1):p,w=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:_,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},HV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},KV=t=>({cache:zV(t.cacheSize),parseClassName:qV(t),...VV(t)}),WV=/\s+/,GV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(WV);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let _=!!m,w=r(_?p.substring(0,m):p);if(!w){if(!_){a=u+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=u+(a.length>0?" "+a:a);continue}_=!1}const y=HV(f).join(":"),x=h?y+vk:y,b=x+w;if(i.includes(b))continue;i.push(b);const E=s(w,_);for(let C=0;C<E.length;++C){const j=E[C];i.push(x+j)}a=u+(a.length>0?" "+a:a)}return a};function QV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yk(e))&&(r&&(r+=" "),r+=n);return r}const yk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yk(t[r]))&&(n&&(n+=" "),n+=e);return n};function YV(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((f,h)=>h(f),t());return n=KV(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const f=GV(l,n);return s(l,f),f}return function(){return i(QV.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wk=/^\[(?:([a-z-]+):)?(.+)\]$/i,JV=/^\d+\/\d+$/,XV=new Set(["px","full","screen"]),ZV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=t=>fl(t)||XV.has(t)||JV.test(t),Us=t=>pc(t,"length",dF),fl=t=>!!t&&!Number.isNaN(Number(t)),Bv=t=>pc(t,"number",fl),Qc=t=>!!t&&Number.isInteger(Number(t)),sF=t=>t.endsWith("%")&&fl(t.slice(0,-1)),be=t=>wk.test(t),Bs=t=>ZV.test(t),iF=new Set(["length","size","percentage"]),oF=t=>pc(t,iF,xk),aF=t=>pc(t,"position",xk),lF=new Set(["image","url"]),cF=t=>pc(t,lF,fF),uF=t=>pc(t,"",hF),Yc=()=>!0,pc=(t,e,n)=>{const r=wk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},dF=t=>eF.test(t)&&!tF.test(t),xk=()=>!1,hF=t=>nF.test(t),fF=t=>rF.test(t),pF=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),i=qe("borderRadius"),o=qe("borderSpacing"),a=qe("borderWidth"),l=qe("contrast"),u=qe("grayscale"),f=qe("hueRotate"),h=qe("invert"),p=qe("gap"),m=qe("gradientColorStops"),_=qe("gradientColorStopPositions"),w=qe("inset"),y=qe("margin"),x=qe("opacity"),b=qe("padding"),E=qe("saturate"),C=qe("scale"),j=qe("sepia"),O=qe("skew"),S=qe("space"),I=qe("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",be,e],N=()=>[be,e],R=()=>["",Jr,Us],U=()=>["auto",fl,be],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",be],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[fl,be];return{cacheSize:500,separator:":",theme:{colors:[Yc],spacing:[Jr,Us],blur:["none","",Bs,be],brightness:q(),borderColor:[t],borderRadius:["none","","full",Bs,be],borderSpacing:N(),borderWidth:R(),contrast:q(),grayscale:$(),hueRotate:q(),invert:$(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[sF,Us],inset:D(),margin:D(),opacity:q(),padding:N(),saturate:q(),scale:q(),sepia:$(),skew:q(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[Bs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),be]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qc,be]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Qc,be]}],"grid-cols":[{"grid-cols":[Yc]}],"col-start-end":[{col:["auto",{span:["full",Qc,be]},be]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Yc]}],"row-start-end":[{row:["auto",{span:[Qc,be]},be]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,e]}],"min-w":[{"min-w":[be,e,"min","max","fit"]}],"max-w":[{"max-w":[be,e,"none","full","min","max","fit","prose",{screen:[Bs]},Bs]}],h:[{h:[be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bs,Us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bv]}],"font-family":[{font:[Yc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",fl,Bv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,Us]}],"underline-offset":[{"underline-offset":["auto",Jr,be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),aF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Jr,be]}],"outline-w":[{outline:[Jr,Us]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Jr,Us]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bs,uF]}],"shadow-color":[{shadow:[Yc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bs,be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Qc,be]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jr,Us,Bv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mF=YV(pF);function oe(...t){return mF(ak(t))}const gF=pV,_k=g.forwardRef(({className:t,...e},n)=>c.jsx(ek,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_k.displayName=ek.displayName;const vF=Zd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bk=g.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(tk,{ref:r,className:oe(vF({variant:e}),t),...n}));bk.displayName=tk.displayName;const yF=g.forwardRef(({className:t,...e},n)=>c.jsx(sk,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));yF.displayName=sk.displayName;const Ek=g.forwardRef(({className:t,...e},n)=>c.jsx(ik,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(os,{className:"h-4 w-4"})}));Ek.displayName=ik.displayName;const Ik=g.forwardRef(({className:t,...e},n)=>c.jsx(nk,{ref:n,className:oe("text-sm font-semibold",t),...e}));Ik.displayName=nk.displayName;const Tk=g.forwardRef(({className:t,...e},n)=>c.jsx(rk,{ref:n,className:oe("text-sm opacity-90",t),...e}));Tk.displayName=rk.displayName;function wF(){const{toasts:t}=ha();return c.jsxs(gF,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(bk,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(Ik,{children:n}),r&&c.jsx(Tk,{children:r})]}),s,c.jsx(Ek,{})]},e)}),c.jsx(_k,{})]})}var xF=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,u=["light","dark"];function f(m){(Array.isArray(t)?t:[t]).forEach(_=>{let w=_==="class",y=w&&i?s.map(x=>i[x]||x):s;w?(l.classList.remove(...y),l.classList.add(i&&i[m]?i[m]:m)):l.setAttribute(_,m)}),h(m)}function h(m){a&&u.includes(m)&&(l.style.colorScheme=m)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let m=localStorage.getItem(e)||n,_=o&&m==="system"?p():m;f(_)}catch{}},_F=g.createContext(void 0),bF={setTheme:t=>{},themes:[]},EF=()=>{var t;return(t=g.useContext(_F))!=null?t:bF};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:u})=>{let f=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return g.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${xF.toString()})(${f})`}})});function IF(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const TF=t=>{switch(t){case"success":return NF;case"info":return RF;case"warning":return kF;case"error":return PF;default:return null}},SF=Array(12).fill(0),CF=({visible:t,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},J.createElement("div",{className:"sonner-spinner"},SF.map((n,r)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),NF=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kF=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RF=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PF=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AF=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jF=()=>{const[t,e]=J.useState(document.hidden);return J.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let C0=1;class DF{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:C0++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const a=s.then(async u=>{if(o=["resolve",u],J.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(MF(u)&&!u.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,_=typeof h=="object"&&!J.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,..._})}else if(u instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,_=typeof h=="object"&&!J.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,..._})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,_=typeof h=="object"&&!J.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:p,..._})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,m=typeof f=="object"&&!J.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...m})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((u,f)=>a.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||C0++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const un=new DF,OF=(t,e)=>{const n=(e==null?void 0:e.id)||C0++;return un.addToast({title:t,...e,id:n}),n},MF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",LF=OF,VF=()=>un.toasts,FF=()=>un.getActiveToasts(),zv=Object.assign(LF,{success:un.success,info:un.info,warning:un.warning,error:un.error,custom:un.custom,message:un.message,promise:un.promise,dismiss:un.dismiss,loading:un.loading},{getHistory:VF,getToasts:FF});IF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function uf(t){return t.label!==void 0}const $F=3,UF="24px",BF="16px",GE=4e3,zF=356,qF=14,HF=45,KF=200;function br(...t){return t.filter(Boolean).join(" ")}function WF(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const GF=t=>{var e,n,r,s,i,o,a,l,u;const{invert:f,toast:h,unstyled:p,interacting:m,setHeights:_,visibleToasts:w,heights:y,index:x,toasts:b,expanded:E,removeToast:C,defaultRichColors:j,closeButton:O,style:S,cancelButtonStyle:I,actionButtonStyle:P,className:k="",descriptionClassName:D="",duration:N,position:R,gap:U,expandByDefault:Q,classNames:K,icons:Z,closeButtonAriaLabel:F="Close toast"}=t,[$,W]=J.useState(null),[q,H]=J.useState(null),[X,de]=J.useState(!1),[le,ue]=J.useState(!1),[Ie,wt]=J.useState(!1),[nt,xt]=J.useState(!1),[Hr,Kr]=J.useState(!1),[Xn,wr]=J.useState(0),[eo,to]=J.useState(0),xr=J.useRef(h.duration||N||GE),_a=J.useRef(null),Ct=J.useRef(null),Th=x===0,Cc=x+1<=w,Lt=h.type,Ps=h.dismissible!==!1,Nc=h.className||"",kc=h.descriptionClassName||"",As=J.useMemo(()=>y.findIndex(xe=>xe.toastId===h.id)||0,[y,h.id]),_t=J.useMemo(()=>{var xe;return(xe=h.closeButton)!=null?xe:O},[h.closeButton,O]),bt=J.useMemo(()=>h.duration||N||GE,[h.duration,N]),js=J.useRef(0),Wr=J.useRef(0),Rc=J.useRef(0),Ds=J.useRef(null),[no,Sh]=R.split("-"),Pc=J.useMemo(()=>y.reduce((xe,Ue,pt)=>pt>=As?xe:xe+Ue.height,0),[y,As]),ba=jF(),Xg=h.invert||f,Ac=Lt==="loading";Wr.current=J.useMemo(()=>As*U+Pc,[As,Pc]),J.useEffect(()=>{xr.current=bt},[bt]),J.useEffect(()=>{de(!0)},[]),J.useEffect(()=>{const xe=Ct.current;if(xe){const Ue=xe.getBoundingClientRect().height;return to(Ue),_(pt=>[{toastId:h.id,height:Ue,position:h.position},...pt]),()=>_(pt=>pt.filter(Et=>Et.toastId!==h.id))}},[_,h.id]),J.useLayoutEffect(()=>{if(!X)return;const xe=Ct.current,Ue=xe.style.height;xe.style.height="auto";const pt=xe.getBoundingClientRect().height;xe.style.height=Ue,to(pt),_(Et=>Et.find(Ye=>Ye.toastId===h.id)?Et.map(Ye=>Ye.toastId===h.id?{...Ye,height:pt}:Ye):[{toastId:h.id,height:pt,position:h.position},...Et])},[X,h.title,h.description,_,h.id]);const Mn=J.useCallback(()=>{ue(!0),wr(Wr.current),_(xe=>xe.filter(Ue=>Ue.toastId!==h.id)),setTimeout(()=>{C(h)},KF)},[h,C,_,Wr]);J.useEffect(()=>{if(h.promise&&Lt==="loading"||h.duration===1/0||h.type==="loading")return;let xe;return E||m||ba?(()=>{if(Rc.current<js.current){const Et=new Date().getTime()-js.current;xr.current=xr.current-Et}Rc.current=new Date().getTime()})():(()=>{xr.current!==1/0&&(js.current=new Date().getTime(),xe=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Mn()},xr.current))})(),()=>clearTimeout(xe)},[E,m,h,Lt,ba,Mn]),J.useEffect(()=>{h.delete&&Mn()},[Mn,h.delete]);function Ch(){var xe;if(Z!=null&&Z.loading){var Ue;return J.createElement("div",{className:br(K==null?void 0:K.loader,h==null||(Ue=h.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":Lt==="loading"},Z.loading)}return J.createElement(CF,{className:br(K==null?void 0:K.loader,h==null||(xe=h.classNames)==null?void 0:xe.loader),visible:Lt==="loading"})}const Nh=h.icon||(Z==null?void 0:Z[Lt])||TF(Lt);var Os,Ea;return J.createElement("li",{tabIndex:0,ref:Ct,className:br(k,Nc,K==null?void 0:K.toast,h==null||(e=h.classNames)==null?void 0:e.toast,K==null?void 0:K.default,K==null?void 0:K[Lt],h==null||(n=h.classNames)==null?void 0:n[Lt]),"data-sonner-toast":"","data-rich-colors":(Os=h.richColors)!=null?Os:j,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":X,"data-promise":!!h.promise,"data-swiped":Hr,"data-removed":le,"data-visible":Cc,"data-y-position":no,"data-x-position":Sh,"data-index":x,"data-front":Th,"data-swiping":Ie,"data-dismissible":Ps,"data-type":Lt,"data-invert":Xg,"data-swipe-out":nt,"data-swipe-direction":q,"data-expanded":!!(E||Q&&X),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${le?Xn:Wr.current}px`,"--initial-height":Q?"auto":`${eo}px`,...S,...h.style},onDragEnd:()=>{wt(!1),W(null),Ds.current=null},onPointerDown:xe=>{Ac||!Ps||(_a.current=new Date,wr(Wr.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(wt(!0),Ds.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Ue,pt;if(nt||!Ps)return;Ds.current=null;const Et=Number(((xe=Ct.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ro=Number(((Ue=Ct.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ye=new Date().getTime()-((pt=_a.current)==null?void 0:pt.getTime()),Yt=$==="x"?Et:ro,ct=Math.abs(Yt)/Ye;if(Math.abs(Yt)>=HF||ct>.11){wr(Wr.current),h.onDismiss==null||h.onDismiss.call(h,h),H($==="x"?Et>0?"right":"left":ro>0?"down":"up"),Mn(),xt(!0);return}else{var ln,Nt;(ln=Ct.current)==null||ln.style.setProperty("--swipe-amount-x","0px"),(Nt=Ct.current)==null||Nt.style.setProperty("--swipe-amount-y","0px")}Kr(!1),wt(!1),W(null)},onPointerMove:xe=>{var Ue,pt,Et;if(!Ds.current||!Ps||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;const Ye=xe.clientY-Ds.current.y,Yt=xe.clientX-Ds.current.x;var ct;const ln=(ct=t.swipeDirections)!=null?ct:WF(R);!$&&(Math.abs(Yt)>1||Math.abs(Ye)>1)&&W(Math.abs(Yt)>Math.abs(Ye)?"x":"y");let Nt={x:0,y:0};const Ms=Gr=>1/(1.5+Math.abs(Gr)/20);if($==="y"){if(ln.includes("top")||ln.includes("bottom"))if(ln.includes("top")&&Ye<0||ln.includes("bottom")&&Ye>0)Nt.y=Ye;else{const Gr=Ye*Ms(Ye);Nt.y=Math.abs(Gr)<Math.abs(Ye)?Gr:Ye}}else if($==="x"&&(ln.includes("left")||ln.includes("right")))if(ln.includes("left")&&Yt<0||ln.includes("right")&&Yt>0)Nt.x=Yt;else{const Gr=Yt*Ms(Yt);Nt.x=Math.abs(Gr)<Math.abs(Yt)?Gr:Yt}(Math.abs(Nt.x)>0||Math.abs(Nt.y)>0)&&Kr(!0),(pt=Ct.current)==null||pt.style.setProperty("--swipe-amount-x",`${Nt.x}px`),(Et=Ct.current)==null||Et.style.setProperty("--swipe-amount-y",`${Nt.y}px`)}},_t&&!h.jsx&&Lt!=="loading"?J.createElement("button",{"aria-label":F,"data-disabled":Ac,"data-close-button":!0,onClick:Ac||!Ps?()=>{}:()=>{Mn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:br(K==null?void 0:K.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(Ea=Z==null?void 0:Z.close)!=null?Ea:AF):null,(Lt||h.icon||h.promise)&&h.icon!==null&&((Z==null?void 0:Z[Lt])!==null||h.icon)?J.createElement("div",{"data-icon":"",className:br(K==null?void 0:K.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ch():null,h.type!=="loading"?Nh:null):null,J.createElement("div",{"data-content":"",className:br(K==null?void 0:K.content,h==null||(i=h.classNames)==null?void 0:i.content)},J.createElement("div",{"data-title":"",className:br(K==null?void 0:K.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?J.createElement("div",{"data-description":"",className:br(D,kc,K==null?void 0:K.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),J.isValidElement(h.cancel)?h.cancel:h.cancel&&uf(h.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:xe=>{uf(h.cancel)&&Ps&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,xe),Mn())},className:br(K==null?void 0:K.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,J.isValidElement(h.action)?h.action:h.action&&uf(h.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:xe=>{uf(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,xe),!xe.defaultPrevented&&Mn())},className:br(K==null?void 0:K.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function QE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function QF(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?BF:UF;function l(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}const YF=J.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:l,offset:u,mobileOffset:f,theme:h="light",richColors:p,duration:m,style:_,visibleToasts:w=$F,toastOptions:y,dir:x=QE(),gap:b=qF,icons:E,containerAriaLabel:C="Notifications"}=e,[j,O]=J.useState([]),S=J.useMemo(()=>Array.from(new Set([s].concat(j.filter(q=>q.position).map(q=>q.position)))),[j,s]),[I,P]=J.useState([]),[k,D]=J.useState(!1),[N,R]=J.useState(!1),[U,Q]=J.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=J.useRef(null),Z=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=J.useRef(null),$=J.useRef(!1),W=J.useCallback(q=>{O(H=>{var X;return(X=H.find(de=>de.id===q.id))!=null&&X.delete||un.dismiss(q.id),H.filter(({id:de})=>de!==q.id)})},[]);return J.useEffect(()=>un.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{O(H=>H.map(X=>X.id===q.id?{...X,delete:!0}:X))});return}setTimeout(()=>{MN.flushSync(()=>{O(H=>{const X=H.findIndex(de=>de.id===q.id);return X!==-1?[...H.slice(0,X),{...H[X],...q},...H.slice(X+1)]:[q,...H]})})})}),[j]),J.useEffect(()=>{if(h!=="system"){Q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:H})=>{Q(H?"dark":"light")})}catch{q.addListener(({matches:X})=>{try{Q(X?"dark":"light")}catch(de){console.error(de)}})}},[h]),J.useEffect(()=>{j.length<=1&&D(!1)},[j]),J.useEffect(()=>{const q=H=>{var X;if(i.every(ue=>H[ue]||H.code===ue)){var le;D(!0),(le=K.current)==null||le.focus()}H.code==="Escape"&&(document.activeElement===K.current||(X=K.current)!=null&&X.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[i]),J.useEffect(()=>{if(K.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,$.current=!1)}},[K.current]),J.createElement("section",{ref:n,"aria-label":`${C} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((q,H)=>{var X;const[de,le]=q.split("-");return j.length?J.createElement("ol",{key:q,dir:x==="auto"?QE():x,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":de,"data-lifted":k&&j.length>1&&!o,"data-x-position":le,style:{"--front-toast-height":`${((X=I[0])==null?void 0:X.height)||0}px`,"--width":`${zF}px`,"--gap":`${b}px`,..._,...QF(u,f)},onBlur:ue=>{$.current&&!ue.currentTarget.contains(ue.relatedTarget)&&($.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||$.current||($.current=!0,F.current=ue.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{N||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},j.filter(ue=>!ue.position&&H===0||ue.position===q).map((ue,Ie)=>{var wt,nt;return J.createElement(GF,{key:ue.id,icons:E,index:Ie,toast:ue,defaultRichColors:p,duration:(wt=y==null?void 0:y.duration)!=null?wt:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:w,closeButton:(nt=y==null?void 0:y.closeButton)!=null?nt:a,interacting:N,position:q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:W,toasts:j.filter(xt=>xt.position==ue.position),heights:I.filter(xt=>xt.position==ue.position),setHeights:P,expandByDefault:o,gap:b,expanded:k,swipeDirections:e.swipeDirections})})):null}))}),JF=({...t})=>{const{theme:e="system"}=EF();return c.jsx(YF,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var XF=Kw[" useId ".trim().toString()]||(()=>{}),ZF=0;function Ii(t){const[e,n]=g.useState(XF());return Qn(()=>{t||n(r=>r??String(ZF++))},[t]),t||(e?`radix-${e}`:"")}const e6=["top","right","bottom","left"],Mi=Math.min,In=Math.max,$p=Math.round,df=Math.floor,Lr=t=>({x:t,y:t}),t6={left:"right",right:"left",bottom:"top",top:"bottom"},n6={start:"end",end:"start"};function N0(t,e,n){return In(t,Mi(e,n))}function xs(t,e){return typeof t=="function"?t(e):t}function _s(t){return t.split("-")[0]}function mc(t){return t.split("-")[1]}function qx(t){return t==="x"?"y":"x"}function Hx(t){return t==="y"?"height":"width"}function hs(t){return["top","bottom"].includes(_s(t))?"y":"x"}function Kx(t){return qx(hs(t))}function r6(t,e,n){n===void 0&&(n=!1);const r=mc(t),s=Kx(t),i=Hx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Up(o)),[o,Up(o)]}function s6(t){const e=Up(t);return[k0(t),e,k0(e)]}function k0(t){return t.replace(/start|end/g,e=>n6[e])}function i6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function o6(t,e,n,r){const s=mc(t);let i=i6(_s(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(k0)))),i}function Up(t){return t.replace(/left|right|bottom|top/g,e=>t6[e])}function a6(t){return{top:0,right:0,bottom:0,left:0,...t}}function Sk(t){return typeof t!="number"?a6(t):{top:t,right:t,bottom:t,left:t}}function Bp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function YE(t,e,n){let{reference:r,floating:s}=t;const i=hs(e),o=Kx(e),a=Hx(o),l=_s(e),u=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:f,y:r.y-s.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(mc(e)){case"start":m[o]-=p*(n&&u?-1:1);break;case"end":m[o]+=p*(n&&u?-1:1);break}return m}const l6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=YE(u,r,l),p=r,m={},_=0;for(let w=0;w<a.length;w++){const{name:y,fn:x}=a[w],{x:b,y:E,data:C,reset:j}=await x({x:f,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});f=b??f,h=E??h,m={...m,[y]:{...m[y],...C}},j&&_<=50&&(_++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:f,y:h}=YE(u,p,l)),w=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:m}};async function ad(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=xs(e,t),_=Sk(m),y=a[p?h==="floating"?"reference":"floating":h],x=Bp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),b=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},j=Bp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:E,strategy:l}):b);return{top:(x.top-j.top+_.top)/C.y,bottom:(j.bottom-x.bottom+_.bottom)/C.y,left:(x.left-j.left+_.left)/C.x,right:(j.right-x.right+_.right)/C.x}}const c6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:f=0}=xs(t,e)||{};if(u==null)return{};const h=Sk(f),p={x:n,y:r},m=Kx(s),_=Hx(m),w=await o.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",E=y?"clientHeight":"clientWidth",C=i.reference[_]+i.reference[m]-p[m]-i.floating[_],j=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=O?O[E]:0;(!S||!await(o.isElement==null?void 0:o.isElement(O)))&&(S=a.floating[E]||i.floating[_]);const I=C/2-j/2,P=S/2-w[_]/2-1,k=Mi(h[x],P),D=Mi(h[b],P),N=k,R=S-w[_]-D,U=S/2-w[_]/2+I,Q=N0(N,U,R),K=!l.arrow&&mc(s)!=null&&U!==Q&&i.reference[_]/2-(U<N?k:D)-w[_]/2<0,Z=K?U<N?U-N:U-R:0;return{[m]:p[m]+Z,data:{[m]:Q,centerOffset:U-Q-Z,...K&&{alignmentOffset:Z}},reset:K}}}),u6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...y}=xs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=_s(s),b=hs(a),E=_s(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),j=p||(E||!w?[Up(a)]:s6(a)),O=_!=="none";!p&&O&&j.push(...o6(a,w,_,C));const S=[a,...j],I=await ad(e,y),P=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&P.push(I[x]),h){const Q=r6(s,o,C);P.push(I[Q[0]],I[Q[1]])}if(k=[...k,{placement:s,overflows:P}],!P.every(Q=>Q<=0)){var D,N;const Q=(((D=i.flip)==null?void 0:D.index)||0)+1,K=S[Q];if(K){var R;const F=h==="alignment"?b!==hs(K):!1,$=((R=k[0])==null?void 0:R.overflows[0])>0;if(!F||$)return{data:{index:Q,overflows:k},reset:{placement:K}}}let Z=(N=k.filter(F=>F.overflows[0]<=0).sort((F,$)=>F.overflows[1]-$.overflows[1])[0])==null?void 0:N.placement;if(!Z)switch(m){case"bestFit":{var U;const F=(U=k.filter($=>{if(O){const W=hs($.placement);return W===b||W==="y"}return!0}).map($=>[$.placement,$.overflows.filter(W=>W>0).reduce((W,q)=>W+q,0)]).sort(($,W)=>$[1]-W[1])[0])==null?void 0:U[0];F&&(Z=F);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function JE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XE(t){return e6.some(e=>t[e]>=0)}const d6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=xs(t,e);switch(r){case"referenceHidden":{const i=await ad(e,{...s,elementContext:"reference"}),o=JE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:XE(o)}}}case"escaped":{const i=await ad(e,{...s,altBoundary:!0}),o=JE(i,n.floating);return{data:{escapedOffsets:o,escaped:XE(o)}}}default:return{}}}}};async function h6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=_s(n),a=mc(n),l=hs(n)==="y",u=["left","top"].includes(o)?-1:1,f=i&&l?-1:1,h=xs(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof _=="number"&&(m=a==="end"?_*-1:_),l?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const f6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await h6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},p6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...l}=xs(t,e),u={x:n,y:r},f=await ad(e,l),h=hs(_s(s)),p=qx(h);let m=u[p],_=u[h];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=m+f[y],E=m-f[x];m=N0(b,m,E)}if(o){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=_+f[y],E=_-f[x];_=N0(b,_,E)}const w=a.fn({...e,[p]:m,[h]:_});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[h]:o}}}}}},m6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=xs(t,e),f={x:n,y:r},h=hs(s),p=qx(h);let m=f[p],_=f[h];const w=xs(a,e),y=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const E=p==="y"?"height":"width",C=i.reference[p]-i.floating[E]+y.mainAxis,j=i.reference[p]+i.reference[E]-y.mainAxis;m<C?m=C:m>j&&(m=j)}if(u){var x,b;const E=p==="y"?"width":"height",C=["top","left"].includes(_s(s)),j=i.reference[h]-i.floating[E]+(C&&((x=o.offset)==null?void 0:x[h])||0)+(C?0:y.crossAxis),O=i.reference[h]+i.reference[E]+(C?0:((b=o.offset)==null?void 0:b[h])||0)-(C?y.crossAxis:0);_<j?_=j:_>O&&(_=O)}return{[p]:m,[h]:_}}}},g6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=xs(t,e),f=await ad(e,u),h=_s(s),p=mc(s),m=hs(s)==="y",{width:_,height:w}=i.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,y=p==="end"?"top":"bottom");const b=w-f.top-f.bottom,E=_-f.left-f.right,C=Mi(w-f[y],b),j=Mi(_-f[x],E),O=!e.middlewareData.shift;let S=C,I=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=b),O&&!p){const k=In(f.left,0),D=In(f.right,0),N=In(f.top,0),R=In(f.bottom,0);m?I=_-2*(k!==0||D!==0?k+D:In(f.left,f.right)):S=w-2*(N!==0||R!==0?N+R:In(f.top,f.bottom))}await l({...e,availableWidth:I,availableHeight:S});const P=await o.getDimensions(a.floating);return _!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function Xm(){return typeof window<"u"}function gc(t){return Ck(t)?(t.nodeName||"").toLowerCase():"#document"}function kn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qr(t){var e;return(e=(Ck(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ck(t){return Xm()?t instanceof Node||t instanceof kn(t).Node:!1}function pr(t){return Xm()?t instanceof Element||t instanceof kn(t).Element:!1}function Fr(t){return Xm()?t instanceof HTMLElement||t instanceof kn(t).HTMLElement:!1}function ZE(t){return!Xm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kn(t).ShadowRoot}function eh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function v6(t){return["table","td","th"].includes(gc(t))}function Zm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Wx(t){const e=Gx(),n=pr(t)?mr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function y6(t){let e=Li(t);for(;Fr(e)&&!Kl(e);){if(Wx(e))return e;if(Zm(e))return null;e=Li(e)}return null}function Gx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kl(t){return["html","body","#document"].includes(gc(t))}function mr(t){return kn(t).getComputedStyle(t)}function eg(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Li(t){if(gc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZE(t)&&t.host||qr(t);return ZE(e)?e.host:e}function Nk(t){const e=Li(t);return Kl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fr(e)&&eh(e)?e:Nk(e)}function ld(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Nk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=kn(s);if(i){const a=R0(o);return e.concat(o,o.visualViewport||[],eh(s)?s:[],a&&n?ld(a):[])}return e.concat(s,ld(s,[],n))}function R0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kk(t){const e=mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=$p(n)!==i||$p(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Qx(t){return pr(t)?t:t.contextElement}function pl(t){const e=Qx(t);if(!Fr(e))return Lr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=kk(e);let o=(i?$p(n.width):n.width)/r,a=(i?$p(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const w6=Lr(0);function Rk(t){const e=kn(t);return!Gx()||!e.visualViewport?w6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function x6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==kn(t)?!1:e}function Go(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Qx(t);let o=Lr(1);e&&(r?pr(r)&&(o=pl(r)):o=pl(t));const a=x6(i,n,r)?Rk(i):Lr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const p=kn(i),m=r&&pr(r)?kn(r):r;let _=p,w=R0(_);for(;w&&r&&m!==_;){const y=pl(w),x=w.getBoundingClientRect(),b=mr(w),E=x.left+(w.clientLeft+parseFloat(b.paddingLeft))*y.x,C=x.top+(w.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,u*=y.y,f*=y.x,h*=y.y,l+=E,u+=C,_=kn(w),w=R0(_)}}return Bp({width:f,height:h,x:l,y:u})}function Yx(t,e){const n=eg(t).scrollLeft;return e?e.left+n:Go(qr(t)).left+n}function Pk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Yx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function _6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=qr(r),a=e?Zm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Lr(1);const f=Lr(0),h=Fr(r);if((h||!h&&!i)&&((gc(r)!=="body"||eh(o))&&(l=eg(r)),Fr(r))){const m=Go(r);u=pl(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const p=o&&!h&&!i?Pk(o,l,!0):Lr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-l.scrollTop*u.y+f.y+p.y}}function b6(t){return Array.from(t.getClientRects())}function E6(t){const e=qr(t),n=eg(t),r=t.ownerDocument.body,s=In(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=In(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Yx(t);const a=-n.scrollTop;return mr(r).direction==="rtl"&&(o+=In(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function I6(t,e){const n=kn(t),r=qr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Gx();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function T6(t,e){const n=Go(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Fr(t)?pl(t):Lr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function eI(t,e,n){let r;if(e==="viewport")r=I6(t,n);else if(e==="document")r=E6(qr(t));else if(pr(e))r=T6(e,n);else{const s=Rk(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Bp(r)}function Ak(t,e){const n=Li(t);return n===e||!pr(n)||Kl(n)?!1:mr(n).position==="fixed"||Ak(n,e)}function S6(t,e){const n=e.get(t);if(n)return n;let r=ld(t,[],!1).filter(a=>pr(a)&&gc(a)!=="body"),s=null;const i=mr(t).position==="fixed";let o=i?Li(t):t;for(;pr(o)&&!Kl(o);){const a=mr(o),l=Wx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||eh(o)&&!l&&Ak(t,o))?r=r.filter(f=>f!==o):s=a,o=Li(o)}return e.set(t,r),r}function C6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Zm(e)?[]:S6(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,f)=>{const h=eI(e,f,s);return u.top=In(h.top,u.top),u.right=Mi(h.right,u.right),u.bottom=Mi(h.bottom,u.bottom),u.left=In(h.left,u.left),u},eI(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function N6(t){const{width:e,height:n}=kk(t);return{width:e,height:n}}function k6(t,e,n){const r=Fr(e),s=qr(e),i=n==="fixed",o=Go(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Lr(0);function u(){l.x=Yx(s)}if(r||!r&&!i)if((gc(e)!=="body"||eh(s))&&(a=eg(e)),r){const m=Go(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const f=s&&!r&&!i?Pk(s,a):Lr(0),h=o.left+a.scrollLeft-l.x-f.x,p=o.top+a.scrollTop-l.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function qv(t){return mr(t).position==="static"}function tI(t,e){if(!Fr(t)||mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qr(t)===n&&(n=n.ownerDocument.body),n}function jk(t,e){const n=kn(t);if(Zm(t))return n;if(!Fr(t)){let s=Li(t);for(;s&&!Kl(s);){if(pr(s)&&!qv(s))return s;s=Li(s)}return n}let r=tI(t,e);for(;r&&v6(r)&&qv(r);)r=tI(r,e);return r&&Kl(r)&&qv(r)&&!Wx(r)?n:r||y6(t)||n}const R6=async function(t){const e=this.getOffsetParent||jk,n=this.getDimensions,r=await n(t.floating);return{reference:k6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function P6(t){return mr(t).direction==="rtl"}const A6={convertOffsetParentRelativeRectToViewportRelativeRect:_6,getDocumentElement:qr,getClippingRect:C6,getOffsetParent:jk,getElementRects:R6,getClientRects:b6,getDimensions:N6,getScale:pl,isElement:pr,isRTL:P6};function Dk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function j6(t,e){let n=null,r;const s=qr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:f,top:h,width:p,height:m}=u;if(a||e(),!p||!m)return;const _=df(h),w=df(s.clientWidth-(f+p)),y=df(s.clientHeight-(h+m)),x=df(f),E={rootMargin:-_+"px "+-w+"px "+-y+"px "+-x+"px",threshold:In(0,Mi(1,l))||1};let C=!0;function j(O){const S=O[0].intersectionRatio;if(S!==l){if(!C)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Dk(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(j,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,E)}n.observe(t)}return o(!0),i}function D6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Qx(t),f=s||i?[...u?ld(u):[],...ld(e)]:[];f.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&a?j6(u,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let _,w=l?Go(t):null;l&&y();function y(){const x=Go(t);w&&!Dk(w,x)&&n(),w=x,_=requestAnimationFrame(y)}return n(),()=>{var x;f.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(_)}}const O6=f6,M6=p6,L6=u6,V6=g6,F6=d6,nI=c6,$6=m6,U6=(t,e,n)=>{const r=new Map,s={platform:A6,...n},i={...s.platform,_c:r};return l6(t,e,{...s,platform:i})};var zf=typeof document<"u"?g.useLayoutEffect:g.useEffect;function zp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!zp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Ok(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function rI(t,e){const n=Ok(t);return Math.round(e*n)/n}function Hv(t){const e=g.useRef(t);return zf(()=>{e.current=t}),e}function B6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);zp(p,r)||m(r);const[_,w]=g.useState(null),[y,x]=g.useState(null),b=g.useCallback(F=>{F!==O.current&&(O.current=F,w(F))},[]),E=g.useCallback(F=>{F!==S.current&&(S.current=F,x(F))},[]),C=i||_,j=o||y,O=g.useRef(null),S=g.useRef(null),I=g.useRef(f),P=l!=null,k=Hv(l),D=Hv(s),N=Hv(u),R=g.useCallback(()=>{if(!O.current||!S.current)return;const F={placement:e,strategy:n,middleware:p};D.current&&(F.platform=D.current),U6(O.current,S.current,F).then($=>{const W={...$,isPositioned:N.current!==!1};U.current&&!zp(I.current,W)&&(I.current=W,Yd.flushSync(()=>{h(W)}))})},[p,e,n,D,N]);zf(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const U=g.useRef(!1);zf(()=>(U.current=!0,()=>{U.current=!1}),[]),zf(()=>{if(C&&(O.current=C),j&&(S.current=j),C&&j){if(k.current)return k.current(C,j,R);R()}},[C,j,R,k,P]);const Q=g.useMemo(()=>({reference:O,floating:S,setReference:b,setFloating:E}),[b,E]),K=g.useMemo(()=>({reference:C,floating:j}),[C,j]),Z=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!K.floating)return F;const $=rI(K.floating,f.x),W=rI(K.floating,f.y);return a?{...F,transform:"translate("+$+"px, "+W+"px)",...Ok(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:W}},[n,a,K.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:R,refs:Q,elements:K,floatingStyles:Z}),[f,R,Q,K,Z])}const z6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?nI({element:r.current,padding:s}).fn(n):{}:r?nI({element:r,padding:s}).fn(n):{}}}},q6=(t,e)=>({...O6(t),options:[t,e]}),H6=(t,e)=>({...M6(t),options:[t,e]}),K6=(t,e)=>({...$6(t),options:[t,e]}),W6=(t,e)=>({...L6(t),options:[t,e]}),G6=(t,e)=>({...V6(t),options:[t,e]}),Q6=(t,e)=>({...F6(t),options:[t,e]}),Y6=(t,e)=>({...z6(t),options:[t,e]});var J6="Arrow",Mk=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mk.displayName=J6;var X6=Mk;function Jx(t){const[e,n]=g.useState(void 0);return Qn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Xx="Popper",[Lk,tg]=On(Xx),[Z6,Vk]=Lk(Xx),Fk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return c.jsx(Z6,{scope:e,anchor:r,onAnchorChange:s,children:n})};Fk.displayName=Xx;var $k="PopperAnchor",Uk=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Vk($k,n),o=g.useRef(null),a=Ve(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(ve.div,{...s,ref:a})});Uk.displayName=$k;var Zx="PopperContent",[e9,t9]=Lk(Zx),Bk=g.forwardRef((t,e)=>{var Ie,wt,nt,xt,Hr,Kr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:_,...w}=t,y=Vk(Zx,n),[x,b]=g.useState(null),E=Ve(e,Xn=>b(Xn)),[C,j]=g.useState(null),O=Jx(C),S=(O==null?void 0:O.width)??0,I=(O==null?void 0:O.height)??0,P=r+(i!=="center"?"-"+i:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(u)?u:[u],N=D.length>0,R={padding:k,boundary:D.filter(r9),altBoundary:N},{refs:U,floatingStyles:Q,placement:K,isPositioned:Z,middlewareData:F}=B6({strategy:"fixed",placement:P,whileElementsMounted:(...Xn)=>D6(...Xn,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[q6({mainAxis:s+I,alignmentAxis:o}),l&&H6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?K6():void 0,...R}),l&&W6({...R}),G6({...R,apply:({elements:Xn,rects:wr,availableWidth:eo,availableHeight:to})=>{const{width:xr,height:_a}=wr.reference,Ct=Xn.floating.style;Ct.setProperty("--radix-popper-available-width",`${eo}px`),Ct.setProperty("--radix-popper-available-height",`${to}px`),Ct.setProperty("--radix-popper-anchor-width",`${xr}px`),Ct.setProperty("--radix-popper-anchor-height",`${_a}px`)}}),C&&Y6({element:C,padding:a}),s9({arrowWidth:S,arrowHeight:I}),p&&Q6({strategy:"referenceHidden",...R})]}),[$,W]=Hk(K),q=xn(_);Qn(()=>{Z&&(q==null||q())},[Z,q]);const H=(Ie=F.arrow)==null?void 0:Ie.x,X=(wt=F.arrow)==null?void 0:wt.y,de=((nt=F.arrow)==null?void 0:nt.centerOffset)!==0,[le,ue]=g.useState();return Qn(()=>{x&&ue(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:Z?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(xt=F.transformOrigin)==null?void 0:xt.x,(Hr=F.transformOrigin)==null?void 0:Hr.y].join(" "),...((Kr=F.hide)==null?void 0:Kr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(e9,{scope:n,placedSide:$,onArrowChange:j,arrowX:H,arrowY:X,shouldHideArrow:de,children:c.jsx(ve.div,{"data-side":$,"data-align":W,...w,ref:E,style:{...w.style,animation:Z?void 0:"none"}})})})});Bk.displayName=Zx;var zk="PopperArrow",n9={top:"bottom",right:"left",bottom:"top",left:"right"},qk=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=t9(zk,r),o=n9[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(X6,{...s,ref:n,style:{...s.style,display:"block"}})})});qk.displayName=zk;function r9(t){return t!==null}var s9=t=>({name:"transformOrigin",options:t,fn(e){var y,x,b;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,f]=Hk(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let _="",w="";return u==="bottom"?(_=o?h:`${p}px`,w=`${-l}px`):u==="top"?(_=o?h:`${p}px`,w=`${r.floating.height+l}px`):u==="right"?(_=`${-l}px`,w=o?h:`${m}px`):u==="left"&&(_=`${r.floating.width+l}px`,w=o?h:`${m}px`),{data:{x:_,y:w}}}});function Hk(t){const[e,n="center"]=t.split("-");return[e,n]}var Kk=Fk,Wk=Uk,Gk=Bk,Qk=qk,[ng,GZ]=On("Tooltip",[tg]),rg=tg(),Yk="TooltipProvider",i9=700,P0="tooltip.open",[o9,e_]=ng(Yk),Jk=t=>{const{__scopeTooltip:e,delayDuration:n=i9,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(o9,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};Jk.displayName=Yk;var cd="Tooltip",[a9,sg]=ng(cd),Xk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=e_(cd,t.__scopeTooltip),u=rg(e),[f,h]=g.useState(null),p=Ii(),m=g.useRef(0),_=o??l.disableHoverableContent,w=a??l.delayDuration,y=g.useRef(!1),[x,b]=Ki({prop:r,defaultProp:s??!1,onChange:S=>{S?(l.onOpen(),document.dispatchEvent(new CustomEvent(P0))):l.onClose(),i==null||i(S)},caller:cd}),E=g.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),C=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),j=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),O=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},w)},[w,b]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(Kk,{...u,children:c.jsx(a9,{scope:e,contentId:p,open:x,stateAttribute:E,trigger:f,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayedRef.current?O():C()},[l.isOpenDelayedRef,O,C]),onTriggerLeave:g.useCallback(()=>{_?j():(window.clearTimeout(m.current),m.current=0)},[j,_]),onOpen:C,onClose:j,disableHoverableContent:_,children:n})})};Xk.displayName=cd;var A0="TooltipTrigger",Zk=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=sg(A0,n),i=e_(A0,n),o=rg(n),a=g.useRef(null),l=Ve(e,a,s.onTriggerChange),u=g.useRef(!1),f=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(Wk,{asChild:!0,...o,children:c.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:se(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:se(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});Zk.displayName=A0;var l9="TooltipPortal",[QZ,c9]=ng(l9,{forceMount:void 0}),Wl="TooltipContent",eR=g.forwardRef((t,e)=>{const n=c9(Wl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=sg(Wl,t.__scopeTooltip);return c.jsx(Jn,{present:r||o.open,children:o.disableHoverableContent?c.jsx(tR,{side:s,...i,ref:e}):c.jsx(u9,{side:s,...i,ref:e})})}),u9=g.forwardRef((t,e)=>{const n=sg(Wl,t.__scopeTooltip),r=e_(Wl,t.__scopeTooltip),s=g.useRef(null),i=Ve(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,f=s.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),m=g.useCallback((_,w)=>{const y=_.currentTarget,x={x:_.clientX,y:_.clientY},b=m9(x,y.getBoundingClientRect()),E=g9(x,b),C=v9(w.getBoundingClientRect()),j=w9([...E,...C]);a(j),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&f){const _=y=>m(y,f),w=y=>m(y,l);return l.addEventListener("pointerleave",_),f.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",_),f.removeEventListener("pointerleave",w)}}},[l,f,m,p]),g.useEffect(()=>{if(o){const _=w=>{const y=w.target,x={x:w.clientX,y:w.clientY},b=(l==null?void 0:l.contains(y))||(f==null?void 0:f.contains(y)),E=!y9(x,o);b?p():E&&(p(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,f,o,u,p]),c.jsx(tR,{...t,ref:i})}),[d9,h9]=ng(cd,{isInside:!1}),f9=C3("TooltipContent"),tR=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=sg(Wl,n),u=rg(n),{onClose:f}=l;return g.useEffect(()=>(document.addEventListener(P0,f),()=>document.removeEventListener(P0,f)),[f]),g.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),c.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:c.jsxs(Gk,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(f9,{children:r}),c.jsx(d9,{scope:n,isInside:!0,children:c.jsx(Y3,{id:l.contentId,role:"tooltip",children:s||r})})]})})});eR.displayName=Wl;var nR="TooltipArrow",p9=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rg(n);return h9(nR,n).isInside?null:c.jsx(Qk,{...s,...r,ref:e})});p9.displayName=nR;function m9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function g9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function v9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function y9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,f=a.y,h=l.x,p=l.y;f>r!=p>r&&n<(h-u)*(r-f)/(p-f)+u&&(s=!s)}return s}function w9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),x9(e)}function x9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _9=Jk,b9=Xk,E9=Zk,rR=eR;const sR=_9,I9=b9,T9=E9,iR=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(rR,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));iR.displayName=rR.displayName;var th=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qo=typeof window>"u"||"Deno"in globalThis;function dn(){}function S9(t,e){return typeof t=="function"?t(e):t}function j0(t){return typeof t=="number"&&t>=0&&t!==1/0}function oR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ml(t,e){return typeof t=="function"?t(e):t}function ar(t,e){return typeof t=="function"?t(e):t}function sI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==t_(o,e.options))return!1}else if(!dd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function iI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ud(e.options.mutationKey)!==ud(i))return!1}else if(!dd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function t_(t,e){return((e==null?void 0:e.queryKeyHashFn)||ud)(t)}function ud(t){return JSON.stringify(t,(e,n)=>O0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function dd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>dd(t[n],e[n])):!1}function aR(t,e){if(t===e)return t;const n=oI(t)&&oI(e);if(n||O0(t)&&O0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const f=n?u:i[u];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=aR(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function D0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function oI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function O0(t){if(!aI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!aI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aI(t){return Object.prototype.toString.call(t)==="[object Object]"}function C9(t){return new Promise(e=>{setTimeout(e,t)})}function M0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aR(t,e):e}function N9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function k9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var n_=Symbol();function lR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===n_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function R9(t,e){return typeof t=="function"?t(...e):!!t}var So,ri,Tl,pC,P9=(pC=class extends th{constructor(){super();he(this,So,void 0);he(this,ri,void 0);he(this,Tl,void 0);ie(this,Tl,e=>{if(!Qo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,ri)||this.setEventListener(M(this,Tl))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,ri))==null||e.call(this),ie(this,ri,void 0))}setEventListener(e){var n;ie(this,Tl,e),(n=M(this,ri))==null||n.call(this),ie(this,ri,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,So)!==e&&(ie(this,So,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,So)=="boolean"?M(this,So):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},So=new WeakMap,ri=new WeakMap,Tl=new WeakMap,pC),r_=new P9,Sl,si,Cl,mC,A9=(mC=class extends th{constructor(){super();he(this,Sl,!0);he(this,si,void 0);he(this,Cl,void 0);ie(this,Cl,e=>{if(!Qo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,si)||this.setEventListener(M(this,Cl))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,si))==null||e.call(this),ie(this,si,void 0))}setEventListener(e){var n;ie(this,Cl,e),(n=M(this,si))==null||n.call(this),ie(this,si,e(this.setOnline.bind(this)))}setOnline(e){M(this,Sl)!==e&&(ie(this,Sl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,Sl)}},Sl=new WeakMap,si=new WeakMap,Cl=new WeakMap,mC),qp=new A9;function L0(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function j9(t){return Math.min(1e3*2**t,3e4)}function cR(t){return(t??"online")==="online"?qp.isOnline():!0}var uR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kv(t){return t instanceof uR}function dR(t){let e=!1,n=0,r=!1,s;const i=L0(),o=w=>{var y;r||(p(new uR(w)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>r_.isFocused()&&(t.networkMode==="always"||qp.isOnline())&&t.canRun(),f=()=>cR(t.networkMode)&&t.canRun(),h=w=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var y;s=x=>{(r||u())&&w(x)},(y=t.onPause)==null||y.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),_=()=>{if(r)return;let w;const y=n===0?t.initialPromise:void 0;try{w=y??t.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(h).catch(x=>{var O;if(r)return;const b=t.retry??(Qo?0:3),E=t.retryDelay??j9,C=typeof E=="function"?E(n,x):E,j=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(e||!j){p(x);return}n++,(O=t.onFail)==null||O.call(t,n,x),C9(C).then(()=>u()?void 0:m()).then(()=>{e?p(x):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?_():m().then(_),i)}}var D9=t=>setTimeout(t,0);function O9(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=D9;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var jt=O9(),Co,gC,hR=(gC=class{constructor(){he(this,Co,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j0(this.gcTime)&&ie(this,Co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qo?1/0:5*60*1e3))}clearGcTimeout(){M(this,Co)&&(clearTimeout(M(this,Co)),ie(this,Co,void 0))}},Co=new WeakMap,gC),Nl,kl,Vn,No,zt,Dd,ko,nr,Zr,vC,M9=(vC=class extends hR{constructor(n){super();he(this,nr);he(this,Nl,void 0);he(this,kl,void 0);he(this,Vn,void 0);he(this,No,void 0);he(this,zt,void 0);he(this,Dd,void 0);he(this,ko,void 0);ie(this,ko,!1),ie(this,Dd,n.defaultOptions),this.setOptions(n.options),this.observers=[],ie(this,No,n.client),ie(this,Vn,M(this,No).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ie(this,Nl,L9(this.options)),this.state=n.state??M(this,Nl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=M(this,zt))==null?void 0:n.promise}setOptions(n){this.options={...M(this,Dd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,Vn).remove(this)}setData(n,r){const s=M0(this.state.data,n,this.options);return Ne(this,nr,Zr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ne(this,nr,Zr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=M(this,zt))==null?void 0:s.promise;return(i=M(this,zt))==null||i.cancel(n),r?r.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Nl))}isActive(){return this.observers.some(n=>ar(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===n_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!oR(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,zt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,zt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),M(this,Vn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(M(this,zt)&&(M(this,ko)?M(this,zt).cancel({revert:!0}):M(this,zt).cancelRetry()),this.scheduleGc()),M(this,Vn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ne(this,nr,Zr).call(this,{type:"invalidate"})}fetch(n,r){var u,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,zt))return M(this,zt).continueRetry(),M(this,zt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ie(this,ko,!0),s.signal)})},o=()=>{const p=lR(this.options,r),m={client:M(this,No),queryKey:this.queryKey,meta:this.meta};return i(m),ie(this,ko,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:M(this,No),state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),ie(this,kl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ne(this,nr,Zr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var m,_,w,y;Kv(p)&&p.silent||Ne(this,nr,Zr).call(this,{type:"error",error:p}),Kv(p)||((_=(m=M(this,Vn).config).onError)==null||_.call(m,p,this),(y=(w=M(this,Vn).config).onSettled)==null||y.call(w,this.state.data,p,this)),this.scheduleGc()};return ie(this,zt,dR({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,_,w,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){l(x);return}(_=(m=M(this,Vn).config).onSuccess)==null||_.call(m,p,this),(y=(w=M(this,Vn).config).onSettled)==null||y.call(w,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{Ne(this,nr,Zr).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Ne(this,nr,Zr).call(this,{type:"pause"})},onContinue:()=>{Ne(this,nr,Zr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),M(this,zt).start()}},Nl=new WeakMap,kl=new WeakMap,Vn=new WeakMap,No=new WeakMap,zt=new WeakMap,Dd=new WeakMap,ko=new WeakMap,nr=new WeakSet,Zr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...fR(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Kv(i)&&i.revert&&M(this,kl)?{...M(this,kl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),jt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),M(this,Vn).notify({query:this,type:"updated",action:n})})},vC);function fR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function L9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Tr,yC,V9=(yC=class extends th{constructor(e={}){super();he(this,Tr,void 0);this.config=e,ie(this,Tr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??t_(s,n);let o=this.get(i);return o||(o=new M9({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,Tr).has(e.queryHash)||(M(this,Tr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,Tr).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,Tr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,Tr).get(e)}getAll(){return[...M(this,Tr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>sI(e,r)):n}notify(e){jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Tr=new WeakMap,yC),Sr,Jt,Ro,Cr,Ws,wC,F9=(wC=class extends hR{constructor(n){super();he(this,Cr);he(this,Sr,void 0);he(this,Jt,void 0);he(this,Ro,void 0);this.mutationId=n.mutationId,ie(this,Jt,n.mutationCache),ie(this,Sr,[]),this.state=n.state||$9(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){M(this,Sr).includes(n)||(M(this,Sr).push(n),this.clearGcTimeout(),M(this,Jt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ie(this,Sr,M(this,Sr).filter(r=>r!==n)),this.scheduleGc(),M(this,Jt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){M(this,Sr).length||(this.state.status==="pending"?this.scheduleGc():M(this,Jt).remove(this))}continue(){var n;return((n=M(this,Ro))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,f,h,p,m,_,w,y,x,b,E,C,j,O,S,I,P;const r=()=>{Ne(this,Cr,Ws).call(this,{type:"continue"})};ie(this,Ro,dR({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{Ne(this,Cr,Ws).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{Ne(this,Cr,Ws).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Jt).canRun(this)}));const s=this.state.status==="pending",i=!M(this,Ro).canStart();try{if(s)r();else{Ne(this,Cr,Ws).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=M(this,Jt).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));D!==this.state.context&&Ne(this,Cr,Ws).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const k=await M(this,Ro).start();return await((h=(f=M(this,Jt).config).onSuccess)==null?void 0:h.call(f,k,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,k,n,this.state.context)),await((w=(_=M(this,Jt).config).onSettled)==null?void 0:w.call(_,k,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,k,null,n,this.state.context)),Ne(this,Cr,Ws).call(this,{type:"success",data:k}),k}catch(k){try{throw await((E=(b=M(this,Jt).config).onError)==null?void 0:E.call(b,k,n,this.state.context,this)),await((j=(C=this.options).onError)==null?void 0:j.call(C,k,n,this.state.context)),await((S=(O=M(this,Jt).config).onSettled)==null?void 0:S.call(O,void 0,k,this.state.variables,this.state.context,this)),await((P=(I=this.options).onSettled)==null?void 0:P.call(I,void 0,k,n,this.state.context)),k}finally{Ne(this,Cr,Ws).call(this,{type:"error",error:k})}}finally{M(this,Jt).runNext(this)}}},Sr=new WeakMap,Jt=new WeakMap,Ro=new WeakMap,Cr=new WeakSet,Ws=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jt.batch(()=>{M(this,Sr).forEach(s=>{s.onMutationUpdate(n)}),M(this,Jt).notify({mutation:this,type:"updated",action:n})})},wC);function $9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rs,rr,Od,xC,U9=(xC=class extends th{constructor(e={}){super();he(this,rs,void 0);he(this,rr,void 0);he(this,Od,void 0);this.config=e,ie(this,rs,new Set),ie(this,rr,new Map),ie(this,Od,0)}build(e,n,r){const s=new F9({mutationCache:this,mutationId:++zh(this,Od)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){M(this,rs).add(e);const n=hf(e);if(typeof n=="string"){const r=M(this,rr).get(n);r?r.push(e):M(this,rr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(M(this,rs).delete(e)){const n=hf(e);if(typeof n=="string"){const r=M(this,rr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&M(this,rr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=hf(e);if(typeof n=="string"){const r=M(this,rr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=hf(e);if(typeof n=="string"){const s=(r=M(this,rr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jt.batch(()=>{M(this,rs).forEach(e=>{this.notify({type:"removed",mutation:e})}),M(this,rs).clear(),M(this,rr).clear()})}getAll(){return Array.from(M(this,rs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iI(n,r))}findAll(e={}){return this.getAll().filter(n=>iI(e,n))}notify(e){jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return jt.batch(()=>Promise.all(e.map(n=>n.continue().catch(dn))))}},rs=new WeakMap,rr=new WeakMap,Od=new WeakMap,xC);function hf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function lI(t){return{onFetch:(e,n)=>{var f,h,p,m,_;const r=e.options,s=(p=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const y=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},x=lR(e.options,e.fetchOptions),b=async(E,C,j)=>{if(w)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const O={client:e.client,queryKey:e.queryKey,pageParam:C,direction:j?"backward":"forward",meta:e.options.meta};y(O);const S=await x(O),{maxPages:I}=e.options,P=j?k9:N9;return{pages:P(E.pages,S,I),pageParams:P(E.pageParams,C,I)}};if(s&&i.length){const E=s==="backward",C=E?B9:cI,j={pages:i,pageParams:o},O=C(r,j);a=await b(j,O,E)}else{const E=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:cI(r,a);if(l>0&&C==null)break;a=await b(a,C),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var w,y;return(y=(w=e.options).persister)==null?void 0:y.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function cI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function B9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var st,ii,oi,Rl,Pl,ai,Al,jl,_C,z9=(_C=class{constructor(t={}){he(this,st,void 0);he(this,ii,void 0);he(this,oi,void 0);he(this,Rl,void 0);he(this,Pl,void 0);he(this,ai,void 0);he(this,Al,void 0);he(this,jl,void 0);ie(this,st,t.queryCache||new V9),ie(this,ii,t.mutationCache||new U9),ie(this,oi,t.defaultOptions||{}),ie(this,Rl,new Map),ie(this,Pl,new Map),ie(this,ai,0)}mount(){zh(this,ai)._++,M(this,ai)===1&&(ie(this,Al,r_.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,st).onFocus())})),ie(this,jl,qp.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,st).onOnline())})))}unmount(){var t,e;zh(this,ai)._--,M(this,ai)===0&&((t=M(this,Al))==null||t.call(this),ie(this,Al,void 0),(e=M(this,jl))==null||e.call(this),ie(this,jl,void 0))}isFetching(t){return M(this,st).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,st).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=M(this,st).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ml(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return M(this,st).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=M(this,st).get(r.queryHash),i=s==null?void 0:s.state.data,o=S9(e,i);if(o!==void 0)return M(this,st).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return jt.batch(()=>M(this,st).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,st).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,st);jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,st);return jt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=jt.batch(()=>M(this,st).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(dn).catch(dn)}invalidateQueries(t,e={}){return jt.batch(()=>(M(this,st).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=jt.batch(()=>M(this,st).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(dn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,st).build(this,e);return n.isStaleByTime(ml(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=lI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=lI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qp.isOnline()?M(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,st)}getMutationCache(){return M(this,ii)}getDefaultOptions(){return M(this,oi)}setDefaultOptions(t){ie(this,oi,t)}setQueryDefaults(t,e){M(this,Rl).set(ud(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,Rl).values()],n={};return e.forEach(r=>{dd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){M(this,Pl).set(ud(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,Pl).values()],n={};return e.forEach(r=>{dd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,oi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=t_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===n_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,oi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,st).clear(),M(this,ii).clear()}},st=new WeakMap,ii=new WeakMap,oi=new WeakMap,Rl=new WeakMap,Pl=new WeakMap,ai=new WeakMap,Al=new WeakMap,jl=new WeakMap,_C),cn,ke,Md,Xt,Po,Dl,li,ci,Ld,Ol,Ml,Ao,jo,ui,Ll,Do,hu,Vd,V0,Fd,F0,$d,$0,Ud,U0,Bd,B0,zd,z0,qd,q0,km,pR,bC,q9=(bC=class extends th{constructor(e,n){super();he(this,Do);he(this,Vd);he(this,Fd);he(this,$d);he(this,Ud);he(this,Bd);he(this,zd);he(this,qd);he(this,km);he(this,cn,void 0);he(this,ke,void 0);he(this,Md,void 0);he(this,Xt,void 0);he(this,Po,void 0);he(this,Dl,void 0);he(this,li,void 0);he(this,ci,void 0);he(this,Ld,void 0);he(this,Ol,void 0);he(this,Ml,void 0);he(this,Ao,void 0);he(this,jo,void 0);he(this,ui,void 0);he(this,Ll,new Set);this.options=n,ie(this,cn,e),ie(this,ci,null),ie(this,li,L0()),this.options.experimental_prefetchInRender||M(this,li).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,ke).addObserver(this),uI(M(this,ke),this.options)?Ne(this,Do,hu).call(this):this.updateResult(),Ne(this,Ud,U0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return H0(M(this,ke),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return H0(M(this,ke),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ne(this,Bd,B0).call(this),Ne(this,zd,z0).call(this),M(this,ke).removeObserver(this)}setOptions(e){const n=this.options,r=M(this,ke);if(this.options=M(this,cn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ar(this.options.enabled,M(this,ke))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ne(this,qd,q0).call(this),M(this,ke).setOptions(this.options),n._defaulted&&!D0(this.options,n)&&M(this,cn).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,ke),observer:this});const s=this.hasListeners();s&&dI(M(this,ke),r,this.options,n)&&Ne(this,Do,hu).call(this),this.updateResult(),s&&(M(this,ke)!==r||ar(this.options.enabled,M(this,ke))!==ar(n.enabled,M(this,ke))||ml(this.options.staleTime,M(this,ke))!==ml(n.staleTime,M(this,ke)))&&Ne(this,Vd,V0).call(this);const i=Ne(this,Fd,F0).call(this);s&&(M(this,ke)!==r||ar(this.options.enabled,M(this,ke))!==ar(n.enabled,M(this,ke))||i!==M(this,ui))&&Ne(this,$d,$0).call(this,i)}getOptimisticResult(e){const n=M(this,cn).getQueryCache().build(M(this,cn),e),r=this.createResult(n,e);return K9(this,r)&&(ie(this,Xt,r),ie(this,Dl,this.options),ie(this,Po,M(this,ke).state)),r}getCurrentResult(){return M(this,Xt)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){M(this,Ll).add(e)}getCurrentQuery(){return M(this,ke)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,cn).defaultQueryOptions(e),r=M(this,cn).getQueryCache().build(M(this,cn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ne(this,Do,hu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Xt)))}createResult(e,n){var P;const r=M(this,ke),s=this.options,i=M(this,Xt),o=M(this,Po),a=M(this,Dl),u=e!==r?e.state:M(this,Md),{state:f}=e;let h={...f},p=!1,m;if(n._optimisticResults){const k=this.hasListeners(),D=!k&&uI(e,n),N=k&&dI(e,r,n,s);(D||N)&&(h={...h,...fR(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:_,errorUpdatedAt:w,status:y}=h;m=h.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(k=i.data,x=!0):k=typeof n.placeholderData=="function"?n.placeholderData((P=M(this,Ml))==null?void 0:P.state.data,M(this,Ml)):n.placeholderData,k!==void 0&&(y="success",m=M0(i==null?void 0:i.data,k,n),p=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(o==null?void 0:o.data)&&n.select===M(this,Ld))m=M(this,Ol);else try{ie(this,Ld,n.select),m=n.select(m),m=M0(i==null?void 0:i.data,m,n),ie(this,Ol,m),ie(this,ci,null)}catch(k){ie(this,ci,k)}M(this,ci)&&(_=M(this,ci),m=M(this,Ol),w=Date.now(),y="error");const b=h.fetchStatus==="fetching",E=y==="pending",C=y==="error",j=E&&b,O=m!==void 0,I={status:y,fetchStatus:h.fetchStatus,isPending:E,isSuccess:y==="success",isError:C,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:h.dataUpdatedAt,error:_,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!E,isLoadingError:C&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&O,isStale:s_(e,n),refetch:this.refetch,promise:M(this,li)};if(this.options.experimental_prefetchInRender){const k=R=>{I.status==="error"?R.reject(I.error):I.data!==void 0&&R.resolve(I.data)},D=()=>{const R=ie(this,li,I.promise=L0());k(R)},N=M(this,li);switch(N.status){case"pending":e.queryHash===r.queryHash&&k(N);break;case"fulfilled":(I.status==="error"||I.data!==N.value)&&D();break;case"rejected":(I.status!=="error"||I.error!==N.reason)&&D();break}}return I}updateResult(){const e=M(this,Xt),n=this.createResult(M(this,ke),this.options);if(ie(this,Po,M(this,ke).state),ie(this,Dl,this.options),M(this,Po).data!==void 0&&ie(this,Ml,M(this,ke)),D0(n,e))return;ie(this,Xt,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!M(this,Ll).size)return!0;const o=new Set(i??M(this,Ll));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,Xt)).some(a=>{const l=a;return M(this,Xt)[l]!==e[l]&&o.has(l)})};Ne(this,km,pR).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ne(this,Ud,U0).call(this)}},cn=new WeakMap,ke=new WeakMap,Md=new WeakMap,Xt=new WeakMap,Po=new WeakMap,Dl=new WeakMap,li=new WeakMap,ci=new WeakMap,Ld=new WeakMap,Ol=new WeakMap,Ml=new WeakMap,Ao=new WeakMap,jo=new WeakMap,ui=new WeakMap,Ll=new WeakMap,Do=new WeakSet,hu=function(e){Ne(this,qd,q0).call(this);let n=M(this,ke).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(dn)),n},Vd=new WeakSet,V0=function(){Ne(this,Bd,B0).call(this);const e=ml(this.options.staleTime,M(this,ke));if(Qo||M(this,Xt).isStale||!j0(e))return;const r=oR(M(this,Xt).dataUpdatedAt,e)+1;ie(this,Ao,setTimeout(()=>{M(this,Xt).isStale||this.updateResult()},r))},Fd=new WeakSet,F0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,ke)):this.options.refetchInterval)??!1},$d=new WeakSet,$0=function(e){Ne(this,zd,z0).call(this),ie(this,ui,e),!(Qo||ar(this.options.enabled,M(this,ke))===!1||!j0(M(this,ui))||M(this,ui)===0)&&ie(this,jo,setInterval(()=>{(this.options.refetchIntervalInBackground||r_.isFocused())&&Ne(this,Do,hu).call(this)},M(this,ui)))},Ud=new WeakSet,U0=function(){Ne(this,Vd,V0).call(this),Ne(this,$d,$0).call(this,Ne(this,Fd,F0).call(this))},Bd=new WeakSet,B0=function(){M(this,Ao)&&(clearTimeout(M(this,Ao)),ie(this,Ao,void 0))},zd=new WeakSet,z0=function(){M(this,jo)&&(clearInterval(M(this,jo)),ie(this,jo,void 0))},qd=new WeakSet,q0=function(){const e=M(this,cn).getQueryCache().build(M(this,cn),this.options);if(e===M(this,ke))return;const n=M(this,ke);ie(this,ke,e),ie(this,Md,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},km=new WeakSet,pR=function(e){jt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,Xt))}),M(this,cn).getQueryCache().notify({query:M(this,ke),type:"observerResultsUpdated"})})},bC);function H9(t,e){return ar(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function uI(t,e){return H9(t,e)||t.state.data!==void 0&&H0(t,e,e.refetchOnMount)}function H0(t,e,n){if(ar(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&s_(t,e)}return!1}function dI(t,e,n,r){return(t!==e||ar(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&s_(t,n)}function s_(t,e){return ar(e.enabled,t)!==!1&&t.isStaleByTime(ml(e.staleTime,t))}function K9(t,e){return!D0(t.getCurrentResult(),e)}var mR=g.createContext(void 0),W9=t=>{const e=g.useContext(mR);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},G9=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(mR.Provider,{value:t,children:e})),gR=g.createContext(!1),Q9=()=>g.useContext(gR);gR.Provider;function Y9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var J9=g.createContext(Y9()),X9=()=>g.useContext(J9),Z9=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},e8=t=>{g.useEffect(()=>{t.clearReset()},[t])},t8=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||R9(n,[t.error,r])),n8=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},r8=(t,e)=>t.isLoading&&t.isFetching&&!e,s8=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,hI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function i8(t,e,n){var h,p,m,_,w;const r=W9(n),s=Q9(),i=X9(),o=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",n8(o),Z9(o,i),e8(i);const a=!r.getQueryCache().get(o.queryHash),[l]=g.useState(()=>new e(r,o)),u=l.getOptimisticResult(o),f=!s&&t.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(y=>{const x=f?l.subscribe(jt.batchCalls(y)):dn;return l.updateResult(),x},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),g.useEffect(()=>{l.setOptions(o)},[o,l]),s8(o,u))throw hI(o,l,i);if(t8({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((_=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||_.call(m,o,u),o.experimental_prefetchInRender&&!Qo&&r8(u,s)){const y=a?hI(o,l,i):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;y==null||y.catch(dn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function o8(t,e){return i8(t,q9,e)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const fI="popstate";function a8(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return K0("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hp(s)}return c8(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l8(){return Math.random().toString(36).substr(2,8)}function pI(t,e){return{usr:t.state,key:t.key,idx:e}}function K0(t,e,n,r){return n===void 0&&(n=null),hd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vc(e):e,{state:n,key:e&&e.key||r||l8()})}function Hp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function c8(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=pi.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(hd({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=pi.Pop;let y=f(),x=y==null?null:y-u;u=y,l&&l({action:a,location:w.location,delta:x})}function p(y,x){a=pi.Push;let b=K0(w.location,y,x);n&&n(b,y),u=f()+1;let E=pI(b,u),C=w.createHref(b);try{o.pushState(E,"",C)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(C)}i&&l&&l({action:a,location:w.location,delta:1})}function m(y,x){a=pi.Replace;let b=K0(w.location,y,x);n&&n(b,y),u=f();let E=pI(b,u),C=w.createHref(b);o.replaceState(E,"",C),i&&l&&l({action:a,location:w.location,delta:0})}function _(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:Hp(y);return b=b.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let w={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(fI,h),l=y,()=>{s.removeEventListener(fI,h),l=null}},createHref(y){return e(s,y)},createURL:_,encodeLocation(y){let x=_(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(y){return o.go(y)}};return w}var mI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mI||(mI={}));function u8(t,e,n){return n===void 0&&(n="/"),d8(t,e,n,!1)}function d8(t,e,n,r){let s=typeof e=="string"?vc(e):e,i=i_(s.pathname||"/",n);if(i==null)return null;let o=yR(t);h8(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=E8(i);a=_8(o[l],u,r)}return a}function yR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ti([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yR(i.children,e,f,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:w8(u,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of wR(i.path))s(i,o,l)}),e}function wR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=wR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function h8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:x8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const f8=/^:[\w-]+$/,p8=3,m8=2,g8=1,v8=10,y8=-2,gI=t=>t==="*";function w8(t,e){let n=t.split("/"),r=n.length;return n.some(gI)&&(r+=y8),e&&(r+=m8),n.filter(s=>!gI(s)).reduce((s,i)=>s+(f8.test(i)?p8:i===""?g8:v8),r)}function x8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _8(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=vI({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=vI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ti([i,h.pathname]),pathnameBase:C8(Ti([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ti([i,h.pathnameBase]))}return o}function vI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=b8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const _=a[h];return m&&!_?u[p]=void 0:u[p]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function b8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function E8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function i_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function I8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?vc(t):t;return{pathname:n?n.startsWith("/")?n:T8(n,e):e,search:N8(r),hash:k8(s)}}function T8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xR(t,e){let n=S8(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _R(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=vc(t):(s=hd({},t),ht(!s.pathname||!s.pathname.includes("?"),Wv("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Wv("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Wv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=I8(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),C8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,k8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bR=["post","put","patch","delete"];new Set(bR);const P8=["get",...bR];new Set(P8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}const o_=g.createContext(null),A8=g.createContext(null),fa=g.createContext(null),ig=g.createContext(null),Wi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),ER=g.createContext(null);function j8(t,e){let{relative:n}=e===void 0?{}:e;nh()||ht(!1);let{basename:r,navigator:s}=g.useContext(fa),{hash:i,pathname:o,search:a}=TR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ti([r,o])),s.createHref({pathname:l,search:a,hash:i})}function nh(){return g.useContext(ig)!=null}function pa(){return nh()||ht(!1),g.useContext(ig).location}function IR(t){g.useContext(fa).static||g.useLayoutEffect(t)}function yc(){let{isDataRoute:t}=g.useContext(Wi);return t?K8():D8()}function D8(){nh()||ht(!1);let t=g.useContext(o_),{basename:e,future:n,navigator:r}=g.useContext(fa),{matches:s}=g.useContext(Wi),{pathname:i}=pa(),o=JSON.stringify(xR(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return IR(()=>{a.current=!0}),g.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=_R(u,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ti([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,i,t])}function a_(){let{matches:t}=g.useContext(Wi),e=t[t.length-1];return e?e.params:{}}function TR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(fa),{matches:s}=g.useContext(Wi),{pathname:i}=pa(),o=JSON.stringify(xR(s,r.v7_relativeSplatPath));return g.useMemo(()=>_R(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function O8(t,e){return M8(t,e)}function M8(t,e,n,r){nh()||ht(!1);let{navigator:s}=g.useContext(fa),{matches:i}=g.useContext(Wi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=pa(),f;if(e){var h;let y=typeof e=="string"?vc(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||ht(!1),f=y}else f=u;let p=f.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=u8(t,{pathname:m}),w=U8(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Ti([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ti([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&w?g.createElement(ig.Provider,{value:{location:fd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:pi.Pop}},w):w}function L8(){let t=H8(),e=R8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,i)}const V8=g.createElement(L8,null);class F8 extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Wi.Provider,{value:this.props.routeContext},g.createElement(ER.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $8(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(o_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Wi.Provider,{value:e},r)}function U8(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||ht(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:m}=n,_=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,p)=>{let m,_=!1,w=null,y=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||V8,l&&(u<0&&p===0?(W8("route-fallback",!1),_=!0,y=null):u===p&&(_=!0,y=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),b=()=>{let E;return m?E=w:_?E=y:h.route.Component?E=g.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,g.createElement($8,{match:h,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?g.createElement(F8,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var SR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SR||{}),Kp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kp||{});function B8(t){let e=g.useContext(o_);return e||ht(!1),e}function z8(t){let e=g.useContext(A8);return e||ht(!1),e}function q8(t){let e=g.useContext(Wi);return e||ht(!1),e}function CR(t){let e=q8(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function H8(){var t;let e=g.useContext(ER),n=z8(Kp.UseRouteError),r=CR(Kp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function K8(){let{router:t}=B8(SR.UseNavigateStable),e=CR(Kp.UseNavigateStable),n=g.useRef(!1);return IR(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fd({fromRouteId:e},i)))},[t,e])}const yI={};function W8(t,e,n){!e&&!yI[t]&&(yI[t]=!0)}function G8(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Ln(t){ht(!1)}function Q8(t){let{basename:e="/",children:n=null,location:r,navigationType:s=pi.Pop,navigator:i,static:o=!1,future:a}=t;nh()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:i,static:o,future:fd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=vc(r));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:_="default"}=r,w=g.useMemo(()=>{let y=i_(f,l);return y==null?null:{location:{pathname:y,search:h,hash:p,state:m,key:_},navigationType:s}},[l,f,h,p,m,_,s]);return w==null?null:g.createElement(fa.Provider,{value:u},g.createElement(ig.Provider,{children:n,value:w}))}function Y8(t){let{children:e,location:n}=t;return O8(W0(e),n)}new Promise(()=>{});function W0(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,W0(r.props.children,i));return}r.type!==Ln&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=W0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(this,arguments)}function J8(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function X8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z8(t,e){return t.button===0&&(!e||e==="_self")&&!X8(t)}function Q0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function e$(t,e){let n=Q0(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const t$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n$="6";try{window.__reactRouterVersion=n$}catch{}const r$="startTransition",wI=Kw[r$];function s$(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=a8({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=g.useCallback(h=>{u&&wI?wI(()=>l(h)):l(h)},[l,u]);return g.useLayoutEffect(()=>o.listen(f),[o,f]),g.useEffect(()=>G8(r),[r]),g.createElement(Q8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const i$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:h}=e,p=J8(e,t$),{basename:m}=g.useContext(fa),_,w=!1;if(typeof u=="string"&&o$.test(u)&&(_=u,i$))try{let E=new URL(window.location.href),C=u.startsWith("//")?new URL(E.protocol+u):new URL(u),j=i_(C.pathname,m);C.origin===E.origin&&j!=null?u=j+C.search+C.hash:w=!0}catch{}let y=j8(u,{relative:s}),x=a$(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:h});function b(E){r&&r(E),E.defaultPrevented||x(E)}return g.createElement("a",G0({},p,{href:_||y,onClick:w||i?r:b,ref:n,target:l}))});var xI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xI||(xI={}));var _I;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_I||(_I={}));function a$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=yc(),u=pa(),f=TR(t,{relative:o});return g.useCallback(h=>{if(Z8(h,n)){h.preventDefault();let p=r!==void 0?r:Hp(u)===Hp(f);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,f,r,s,n,t,i,o,a])}function l$(t){let e=g.useRef(Q0(t)),n=g.useRef(!1),r=pa(),s=g.useMemo(()=>e$(r.search,n.current?null:e.current),[r.search]),i=yc(),o=g.useCallback((a,l)=>{const u=Q0(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}function c$(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const bI={};function Y0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&bI[e[0]]||(typeof e[0]=="string"&&(bI[e[0]]=new Date),c$(...e))}const NR=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function EI(t,e,n){t.loadNamespaces(e,NR(t,n))}function II(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,NR(t,r))}function u$(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=e.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}function d$(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Y0("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):u$(t,e,n)}const h$=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,f$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},p$=t=>f$[t],m$=t=>t.replace(h$,p$);let J0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:m$};function g$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};J0={...J0,...t}}function v$(){return J0}let kR;function y$(t){kR=t}function w$(){return kR}const x$={type:"3rdParty",init(t){g$(t.options.react),y$(t)}},_$=g.createContext();class b${constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const E$=(t,e)=>{const n=g.useRef();return g.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function l_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:s}=g.useContext(_$)||{},i=n||r||w$();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new b$),!i){Y0("You will need to pass in an i18next instance by using initReactI18next");const E=(j,O)=>typeof O=="string"?O:O&&typeof O=="object"&&typeof O.defaultValue=="string"?O.defaultValue:Array.isArray(j)?j[j.length-1]:j,C=[E,{},!1];return C.t=E,C.i18n={},C.ready=!1,C}i.options.react&&i.options.react.wait!==void 0&&Y0("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...v$(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=t||s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const f=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>d$(E,i,o));function h(){return i.getFixedT(e.lng||null,o.nsMode==="fallback"?u:u[0],l)}const[p,m]=g.useState(h);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const w=E$(_),y=g.useRef(!0);g.useEffect(()=>{const{bindI18n:E,bindI18nStore:C}=o;y.current=!0,!f&&!a&&(e.lng?II(i,e.lng,u,()=>{y.current&&m(h)}):EI(i,u,()=>{y.current&&m(h)})),f&&w&&w!==_&&y.current&&m(h);function j(){y.current&&m(h)}return E&&i&&i.on(E,j),C&&i&&i.store.on(C,j),()=>{y.current=!1,E&&i&&E.split(" ").forEach(O=>i.off(O,j)),C&&i&&C.split(" ").forEach(O=>i.store.off(O,j))}},[i,_]);const x=g.useRef(!0);g.useEffect(()=>{y.current&&!x.current&&m(h),x.current=!1},[i,l]);const b=[p,i,f];if(b.t=p,b.i18n=i,b.ready=f,f||!f&&!a)return b;throw new Promise(E=>{e.lng?II(i,e.lng,u,()=>E()):EI(i,u,()=>E())})}const RR={"favorites.login_required":{ru:"Войдите, чтобы сохранять избранное",en:"Please login to save favorites",ge:"გთხოვთ შეხვიდეთ ფავორიტების შესანახად"},"nav.home":{ru:"Главная",en:"Home",ge:"მთავარი"},"nav.shop":{ru:"Магазин",en:"Shop",ge:"მაღაზია"},"nav.about":{ru:"О нас",en:"About",ge:"შესახებ"},"nav.contact":{ru:"Контакты",en:"Contact",ge:"კონტაქტი"},"nav.promo_code":{ru:"Промокод",en:"Promo Code",ge:"პრომო კოდი"},"nav.enter_promo":{ru:"Ввести промокод",en:"Enter Promo Code",ge:"შეიყვანეთ პრომო კოდი"},"nav.faq":{ru:"ЧЗВ",en:"FAQ",ge:"კითხვები"},"nav.categories":{ru:"Категории",en:"Categories",ge:"კატეგორიები"},"nav.cart":{ru:"Корзина",en:"Shopping cart",ge:"კალათა"},"nav.profile":{ru:"Профиль",en:"Profile",ge:"პროფილი"},"nav.profile_menu":{ru:"Меню профиля",en:"Profile menu",ge:"პროფილის მენიუ"},"nav.favorites":{ru:"Избранное",en:"Favorites",ge:"ფავორიტები"},"favorites.item":{ru:"избранный товар",en:"favorite item",ge:"რჩეული ნივთი"},"favorites.items":{ru:"избранных товара",en:"favorite items",ge:"რჩეული ნივთი"},"home.shop_now":{ru:"Купить сейчас",en:"Shop Now",ge:"შეიძინე ახლა"},"home.our_story":{ru:"Наша история",en:"Our Story",ge:"ისტორია"},"home.subtitle":{ru:"Дикая эстетика для тех, кто кует свой стиль сам — из цепей, клёпок и свободы. Готика, панк, хендмейд — всё, что бунтует вместе с тобой",en:"Wild aesthetics for those who forge their own style - from chains, studs, and freedom. Gothic, punk, handmade - everything that rebels with you",ge:"ველური ესთეტიკა მათთვის, ვინც თავად ქმნის საკუთარ სტილს - ჯაჭვებით, მექანიზმებით და თავისუფლებით. გოთიკა, პანკი, ხელნაკეთი - ყველაფერი, რაც აჯანყდება შენთან ერთად"},"home.popular_products":{ru:"Новинки",en:"New Arrivals",ge:"ახალი ნივთები"},"home.view_all":{ru:"Смотреть все",en:"View All",ge:"ყველას ნახვა"},"footer.shop_link":{ru:"Магазин",en:"Shop",ge:"მაღაზია"},"footer.company":{ru:"Компания",en:"Company",ge:"კომპანია"},"footer.info":{ru:"Информация",en:"Info",ge:"ინფორმაცია"},"footer.all_products":{ru:"Все товары",en:"All Products",ge:"ყველა პროდუქტი"},"footer.bracelets":{ru:"Браслеты",en:"Bracelets",ge:"სამაჯურები"},"footer.necklaces":{ru:"Ожерелья",en:"Necklaces",ge:"ყელსაბამები"},"footer.rings":{ru:"Кольца",en:"Rings",ge:"ბეჭდები"},"footer.candles":{ru:"Свечи",en:"Candles",ge:"სანთლები"},"footer.about_us":{ru:"О нас",en:"About Us",ge:"ჩვენს შესახებ"},"footer.contact":{ru:"Контакты",en:"Contact",ge:"კონტაქტი"},"footer.faq":{ru:"ЧЗВ",en:"FAQ",ge:"ხშირად დასმული კითხვები"},"footer.shipping":{ru:"Доставка",en:"Shipping",ge:"მიწოდება"},"footer.handmade":{ru:`Руками, а не шаблоном. С душой, а не инструкцией.
Если хочешь блестяшку — не сюда. Тут делают вещи с характером🪓`,en:`Handmade, not templated. With soul, not instructions.
If you want something flashy — look elsewhere. Here we make things with character🪓`,ge:`ხელით, არა შაბლონით. სულით, არა ინსტრუქციით.
თუ ბრჭვიალს ეძებ — ეს ადგილი არ არის შენთვის. აქ ხასიათიან ნივთებს ვქმნით🪓`},"common.close":{ru:"Закрыть",en:"Close",ge:"დახურვა"},"delivery.title":{ru:"Информация о доставке",en:"Delivery Information",ge:"მიტანის ინფორმაცია"},"delivery.description":{ru:`Доставка по всему Тбилиси: цена 5 лари!

Сроки доставки: от 1 до 5 дней

Курьер свяжется с вами заранее по указанному номеру телефона.

При заказе от 100 лари - доставка бесплатная!`,en:`Delivery throughout Tbilisi: price 5 GEL!

Delivery time: 1 to 5 days

The courier will contact you in advance using the provided phone number.

Free delivery for orders over 100 GEL!`,ge:`მიტანა მთელ თბილისში: ფასი 5 ლარი!

მიტანის ვადები: 1 დღიდან 5 დღემდე

კურიერი წინასწარ დაგიკავშირდებათ თქვენს მიერ მითითებულ ტელეფონის ნომერზე.

100 ლარიდან ზემოთ შეკვეთებზე - მიტანა უფასოა!`},"footer.delivery":{ru:"Доставка от 5 лари (доставка на дом).",en:"Delivery from 5 lari (home delivery).",ge:"მიტანა 5 ლარიდან (სახლში მიტანა)."},"cart.delivery_fee":{ru:"+5 лар за доставку",en:"+5 lari for delivery",ge:"+5 ლარი მიწოდებისთვის"},"cart.free_delivery":{ru:"Бесплатная доставка!",en:"Free delivery!",ge:"უფასო მიწოდება!"},"cart.promo_info":{ru:"при заказе от 100 лар доставка бесплатно! - а при заказе от 500 лар - скидка 10%!",en:"For orders from 100 lari, delivery is free! For orders from 500 lari, 10% discount!",ge:"100 ლარიდან მიწოდება უფასოა! 500 ლარიდან - 10% ფასდაკლება!"},"cart.discount_10":{ru:"скидка: 10%",en:"discount: 10%",ge:"ფასდაკლება: 10%"},"cart.discount_5":{ru:"скидка: 5%",en:"discount: 5%",ge:"ფასდაკლება: 5%"},"cart.discount_5_review":{ru:"скидка: 5%",en:"discount: 5%",ge:"ფასდაკლება: 5%"},"cart.free_delivery_info":{ru:"При заказе от 100 лар — бесплатная доставка!",en:"For orders from 100 lari — free delivery!",ge:"100 ლარიდან მიტანა უფასოა!"},"product.categories":{ru:"Категории",en:"Categories",ge:"კატეგორიები"},"products.zero":{ru:"товаров",en:"products",ge:"ნაწარმი"},"products.one":{ru:"товар",en:"product",ge:"ნივთი"},"products.few":{ru:"товара",en:"products",ge:"ნივთი"},"products.many":{ru:"товаров",en:"products",ge:"ნაწარმი"},"product.add_to_cart":{ru:"В корзину",en:"Add to cart",ge:"კალათაში დამატება"},"product.featured":{ru:"Рекомендуемый товар",en:"Featured Product",ge:"რჩეული პროდუქტი"},"product.out_of_stock":{ru:"Нет в наличии",en:"Out of Stock",ge:"ამოწურულია"},"favorites.added":{ru:"Добавлено в избранное",en:"Added to Favorites",ge:"რჩეულიში დამატებულია"},"favorites.added_description":{ru:"Товар добавлен в избранное",en:"Item has been added to your favorites",ge:"ნივთი დამატებულია რჩეულიში"},"favorites.remove":{ru:"Удалить из избранных",en:"Remove from favorites",ge:"ფავორიტებიდან ამოშლა"},"favorites.empty_title":{ru:"Ваш список избранного пуст",en:"Your favorites list is empty",ge:"თქვენი ფავორიტების სია ცარიელია"},"favorites.empty_description":{ru:"Добавляйте товары в избранное, и они появятся здесь",en:"Add items to your favorites and they will appear here",ge:"დაამატეთ ნივთები ფავორიტებში და ისინი აქ გამოჩნდება"},"favorites.browse_shop":{ru:"В магазин",en:"Browse Shop",ge:"მაღაზიაში"},"favorites.removed":{ru:"Убрать из избранных",en:"Removed from Favorites",ge:"რჩეულიდან ამოღებულია"},"favorites.removed_description":{ru:"Товар удален из избранного",en:"Item has been removed from your favorites",ge:"ნივთი ამოღებულია რჩეულიდან"},"favorites.empty":{ru:"Избранных товаров пока нет",en:"No favorite items yet",ge:"ჯერ არ არის რჩეული ნივთები"},"favorites.title":{ru:"Избранное",en:"Favorites",ge:"რჩეული"},"product.in_cart":{ru:"Кто-то смотрит этот товар 👀",en:"Someone is viewing this item 👀",ge:"ვიღაც უყურებს ამ ნივთს 👀"},"product.in_stock":{ru:"В наличии:",en:"In stock:",ge:"მარაგში:"},"product.discounted_products":{ru:"Товары со скидкой",en:"Discounted Products",ge:"ფასდაკლებული ნივთები"},"product.no_discounted_products":{ru:"Нет товаров со скидкой",en:"No discounted products available",ge:"ფასდაკლებული პროვიზია არ არის ხელმისაწვდომი"},recently_viewed:{label:{ru:"Недавно просмотренные",en:"Recently Viewed",ge:"ბოლოს ნანახი"},you_looked:{ru:"Вы заглядывались 👀",en:"You were looking 👀",ge:"შენ ნანახი გაქვს 👀"},you_might_like:{ru:"Возможно, вы искали это?",en:"You might be looking for this?",ge:"შეიძლება ეძებდი ამას?"},dont_lose_it:{ru:"Не потеряй то, что понравилось",en:"Don't lose what you liked",ge:"არ დაკარგო რაც მოგეწონა"},view_all:{ru:"Смотреть все",en:"View all",ge:"ყველას ნახვა"},empty_state:{ru:"Вы еще ничего не смотрели!",en:"You have not viewed anything yet!",ge:"ჯერ არაფერი გაქვთ ნანახი!"},view_shop:{ru:"Посмотреть",en:"View",ge:"ნახვა"}},"favorites.favorite":{ru:"Избранное",en:"Favorite",ge:"რჩეული"},"product.back_to_shop":{ru:"Назад в магазин",en:"Back to shop",ge:"მაღაზიაში დაბრუნება"},"product.details":{ru:"Детали",en:"Details",ge:"დეტალები"},"product.detail_material":{ru:"Материал",en:"Material",ge:"მასალა"},"product.not_found":{ru:"Товар не найден",en:"Product not found",ge:"პროდუქტი არ მოიძებნა"},"product.not_found_message":{ru:"Извините, запрашиваемый товар не существует.",en:"Sorry, the requested product does not exist.",ge:"ბოდიში, მოთხოვნილი პროდუქტი არ არსებობს."},"product.return_to_shop":{ru:"Вернуться в магазин",en:"Return to shop",ge:"მაღაზიაში დაბრუნება"},"product.no_products_found":{ru:"Товары не найдены. Попробуйте изменить параметры фильтрации.",en:"No products found. Try adjusting your filter criteria.",ge:"პროდუქცია ვერ მოიძებნა. სცადეთ ფილტრის პარამეტრების შეცვლა."},"product.detail_1":{ru:"• Ручная работа из премиум-материалов",en:"• Handcrafted from premium materials",ge:"• ხელნაკეთი პრემიუმ მასალებისგან"},"product.detail_2":{ru:"• Уникальный альтернативный стиль",en:"• Unique alternative style",ge:"• უნიკალური ალტერნატიული სტილი"},"product.detail_3":{ru:"• Фирменный дизайн Nekoshop - СДЕЛАНО ЛАПКАМИ",en:"• Signature Nekoshop - PAWCRAFTS design",ge:"• Nekoshop - დამზადებულია თათებით"},"product.detail_4":{ru:"• Сделано на века",en:"• Built to last",ge:"• შექმნილია საუკუნოდ"},"product.remaining_stock":{ru:"Осталось: {count} шт.",en:"Remaining: {count} pcs",ge:"დარჩენილია: {count} ც."},"filters.availability":{ru:"Наличие",en:"Availability",ge:"ხელმისაწვდომობა"},"product.no_stock":{ru:"Нет в наличии",en:"Out of stock",ge:"არ არის მარაგში"},"product.stock_warning":{ru:"Вы можете заказать не больше, чем есть в наличии. Если выбрано больше — количество будет уменьшено до доступного.",en:"You can't order more than available in stock. If more is selected, the quantity will be reduced to available.",ge:"თქვენ არ შეგიძლიათ შეუკვეთოთ მეტი, ვიდრე მარაგშია. მეტის არჩევის შემთხვევაში, რაოდენობა შემცირდება ხელმისაწვდომამდე."},"home.most_popular":{ru:"САМОЕ ПОПУЛЯРНОЕ",en:"MOST POPULAR",ge:"ყველაზე პოპულარული"},"product.most_viewed":{ru:"Самый популярный",en:"Most Viewed",ge:"ყველაზე ნანახი"},"product.discounts":{ru:"Товары со скидкой",en:"Discounted Products",ge:"ფასდაკლებული პროდუქცია"},"product.coming_soon_discounted":{ru:"Скоро появятся товары со скидкой",en:"Discounted products coming soon",ge:"მალე გამოჩნდება ფასდაკლებული პროდუქცია"},"filters.title":{ru:"Фильтры",en:"Filters",ge:"ფილტრები"},"filters.most_popular":{ru:"Популярные",en:"Most Popular",ge:"პოპულარული"},"filters.discounts":{ru:"Скидки",en:"Discounts",ge:"ფასდაკლებები"},"filters.price":{ru:"Цена",en:"Price",ge:"ფასი"},"filters.categories":{ru:"Категории",en:"Categories",ge:"კატეგორიები"},"filters.materials":{ru:"Материалы",en:"Materials",ge:"მასალები"},"filters.in_stock":{ru:"В наличии",en:"In stock",ge:"მარაგში"},"filters.out_of_stock":{ru:"Нет в наличии",en:"Out of stock",ge:"არ არის მარაგში"},"filters.on_sale":{ru:"Со скидкой",en:"On sale",ge:"ფასდაკლებით"},"filters.apply":{ru:"Применить",en:"Apply",ge:"გამოყენება"},"common.apply":{ru:"Применить",en:"Apply",ge:"გამოყენება"},"promo.have_code":{ru:"Есть промокод?",en:"Have a code?",ge:"გაქვთ კოდი?"},"promo.want_discount":{ru:"Хотите скидку?",en:"Want a discount?",ge:"გსურთ ფასდაკლება?"},"promo.how_to_get":{ru:"Вот как её получить:",en:"Here's how to get it:",ge:"აი, როგორ მიიღოთ ის:"},"promo.social_codes":{ru:"Промокоды, которые мы публикуем в соцсетях!",en:"Promo codes that we post on our social media!",ge:"პრომო კოდები, რომლებსაც სოციალურ ქსელებში ვაქვეყნებთ!"},"promo.over_500":{ru:"Для заказов от 500 лари — скидка 10%!",en:"For orders over 500 lari — get 10% off!",ge:"500 ლარის ზემოთ შეკვეთებზე — 10%-იანი ფასდაკლება!"},"promo.over_200":{ru:"Для заказов от 200 лари — скидка 5%!",en:"For orders over 200 lari — get 5% off!",ge:"200 ლარის ზემოთ შეკვეთებზე — 5%-იანი ფასდაკლება!"},"promo.over_100":{ru:"Для заказов от 100 лари — бесплатная доставка!",en:"For orders over 100 lari — free delivery!",ge:"100 ლარის ზემოთ შეკვეთებზე — უფასო მიწოდება!"},"promo.facebook":{ru:"Facebook",en:"Facebook",ge:"Facebook"},"promo.instagram":{ru:"Instagram",en:"Instagram",ge:"Instagram"},"promo.discount_info_title":{ru:"Скидки на заказы",en:"Order Discounts",ge:"ფასდაკლებები შეკვეთებზე"},"promo.follow_us_for_discounts":{ru:"Подпишитесь на наши соцсети, чтобы не пропустить акции и скидки!",en:"Follow us on social media to get exclusive promo codes and discounts!",ge:"გამოგვყევით სოციალურ ქსელებში, რათა არ გამოგრჩეთ აქციები და ფასდაკლებები!"},"sort.by_price_low_high":{ru:"Цена: по возрастанию",en:"Price: Low to High",ge:"ფასი: ზრდადი"},"sort.by_price_high_low":{ru:"Цена: по убыванию",en:"Price: High to Low",ge:"ფასი: კლებადი"},"filters.reset":{ru:"Сбросить",en:"Reset",ge:"გაუქმება"},"filters.special_offers":{ru:"Специальные предложения",en:"Special Offers",ge:"სპეციალური შეთავაზებები"},"filters.reset_all":{ru:"Сбросить все фильтры",en:"Reset all filters",ge:"ყველა ფილტრის გასუფთავება"},"filters.show":{ru:"Показать фильтры",en:"Show filters",ge:"ფილტრების ჩვენება"},"filters.hide":{ru:"Скрыть фильтры",en:"Hide filters",ge:"ფილტრების დამალვა"},"category.all":{ru:"Все",en:"All",ge:"ყველა"},"category.bracelets":{ru:"Браслеты",en:"Bracelets",ge:"სამაჯურები"},"category.rings":{ru:"Кольца",en:"Rings",ge:"ბეჭდები"},"category.earrings":{ru:"Серьги",en:"Earrings",ge:"საყურეები"},"category.chokers":{ru:"Чокеры",en:"Chokers",ge:"ჩოკერები"},"category.hairpins":{ru:"Заколки",en:"Hairpins",ge:"სამაგრები"},"category.candles":{ru:"Свечи",en:"Candles",ge:"სანთლები"},"category.accessories":{ru:"Аксессуары",en:"Accessories",ge:"აქსესუარები"},"category.necklaces":{ru:"Ожерелья",en:"Necklaces",ge:"ყელსაბამები"},"category.bracelet":{ru:"Браслет",en:"Bracelet",ge:"სამაჯური"},"category.ring":{ru:"Кольцо",en:"Ring",ge:"ბეჭედი"},"category.earring":{ru:"Серьга",en:"Earring",ge:"საყურე"},"category.choker":{ru:"Чокер",en:"Choker",ge:"ჩოკერი"},"category.hairpin":{ru:"Заколка",en:"Hairpin",ge:"სამაგარი"},"category.candle":{ru:"Свеча",en:"Candle",ge:"სანთელი"},"category.necklace":{ru:"Ожерелье",en:"Necklace",ge:"ყელსაბამი"},"material.metal":{ru:"Металл",en:"Metal",ge:"მეტალი"},"material.silver":{ru:"Серебро",en:"Silver",ge:"ვერცხლი"},"material.gold":{ru:"Золото",en:"Gold",ge:"ოქრო"},"material.leather":{ru:"Кожа",en:"Leather",ge:"ტყავი"},"material.fabric":{ru:"Ткань",en:"Fabric",ge:"ქსოვილი"},"material.glass":{ru:"Стекло",en:"Glass",ge:"მინა"},"material.wood":{ru:"Дерево",en:"Wood",ge:"ხე"},"material.wax":{ru:"Воск",en:"Wax",ge:"ცვილი"},"toast.added_to_cart":{ru:"Добавлено в корзину",en:"Added to cart",ge:"კალათაში დამატებულია"},"toast.added_to_cart_description":{ru:"Товар был добавлен в вашу корзину",en:"Product has been added to your cart",ge:"პროდუქტი დაემატა თქვენს კალათას"},"toast.stock_limit_reached":{ru:"Эй, не жадничай",en:"Hey, don't be greedy",ge:"ჰეი, ნუ იქნები ხარბი"},"toast.stock_limit_message":{ru:"Мы же сказали — максимум 5. Хочешь больше? Жди пополнения.",en:"We said — maximum 5. Want more? Wait for restock.",ge:"ჩვენ ვთქვით — მაქსიმუმ 5. გინდა მეტი? დაელოდე შევსებას."},"reviews.title_part1":{ru:"Отзывы",en:"User",ge:"მომხმარებლის"},"reviews.title_part2":{ru:"клиентов",en:"Reviews",ge:"მიმოხილვები"},"reviews.leave_review":{ru:"Оставить отзыв",en:"Leave a Review",ge:"დატოვეთ მიმოხილვა"},"reviews.rating":{ru:"Оценка",en:"Rating",ge:"შეფასება"},"reviews.comment":{ru:"Комментарий",en:"Comment",ge:"კომენტარი"},"reviews.comment_placeholder":{ru:"Напишите ваш комментарий здесь...",en:"Write your comment here...",ge:"დაწერეთ თქვენი კომენტარი აქ..."},"reviews.photo_url":{ru:"URL фотографии",en:"Photo URL",ge:"ფოტოს URL"},"reviews.photo_url_placeholder":{ru:"Вставьте URL изображения здесь",en:"Paste the image URL here",ge:"ჩასვით სურათის URL აქ"},"reviews.submit":{ru:"Отправить отзыв",en:"Submit Review",ge:"მიმოხილვის გაგზავნა"},"reviews.review":{ru:"отзыв",en:"review",ge:"მიმოხილვა"},"reviews.reviews":{ru:"отзывов",en:"reviews",ge:"მიმოხილვები"},"reviews.no_reviews":{ru:"Пока нет отзывов",en:"No reviews yet",ge:"ჯერ არ არის მიმოხილვები"},"reviews.customer_reviews":{ru:"Отзывы клиентов",en:"Customer Reviews",ge:"მომხმარებელთა მიმოხილვები"},"reviews.view_all":{ru:"Смотреть все",en:"View all",ge:"ყველას ნახვა"},"reviews.success":{ru:"Успех!",en:"Success!",ge:"წარმატება!"},"reviews.thank_you":{ru:"Спасибо за ваш отзыв!",en:"Thank you for your review!",ge:"მადლობა თქვენი მიმოხილვისთვის!"},"reviews.error":{ru:"Ошибка",en:"Error",ge:"შეცდომა"},"reviews.comment_required":{ru:"Пожалуйста, оставьте комментарий",en:"Please leave a comment",ge:"გთხოვთ დატოვოთ კომენტარი"},"reviews.rating_required":{ru:"Пожалуйста, поставьте оценку",en:"Please provide a rating",ge:"გთხოვთ მიუთითოთ შეფასება"},"reviews.must_purchase":{ru:"Вы можете оставить отзыв только после покупки товара",en:"You can only leave a review after purchasing the product",ge:"თქვენ შეგიძლიათ დატოვოთ მიმოხილვა მხოლოდ პროდუქტის შეძენის შემდეგ"},"reviews.already_reviewed":{ru:"Вы уже оставили отзыв на этот товар",en:"You have already reviewed this product",ge:"თქვენ უკვე დაგიტოვებიათ მიმოხილვა ამ პროდუქტზე"},"reviews.must_purchase_message":{ru:"Отзывы могут оставлять только покупатели, которые приобрели этот товар.",en:"Reviews can only be left by customers who have purchased this item.",ge:"მიმოხილვების დატოვება შეუძლიათ მხოლოდ მომხმარებლებს, რომლებმაც შეიძინეს ეს ნივთი."},"reviews.verified_only":{ru:"(только проверенные покупки)",en:"(verified purchases only)",ge:"(მხოლოდ დადასტურებული შენაძენები)"},"reviews.leave_good_review_discount":{ru:"Оставь хороший отзыв и получи 5% скидку на следующий заказ!",en:"Leave a good review and get 5% off your next order!",ge:"დატოვე კარგი მიმოხილვა და მიიღე 5% ფასდაკლება შემდეგ შეკვეთაზე!"},"reviews.write_review":{ru:"Написать отзыв",en:"Write a Review",ge:"მიმოხილვის დაწერა"},"reviews.your_rating":{ru:"Ваша оценка",en:"Your Rating",ge:"თქვენი შეფასება"},"reviews.how_was_it":{ru:"Как вам товар?",en:"How was it?",ge:"როგორ მოგეწონათ?"},"reactions.love":{ru:"Обожаю!",en:"Love it!",ge:"მიყვარს!"},"reactions.funny":{ru:"Забавно",en:"Funny",ge:"სასაცილოა"},"reactions.mind_blown":{ru:"Восторг!",en:"Mind blown!",ge:"გამაოგნებელია!"},"reviews.what_did_you_like":{ru:"Что вам понравилось?",en:"What did you like?",ge:"რა მოგეწონათ?"},"reviews.categories.price":{ru:"Цена",en:"Price",ge:"ფასი"},"reviews.categories.quality":{ru:"Качество",en:"Quality",ge:"ხარისხი"},"reviews.categories.design":{ru:"Дизайн",en:"Design",ge:"დიზაინი"},"reviews.categories.delivery":{ru:"Доставка",en:"Delivery",ge:"მიწოდება"},"reviews.categories.packaging":{ru:"Упаковка",en:"Packaging",ge:"შეფუთვა"},"reviews.categories.usability":{ru:"Удобство",en:"Usability",ge:"მოხერხებულობა"},"reviews.tell_us_more":{ru:"Расскажите подробнее",en:"Tell us more",ge:"მოგვიყევით მეტი"},"reviews.features_placeholder":{ru:"Что именно вам понравилось?",en:"What specifically did you like?",ge:"რა გაგახარეთ?"},"reviews.example":{ru:"Например:",en:"Example:",ge:"მაგალითად:"},"reviews.example_text":{ru:"Отличное качество, быстрая доставка, красивая упаковка",en:"Great quality, fast delivery, beautiful packaging",ge:"კარგი ხარისხი, სწრაფი მიწოდება, ლამაზი შეფუთვა"},"reviews.liked":{ru:"понравилось",en:"liked",ge:"მოეწონა"},"reviews.reactions.love":{ru:"Я влюбился!",en:"I fell in love!",ge:"თავი შემაყვარა!"},"reviews.reactions.funny":{ru:"Это странно, но прикольно!",en:"It's weird but cool!",ge:"უცნაურია, მაგრამ მაგარია!"},"reviews.reactions.mind_blown":{ru:"Я в полном шоке!",en:"I'm completely shocked!",ge:"შოკშივარ!"},"reviews.success_title":{ru:"Спасибо за отзыв!",en:"Thank you for your review!",ge:"მადლობა თქვენი მიმოხილვისთვის!"},"reviews.success_message":{ru:"Ваш отзыв успешно опубликован",en:"Your review has been published",ge:"თქვენი მიმოხილვა გამოქვეყნებულია"},"reviews.submit_error":{ru:"Произошла ошибка при отправке отзыва",en:"An error occurred while submitting your review",ge:"შეცდომა მიმოხილვის გაგზავნისას"},"reviews.filters":{ru:"Фильтры",en:"Filters",ge:"ფილტრები"},"reviews.clear_all":{ru:"Очистить все",en:"Clear all",ge:"ყველას წაშლა"},"reviews.comment_help":{ru:"Напишите отзыв о товаре",en:"Write your review about this product",ge:"დაწერეთ მიმოხილვა ამ პროდუქტზე"},"reviews.max_size":{ru:"макс. {{size}}",en:"max {{size}}",ge:"მაქს. {{size}}"},"reviews.choose_photo":{ru:"Выбрать фото",en:"Choose photo",ge:"აირჩიეთ ფოტო"},"reviews.add_photo":{ru:"Добавить фото",en:"Add photo",ge:"ფოტოს დამატება"},"common.optional":{ru:"необязательно",en:"optional",ge:"არასავალდებულო"},"common.clear":{ru:"Очистить",en:"Clear",ge:"გასუფთავება"},"common.required_fields":{ru:"Обязательные поля",en:"Required fields",ge:"სავალდებულო ველები"},"reviews.sort_by":{ru:"Сортировать по",en:"Sort by",ge:"დალაგება"},"reviews.newest":{ru:"Сначала новые",en:"Newest first",ge:"უახლესი ჯერ"},"reviews.highest_rated":{ru:"Высокий рейтинг",en:"Highest rated",ge:"მაღალი რეიტინგი"},"reviews.with_photos":{ru:"С фотографиями",en:"With photos",ge:"ფოტოებით"},"reviews.stars":{ru:"звезды",en:"stars",ge:"ვარსკვლავი"},"cart.title":{ru:"Корзина",en:"Shopping Cart",ge:"კალათა"},"cart.item":{ru:"товар",en:"item",ge:"ნივთი"},"cart.items":{ru:"товара",en:"items",ge:"ნივთი"},"cart.empty":{ru:"Ваша корзина пуста",en:"Your cart is empty",ge:"თქვენი კალათა ცარიელია"},"cart.subtotal":{ru:"Промежуточный итог",en:"Subtotal",ge:"შუალედური ჯამი"},"cart.shipping":{ru:"Доставка",en:"Shipping",ge:"მიწოდება"},"cart.free":{ru:"Бесплатно",en:"Free",ge:"უფასო"},"cart.discount_applied":{ru:"Применена скидка {{percent}}",en:"{{percent}} discount applied",ge:"{{percent}} ფასდაკლება"},"cart.total":{ru:"Итого",en:"Total",ge:"სულ"},"cart.checkout":{ru:"Оформить заказ",en:"Checkout",ge:"შეკვეთის დასრულება"},"cart.remove":{ru:"Удалить",en:"Remove",ge:"წაშლა"},"similar.products":{ru:"Похожие товары",en:"Similar Products",ge:"მსგავსი პროდუქტები"},"product.hide_details":{ru:"Скрыть детали",en:"Hide details",ge:"დამალვა დეტალები"},"product.details.handmade":{ru:"• Ручная работа из премиальных материалов",en:"• Handmade from premium materials",ge:"• ხელნაკეთი პრემიუმ მასალებისგან"},"product.details.style":{ru:"• Уникальный альтернативный стиль",en:"• Unique alternative style",ge:"• უნიკალური ალტერნატიული სტილი"},"product.details.made_by":{ru:"• Nekoshop - сделано с любовью",en:"• Nekoshop - made with love",ge:"• Nekoshop - დამზადებულია თათებით"},"product.quality":{ru:"• Создано на века",en:"• Made to last a lifetime",ge:"• შექმნილია საუკუნოდ"},"cart.quantity":{ru:"Количество",en:"Quantity",ge:"რაოდენობა"},"cart.update":{ru:"Обновить",en:"Update",ge:"განახლება"},"auth.sign_in":{ru:"Войти",en:"Sign In",ge:"შესვლა"},"auth.signing_in":{ru:"Вход",en:"Signing in",ge:"შესვლა"},"auth.sign_up":{ru:"Зарегистрироваться",en:"Sign Up",ge:"რეგისტრაცია"},"auth.sign_out":{ru:"Выйти",en:"Sign Out",ge:"გამოსვლა"},"auth.email":{ru:"Электронная почта",en:"Email",ge:"ელ.ფოსტა"},"auth.password":{ru:"Пароль",en:"Password",ge:"პაროლი"},"auth.name":{ru:"Имя",en:"Name",ge:"სახელი"},"auth.continue_with":{ru:"Продолжить с",en:"Continue with",ge:"გაგრძელება"},"auth.google":{ru:"Google",en:"Google",ge:"Google"},"auth.facebook":{ru:"Facebook",en:"Facebook",ge:"Facebook"},"auth.no_account":{ru:"Нет аккаунта?",en:"Don't have an account?",ge:"არ გაქვთ ანგარიში?"},"auth.already_account":{ru:"Уже есть аккаунт?",en:"Already have an account?",ge:"უკვე გაქვთ ანგარიში?"},"auth.forgot_password":{ru:"Забыли пароль?",en:"Forgot password?",ge:"დაგავიწყდათ პაროლი?"},"auth.or":{ru:"или",en:"or",ge:"ან"},"auth.profile":{ru:"Профиль",en:"Profile",ge:"პროფილი"},"auth.welcome":{ru:"Добро пожаловать",en:"Welcome",ge:"მოგესალმებით"},"auth.login_success":{ru:"Вы успешно вошли в систему",en:"You have successfully logged in",ge:"თქვენ წარმატებით შეხვედით სისტემაში"},"auth.logout_success":{ru:"Вы успешно вышли из системы",en:"You have successfully logged out",ge:"თქვენ წარმატებით გამოხვედით სისტემიდან"},"auth.signup_success":{ru:"Регистрация успешна",en:"Registration successful",ge:"რეგისტრაცია წარმატებულია"},"auth.login_failed":{ru:"Ошибка входа. Проверьте email и пароль.",en:"Login failed. Please check your email and password.",ge:"ავტორიზაცია ვერ მოხერხდა. გთხოვთ შეამოწმოთ ელ. ფოსტა და პაროლი."},"checkout.login_with_google":{ru:"Войти с Google",en:"Sign in with Google",ge:"შესვლა Google-ით"},"auth.signup_failed":{ru:"Ошибка регистрации",en:"Registration failed",ge:"რეგისტრაცია ვერ მოხერხდა"},"auth.error":{ru:"Ошибка",en:"Error",ge:"შეცდომა"},"auth.goodbye":{ru:"До свидания",en:"Goodbye",ge:"ნახვამდის"},"reviews.login_required":{ru:"Для оставления отзыва необходимо войти в систему",en:"Login required to leave a review",ge:"მიმოხილვის დასატოვებლად საჭიროა სისტემაში შესვლა"},"about.title":{ru:"О нас",en:"About",ge:"ჩვენს შესახებ"},"about.intro":{ru:"NEKO — это не просто магазин. Это место, где каждое изделие рождено в заботливых и талантливых золотых руках. Здесь нет конвейеров. Нет банальности. Только душа, стиль и ручная магия.",en:"NEKO is not just a store. It is a place where every item is born in the caring and talented golden hands. No assembly lines. No banality. Just soul, style, and handmade magic.",ge:"NEKO მხოლოდ მაღაზია არ არის. ეს ადგილია, სადაც ყოველი ნივთი იბადება ზრუნვისა და ნიჭიერი ოქროს ხელების მიერ. აქ არ არის კონვეიერები. არ არის ბანალურობა. მხოლოდ სული, სტილი და ხელნაკეთი მაგია."},"about.quote":{ru:"Мы не следим за модой. Мы сами её рожаем.",en:"We do not follow fashion. We give birth to it ourselves.",ge:"ჩვენ მოდას არ მივყვებით. ჩვენ თვითონ ვშობთ მას."},"about.philosophy_title":{ru:"Наша философия",en:"Our Philosophy",ge:"ჩვენი ფილოსოფია"},"about.philosophy_text":{ru:"Каждый товар в NEKO — это вызов обыденности. Это вещь с характером, с эмоцией и с историей. Мы создаём для тех, кто ценит настоящее и хочет выделяться не криками, а аурой.",en:"Every item at NEKO is a challenge to the ordinary. It is a thing with character, emotion, and a story. We create for those who value authenticity and want to stand out not with screams, but with an aura.",ge:"NEKO-ში ყოველი ნივთი გამოწვევაა ყოველდღიურობისთვის. ეს არის ნივთი ხასიათით, ემოციებით და ისტორიით. ჩვენ ვქმნით მათთვის, ვინც აფასებს ნამდვილს და სურს გამორჩეულობა არა ყვირილით, არამედ აურით."},"about.craftsmanship_title":{ru:"Ручная магия",en:"Handmade Magic",ge:"ხელნაკეთი მაგია"},"about.craftsmanship_text":{ru:"Всё, что ты найдёшь у нас — сделано вручную. Наши мастера не просто работают — они импровизируют. В ход идет любой материал который попадется им в лапы, металл, ткань и даже странные штуки, которые превращаются в офигенные артефакты. Главное — чтобы вещь была живая.",en:"Everything you find here is handmade. Our masters do not just work—they improvise. Any material that comes into their hands is used: metal, fabric, and even strange things that turn into amazing artifacts. The main thing is that the item should be alive.",ge:"ყველაფერი, რასაც აქ იპოვით, ხელნაკეთია. ჩვენი ოსტატები უბრალოდ არ მუშაობენ - ისინი იმპროვიზირებენ. ნებისმიერი მასალა, რაც მათ ხელში მოხვდება, გამოიყენება: ლითონი, ქსოვილი და უცნაური ნივთებიც კი, რომლებიც საოცარ არტეფაქტებად იქცევიან. მთავარია, რომ ნივთი იყოს ცოცხალი."},"about.join_title":{ru:"Присоединяйся к NEKO-движению",en:"Join the NEKO Movement",ge:"შეუერთდი NEKO მოძრაობას"},"about.join_text":{ru:"Покупая у нас — ты не просто берёшь вещь. Ты носишь часть идеи. Ты становишься частью стаи. Становишься тем, кто ценит уникальность, нежность к деталям и магию ручной работы.",en:"When you buy from us, you are not just taking an item. You are carrying a piece of an idea. You become part of the pack. You become someone who values uniqueness, attention to detail, and the magic of handmade.",ge:"როდესაც ჩვენგან ყიდულობ, შენ მხოლოდ ნივთს არ იღებ. შენ იდეის ნაწილს ატარებ. შენ ხდები ჯგუფის ნაწილი. ხდები ის, ვინც აფასებს უნიკალურობას, დეტალებისადმი ზრუნვას და ხელნაკეთი ნივთის მაგიას."},"about.closing":{ru:"NEKO SHOP это не просто магазин, это магазин моей принцессы для продажы ее самоделок золотыми лапками, горжусь тобой моя ведьмочка <3",en:"NEKO SHOP is not just a shop, it's my princess's shop for selling her handmade creations with golden paws, I'm proud of you my little witch <3",ge:"NEKO SHOP არ არის უბრალოდ მაღაზია, ეს არის ჩემი პრინცესის მაღაზია მისი ხელნაკეთი ნივთების გასაყიდად ოქროსხელებით აწყობილი, ვამაყობ შენით ჩემო პატარა witch<3"},"faq.title":{ru:"Часто задаваемые вопросы",en:"Frequently Asked Questions",ge:"ხშირად დასმული კითხვები"},"faq.subtitle":{ru:"Здесь вы найдёте ответы на самые популярные вопросы",en:"Find answers to the most common questions",ge:"იპოვეთ პასუხები ყველაზე გავრცელებულ კითხვებზე"},"faq.q1.question":{ru:"Эти изделия делаются вручную?",en:"Are these items handmade?",ge:"ეს ნივთები ხელნაკეთია?"},"faq.q1.answer":{ru:"Да! Мы собираем все украшения вручную!",en:"Yes! We make all our jewelry by hand!",ge:"დიახ! ჩვენ ყველა სამკაულს ხელით ვქმნით!"},"faq.q2.question":{ru:"Какие материалы вы используете?",en:"What materials do you use?",ge:"რა მასალებს იყენებთ?"},"faq.q2.answer":{ru:"Любые, которые нам попадаются под руку! От кожи до меди и т.д.",en:"Whatever we can get our hands on! From leather to copper and more.",ge:"ყველაფერი, რაც ხელთ გვხვდება! ტყავიდან სპილენძამდე და ა.შ."},"faq.q3.question":{ru:"Сколько времени занимает доставка?",en:"How long does delivery take?",ge:"რამდენი ხანი სჭირდება მიტანას?"},"faq.q3.answer":{ru:"От 1 до 5 дней в зависимости от нагрузки. Мы сообщим вам по номеру телефона заранее - перед тем как курьер выйдет доставлять ваш заказ.",en:"From 1 to 5 days depending on the workload. We will notify you by phone in advance - before the courier goes out to deliver your order.",ge:"1-დან 5 დღემდე დამოკიდებულია დატვირთვაზე. ჩვენ წინასწარ გაცნობებთ ტელეფონზე - სანამ კურიერი გამოვა თქვენი შეკვეთის მიტანისთვის."},"faq.q4.question":{ru:"Можно ли продавать свои самоделки на вашем сайте?",en:"Can I sell my handmade items on your website?",ge:"შემიძლია ჩემი ხელნაკეთი ნივთები თქვენს საიტზე გავყიდო?"},"faq.q4.answer":{ru:"Всё возможно, не проверишь и не узнаешь! Свяжитесь с нами в разделе: Contact Us",en:"Everything is possible, you never know until you try! Contact us in the Contact Us section",ge:"ყველაფერი შესაძლებელია, ვერ გაიგებ, სანამ არ სცდი! დაგვიკავშირდით გვერდზე: Contact Us"},"faq.q5.question":{ru:"Почему ваши товары лишь в единичных экземплярах?",en:"Why are your items only available in single quantities?",ge:"რატომ არის თქვენი ნივთები მხოლოდ ერთეულებში?"},"faq.q5.answer":{ru:"Потому что мы создаём всё, используя воображение и немного магии (хе-хе) и импровизацию!",en:"Because we create everything using imagination and a bit of magic (hehe) and improvisation!",ge:"იმიტომ, რომ ჩვენ ყველაფერს ვქმნით ფანტაზიის, ცოტაოდენი მაგიის ( ჰე-ჰე ) და იმპროვიზაციის გამოყენებით!"},"faq.needHelp":{ru:"Остались вопросы? Мы с радостью поможем!",en:"Still have questions? We're happy to help!",ge:"კიდევ გაქვთ შეკითხვები? სიამოვნებით დაგეხმარებით!"},"faq.contactUs":{ru:"Связаться с нами",en:"Contact Us",ge:"დაგვიკავშირდით"},"contact.title":{ru:"Связаться",en:"Contact",ge:"დაკავშირება"},"contact.us":{ru:"с нами",en:"Us",ge:"ჩვენთან"},"contact.get_in_touch":{ru:"Давайте поговорим!",en:"Let's Talk!",ge:"მოდით ვისაუბროთ!"},"contact.questions":{ru:"Есть желание поговорить о сотрудничестве? Или у вас есть вопросы? Свяжитесь с нами, и мы обязательно поможем вам реализовать ваши идеи!",en:"Interested in collaboration? Or maybe you have questions? Get in touch with us, and we'll help you bring your ideas to life!",ge:"დაინტერესებული ხართ თანამშრომლობით? ან იქნებ გაქვთ შეკითხვები? დაგვიკავშირდით და დაგეხმარებით თქვენი იდეების რეალიზებაში!"},"contact.collaboration":{ru:"Если вы заинтересованы в сотрудничестве, партнерстве или у вас есть специальный запрос - наша команда с радостью обсудит с вами все детали. Мы открыты к предложениям о коллаборациях, оптовым заказам и другим формам сотрудничества. Свяжитесь с нами удобным способом:",en:"If you are interested in collaboration, partnership, or have a special request - our team will be happy to discuss all the details with you. We are open to collaboration proposals, wholesale orders, and other forms of cooperation. Contact us in any convenient way:",ge:"თუ გაინტერესებთ თანამშრომლობა, პარტნიორობა ან გაქვთ სპეციალური მოთხოვნა - ჩვენი გუნდი სიამოვნებით გაგიზიარებთ ყველა დეტალს. ჩვენ ვართ ღია თანამშრომლობის წინადადებებისთვის, საბითუმო შეკვეთებისთვის და თანამშრომლობის სხვა ფორმებისთვის. დაგვიკავშირდით ნებისმიერი მოსახერხებელი გზით:"},"contact.telegram":{ru:"Телеграм:",en:"Telegram:",ge:"ტელეგრამი:"},"contact.telegram_username":{ru:"@not_even_here",en:"@not_even_here",ge:"@not_even_here"},"contact.email_address":{ru:"grge339@gmail.com",en:"grge339@gmail.com",ge:"grge339@gmail.com"},"contact.submit":{ru:"Отправить сообщение",en:"Send Message",ge:"შეტყობინების გაგზავნა"},"contact.social_media":{ru:"Социальные сети",en:"Social Media",ge:"სოციალური ქსელები"},"contact.first_name":{ru:"Имя",en:"First Name",ge:"სახელი"},"contact.last_name":{ru:"Фамилия",en:"Last Name",ge:"გვარი"},"contact.email":{ru:"Электронная почта",en:"Email Address",ge:"ელ.ფოსტა"},"contact.message":{ru:"Сообщение",en:"Message",ge:"შეტყობინება"},"contact.first_name_placeholder":{ru:"Введите ваше имя",en:"Enter your first name",ge:"შეიყვანეთ თქვენი სახელი"},"contact.last_name_placeholder":{ru:"Введите вашу фамилию",en:"Enter your last name",ge:"შეიყვანეთ თქვენი გვარი"},"contact.email_placeholder":{ru:"example@email.com",en:"example@email.com",ge:"example@email.com"},"contact.message_placeholder":{ru:"Чем мы можем помочь?",en:"How can we help you?",ge:"როგორ შეგვიძლია დაგეხმაროთ?"},"contact.send_message":{ru:"Отправить сообщение",en:"Send Message",ge:"შეტყობინების გაგზავნა"},"contact.message_sent":{ru:"Сообщение отправлено",en:"Message sent",ge:"შეტყობინება გაგზავნილია"},"contact.message_received":{ru:"Мы получили ваше сообщение и скоро ответим!",en:"We have received your message and will respond soon!",ge:"ჩვენ მივიღეთ თქვენი შეტყობინება და მალე გიპასუხებთ!"},"contact.sending":{ru:"Отправка...",en:"Sending...",ge:"იგზავნება..."},"contact.error":{ru:"Ошибка",en:"Error",ge:"შეცდომა"},"contact.error_message":{ru:"Произошла ошибка при отправке сообщения. Пожалуйста, попробуйте еще раз позже.",en:"There was an error sending your message. Please try again later.",ge:"შეცდომა გაგზავნისას. გთხოვთ, სცადოთ მოგვიანებით."},"contact.error_name_required":{ru:"Пожалуйста, введите ваше имя",en:"Please enter your name",ge:"გთხოვთ შეიყვანოთ თქვენი სახელი"},"contact.error_email_invalid":{ru:"Пожалуйста, введите корректный email адрес",en:"Please enter a valid email address",ge:"გთხოვთ შეიყვანოთ სწორი ელექტრონული ფოსტის მისამართი"},"contact.error_message_required":{ru:"Пожалуйста, введите ваше сообщение",en:"Please enter your message",ge:"გთხოვთ შეიყვანოთ თქვენი შეტყობინება"},"contact.error_configuration":{ru:"Ошибка конфигурации сервиса отправки сообщений",en:"Email service configuration error",ge:"ელექტრონული ფოსტის მომსახურების კონფიგურაციის შეცდომა"},"product.details.material":{ru:"Материал",en:"Material",ge:"მასალა"},"product.details.stainless_steel":{ru:"Нержавеющая сталь",en:"Stainless Steel",ge:"უჟანგავი ფოლადი"},"product.details.chain_length":{ru:"Длина цепочки",en:"Chain Length",ge:"ჯაჭვის სიგრძე"},"product.details.pendant_size":{ru:"Размер подвески",en:"Pendant Size",ge:"გულსაკიდის ზომა"},"product.details.cm":{ru:"см",en:"cm",ge:"სმ"},"profile.purchases":{ru:"Покупки",en:"Purchases",ge:"შესყიდვები"},"profile.reviews":{ru:"Отзывы",en:"Reviews",ge:"მიმოხილვები"},"profile.pending_reviews":{ru:"Ожидающие отзыва",en:"Pending Reviews",ge:"მოლოდინში მიმოხილვები"},"profile.purchase_history":{ru:"История покупок",en:"Purchase History",ge:"შესყიდვების ისტორია"},"profile.recent_purchases":{ru:"Ваши последние покупки",en:"Your recent purchases",ge:"თქვენი ბოლო შესყიდვები"},"profile.my_reviews":{ru:"Мои отзывы",en:"My Reviews",ge:"ჩემი მიმოხილვები"},"profile.reviews_description":{ru:"Отзывы, которые вы оставили о товарах",en:"Reviews you have left for products",ge:"მიმოხილვები, რომლებიც დატოვეთ პროდუქტებზე"},"profile.no_purchases":{ru:"У вас пока нет покупок",en:"You have no purchases yet",ge:"თქვენ ჯერ არ გაქვთ შესყიდვები"},"profile.no_reviews":{ru:"Вы еще не оставили отзывов",en:"You haven't left any reviews yet",ge:"თქვენ ჯერ არ დაგიტოვებიათ მიმოხილვები"},"profile.view_product":{ru:"Посмотреть товар",en:"View Product",ge:"პროდუქტის ნახვა"},"profile.no_pending_reviews":{ru:"Нет товаров, ожидающих отзыва",en:"No products awaiting review",ge:"არ არის პროდუქტები მიმოხილვის მოლოდინში"},language:{ru:"ru",en:"en",ge:"ge"},"profile.address":{ru:"Адрес",en:"Address",ge:"მისამართი"},"profile.address_description":{ru:"Укажите адрес проживания и номер телефона для доставки",en:"Enter your address and phone number for delivery",ge:"შეიყვანეთ მისამართი და ტელეფონის ნომერი მიწოდებისთვის"},"profile.city":{ru:"Город",en:"City",ge:"ქალაქი"},"profile.tbilisi":{ru:"Тбилиси",en:"Tbilisi",ge:"თბილისი"},"profile.only_tbilisi":{ru:"Мы пока что доставляем лишь по Тбилиси",en:"We currently deliver only in Tbilisi",ge:"ამჟამად ვაწვდით მხოლოდ თბილისში"},"profile.address_field":{ru:"Адрес проживания",en:"Address",ge:"საცხოვრებელი მისამართი"},"profile.address_placeholder":{ru:"Улица, дом, квартира",en:"Street, house, apartment",ge:"ქუჩა, სახლი, ბინა"},"profile.phone":{ru:"Телефон",en:"Phone",ge:"ტელეფონი"},"profile.phone_placeholder":{ru:"Ваш номер телефона",en:"Your phone number",ge:"თქვენი ტელეფონის ნომერი"},"profile.save":{ru:"Сохранить",en:"Save",ge:"შენახვა"},"profile.saved":{ru:"Сохранено!",en:"Saved!",ge:"შენახულია!"},"profile.edit":{ru:"Изменить",en:"Edit",ge:"რედაქტირება"},"custom_order.title":{ru:"Заказать свой дизайн",en:"Custom Design Order",ge:"ინდივიდუალური დიზაინის შეკვეთა"},"custom_order.description":{ru:"Если у вас есть пример товара, который вы хотите реализовать, пришлите нам его фото или ссылку через любую удобную для вас социальную сеть.",en:"If you have an example of a product you'd like to create, send us its photo or link through any social network that works best for you.",ge:"თუ გაქვთ პროდუქტის ნიმუში, რომელიც გსურთ შექმნათ, გამოგვიგზავნეთ მისი ფოტო ან ბმული ნებისმიერი სოციალური ქსელით."},"custom_order.social_links":{ru:"Связаться с нами",en:"Contact us",ge:"დაგვიკავშირდით"},"custom_order.button":{ru:"Заказать свой дизайн",en:"Custom Order",ge:"ინდივიდუალური შეკვეთა"},"home.search_placeholder":{ru:"Поиск по товарам...",en:"Search products...",ge:"პროდუქტების ძიება..."},"shop.search_title":{ru:"Ищешь что-то конкретное?",en:"Looking for something? ",ge:"რამე კონკრეტულს ეძებთ?"},"shop.custom_design_title":{ru:"Хочешь заказать свой дизайн?",en:"Want to order your own design?",ge:"გინდათ თქვენი დიზაინის შეკვეთა?"},"shop.custom_design_button":{ru:"ТОГДА ЖМИ СЮДА!",en:"THEN CLICK HERE!",ge:"მაშინ დააჭირეთ აქ!"},"footer.shop":{ru:"Магазин",en:"Shop",ge:"მაღაზია"},"footer.alternative_jewelry":{ru:"Альтернативные украшения для тех, кто бросает вызов нормам и принимает анархию.",en:"Alternative jewelry for those who defy norms and embrace anarchy.",ge:"ალტერნატივა მათთვის, ვინც უარყოფს ნორმებს და აწვება თავის გზას."},"reviews.testimonials":{ru:"Отзывы",en:"Testimonials",ge:"მიმოხილვები"},most_popular:{ru:"САМЫЙ ПОПУЛЯРНЫЙ",en:"MOST POPULAR",ge:"ყველაზე პოპულარული"},"profile.fill_address_warning":{ru:"Пожалуйста, заполните адрес проживания и номер телефона в профиле.",en:"Please fill in your address and phone number in your profile.",ge:"გთხოვთ შეავსოთ თქვენი მისამართი და ტელეფონის ნომერი პროფილში."},"profile.important":{ru:"ВАЖНО!",en:"IMPORTANT!",ge:"მნიშვნელოვანი!"},"checkout.title":{ru:"Оформление заказа",en:"Checkout",ge:"შეკვეთის გაფორმება"},"checkout.delivery_info":{ru:"Информация о доставке",en:"Delivery Information",ge:"მიტანის ინფორმაცია"},"checkout.name":{ru:"Имя",en:"Name",ge:"სახელი"},"checkout.email":{ru:"Электронная почта",en:"Email",ge:"ელ. ფოსტა"},"checkout.phone":{ru:"Телефон",en:"Phone",ge:"ტელეფონი"},"checkout.address":{ru:"Адрес доставки",en:"Delivery Address",ge:"მიტანის მისამართი"},"checkout.order_summary":{ru:"Детали заказа",en:"Order Summary",ge:"შეკვეთის დეტალები"},"checkout.complete_order":{ru:"Подтвердить заказ",en:"Complete Order",ge:"შეკვეთის დადასტურება"},"checkout.processing":{ru:"Обработка...",en:"Processing...",ge:"მუშავდება..."},"checkout.empty_cart":{ru:"Ваша корзина пуста",en:"Your cart is empty",ge:"თქვენი კალათა ცარიელია"},"checkout.add_items":{ru:"Добавьте товары в корзину, чтобы продолжить",en:"Add items to your cart to continue",ge:"გააგრძელეთ შესაძენად"},"checkout.continue_shopping":{ru:"Продолжить покупки",en:"Continue Shopping",ge:"შენახვის გაგრძელება"},"checkout.login_required":{ru:"Вход обязателен",en:"Login Required",ge:"ავტორიზაცია აუცილებელია"},"checkout.login_prompt":{ru:"Пожалуйста, войдите, чтобы продолжить оформление заказа",en:"Please log in to continue with your order",ge:"გთხოვთ შეხვიდეთ ანგარიშზე შეკვეთის გასაგრძელებლად"},"auth.sign_in_with_google":{ru:"Войти с Google",en:"Sign in with Google",ge:"შესვლა Google-ით"},"common.back_to_home":{ru:"Вернуться на главную",en:"Back to Home",ge:"მთავარზე დაბრუნება"},"profile.go_to_address":{ru:"Заполнить",en:"Fill in",ge:"შეავსეთ"},"cart.decrease_quantity":{ru:"Уменьшить количество",en:"Decrease quantity",ge:"რაოდენობის შემცირება"},"cart.increase_quantity":{},"cart.discount":{ru:"Скидка",en:"Discount",ge:"ფასდაკლება"},"cart.get_discount":{ru:"Получить скидку",en:"Get discount",ge:"მიიღეთ ფასდაკლება"},"cart.delivery":{ru:"доставка:",en:"delivery:",ge:"მიწოდება:"},"home.discounts":{ru:"Скидки",en:"Discounts",ge:"ფასდაკლებები"},"cart.success":{ru:"Заказ оформлен успешно!",en:"Order placed successfully!",ge:"შეკვეთა წარმატებით დასრულდა!"},"product.items":{ru:"шт",en:"pcs",ge:"ც"},"product.our_story":{ru:"История",en:"Story",ge:"ისტორია"},"product.no_reviews":{ru:"Нет отзывов. Будьте первым, кто оставит отзыв!",en:"No reviews yet. Be the first to review!",ge:"ჯერ არ არის მიმოხილვები. იყავით პირველი!"},"product.image_not_available":{ru:"Изображение недоступно",en:"Image not available",ge:"სურათი ხელმიუწვდომელია"}},PR=g.createContext({language:"ru",currentLanguage:"ru",setLanguage:()=>{},t:t=>t,i18n:{language:"ru",changeLanguage:async()=>{}}}),AR="shoppy_language",I$=()=>typeof window<"u"&&localStorage.getItem(AR)||"ru",T$=({children:t})=>{const[e,n]=g.useState(I$),{i18n:r}=l_();g.useEffect(()=>{typeof window<"u"&&localStorage.setItem(AR,e)},[e]);const s=(i,o)=>{const a=RR[i];if(!a)return i;let l=a[e]||a.ru||i;return o&&Object.entries(o).forEach(([u,f])=>{l=l.replace(`{${u}}`,String(f))}),l};return c.jsx(PR.Provider,{value:{language:e,currentLanguage:e,setLanguage:n,t:s,i18n:{language:e,changeLanguage:async i=>{n(i),await r.changeLanguage(i)}}},children:t})},$e=()=>g.useContext(PR),TI=15*60*1e3,Jc="cart_interests",Gv=Math.random().toString(36).substring(2),gl={addInterest(t){const e=this.getAllInterests(),n=Date.now();this.cleanExpiredInterests(),e[t]={timestamp:n,sessionId:Gv},localStorage.setItem(Jc,JSON.stringify(e))},checkInterest(t){const e=this.getAllInterests(),n=e[t];return!n||n.sessionId===Gv?!1:Date.now()-n.timestamp>TI?(delete e[t],localStorage.setItem(Jc,JSON.stringify(e)),!1):!0},removeInterest(t){const e=this.getAllInterests(),n=e[t];n&&n.sessionId===Gv&&(delete e[t],localStorage.setItem(Jc,JSON.stringify(e)))},getAllInterests(){const t=localStorage.getItem(Jc);return t?JSON.parse(t):{}},cleanExpiredInterests(){const t=this.getAllInterests(),e=Date.now();let n=!1;Object.entries(t).forEach(([r,s])=>{e-s.timestamp>TI&&(delete t[r],n=!0)}),n&&localStorage.setItem(Jc,JSON.stringify(t))}},jR=g.createContext(void 0),Gi=()=>{const t=g.useContext(jR);if(t===void 0)throw new Error("useCartContext must be used within a CartProvider");return t},S$=({children:t})=>{const[e,n]=g.useState(()=>{const m=localStorage.getItem("cart");return m?JSON.parse(m):[]}),{toast:r}=ha(),{t:s}=$e();g.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=m=>{n(_=>{const w=_.find(y=>y.product.id===m.id);return w?w.quantity>=m.stock?_:_.map(y=>y.product.id===m.id?{...y,quantity:y.quantity+1}:y):(gl.addInterest(m.id),[..._,{product:m,quantity:1}])})},o=m=>{gl.removeInterest(m),n(e.filter(_=>_.product.id!==m))},a=(m,_)=>{var y;if(_<=0){o(m);return}const w=(y=e.find(x=>x.product.id===m))==null?void 0:y.product;if(w&&_>w.stock){r({title:s("toast.stock_limit_reached"),description:s("toast.stock_limit_message"),duration:3e3}),n(e.map(x=>x.product.id===m?{...x,quantity:w.stock}:x));return}n(e.map(x=>x.product.id===m?{...x,quantity:_}:x))},l=()=>{e.forEach(m=>gl.removeInterest(m.product.id)),n([]),localStorage.removeItem("cart")},u=()=>e.reduce((m,_)=>m+_.product.price*_.quantity,0),f=()=>{const m=u();return m>=500?{amount:m*.1,percentage:10}:m>=200?{amount:m*.05,percentage:5}:{amount:0,percentage:0}},h=()=>{const m=u(),{amount:_}=f();return Math.max(0,m-_)},p=()=>u()>=100;return c.jsx(jR.Provider,{value:{cart:e,addToCart:i,removeFromCart:o,updateQuantity:a,clearCart:l,calculateTotal:u,calculateDiscount:f,calculateTotalWithDiscount:h,isFreeDelivery:p},children:t})},ff="favorites",ao={getFavorites(){const t=localStorage.getItem(ff);return t?JSON.parse(t):[]},addToFavorites(t){const e=this.getFavorites();e.some(n=>n.productId===t)||(e.push({productId:t,dateAdded:new Date().toISOString()}),localStorage.setItem(ff,JSON.stringify(e)))},removeFromFavorites(t){const n=this.getFavorites().filter(r=>r.productId!==t);localStorage.setItem(ff,JSON.stringify(n))},isInFavorites(t){return this.getFavorites().some(n=>n.productId===t)},clearFavorites(){localStorage.removeItem(ff)}},C$=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},N$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},OR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,f=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[f],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new k$;const p=i<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R$=function(t){const e=DR(t);return OR.encodeByteArray(e,!0)},Wp=function(t){return R$(t).replace(/\./g,"")},MR=function(t){try{return OR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=()=>LR().__FIREBASE_DEFAULTS__,A$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MR(t[1]);return e&&JSON.parse(e)},og=()=>{try{return C$()||P$()||A$()||j$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VR=t=>{var e,n;return(n=(e=og())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},D$=t=>{const e=VR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FR=()=>{var t;return(t=og())===null||t===void 0?void 0:t.config},$R=t=>{var e;return(e=og())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return t.endsWith(".cloudworkstations.dev")}async function UR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Wp(JSON.stringify(n)),Wp(JSON.stringify(o)),a].join(".")}const Pu={};function L$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?t.emulator.push(e):t.prod.push(e);return t}function V$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SI=!1;function BR(t,e){if(typeof window>"u"||typeof document>"u"||!rh(window.location.host)||Pu[t]===e||Pu[t]||SI)return;Pu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=L$().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{SI=!0,o()},p}function f(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=V$(r),m=n("text"),_=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),y=document.getElementById(w)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),f(y,w);const C=u();l(b,x),E.append(b,_,y,C),document.body.appendChild(E)}i?(_.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function zR(){var t;const e=(t=og())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function U$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B$(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KR(){return!zR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function c_(){try{return typeof indexedDB=="object"}catch{return!1}}function WR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function z$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="FirebaseError";class vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q$,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?H$(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new vr(s,a,r)}}function H$(t,e){return t.replace(K$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const K$=/\{\$([^}]+)}/g;function W$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(CI(i)&&CI(o)){if(!Vi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function CI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G$(t,e){const n=new Q$(t,e);return n.subscribe.bind(n)}class Q${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Qv),s.error===void 0&&(s.error=Qv),s.complete===void 0&&(s.complete=Qv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=1e3,X$=2,Z$=4*60*60*1e3,eU=.5;function NI(t,e=J$,n=X$){const r=e*Math.pow(n,t),s=Math.round(eU*r*(Math.random()-.5)*2);return Math.min(Z$,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rU(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nU(t){return t===fo?void 0:t}function rU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const iU={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},oU=Se.INFO,aU={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},lU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=aU[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let ag=class{constructor(e){this.name=e,this._logLevel=oU,this._logHandler=lU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};const cU=(t,e)=>e.some(n=>t instanceof n);let kI,RI;function uU(){return kI||(kI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dU(){return RI||(RI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GR=new WeakMap,X0=new WeakMap,QR=new WeakMap,Yv=new WeakMap,u_=new WeakMap;function hU(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Si(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GR.set(n,t)}).catch(()=>{}),u_.set(e,t),e}function fU(t){if(X0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});X0.set(t,e)}let Z0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return X0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pU(t){Z0=t(Z0)}function mU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jv(this),e,...n);return QR.set(r,e.sort?e.sort():[e]),Si(r)}:dU().includes(t)?function(...e){return t.apply(Jv(this),e),Si(GR.get(this))}:function(...e){return Si(t.apply(Jv(this),e))}}function gU(t){return typeof t=="function"?mU(t):(t instanceof IDBTransaction&&fU(t),cU(t,uU())?new Proxy(t,Z0):t)}function Si(t){if(t instanceof IDBRequest)return hU(t);if(Yv.has(t))return Yv.get(t);const e=gU(t);return e!==t&&(Yv.set(t,e),u_.set(e,t)),e}const Jv=t=>u_.get(t);function YR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Si(o.result),l.oldVersion,l.newVersion,Si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const vU=["get","getKey","getAll","getAllKeys","count"],yU=["put","add","delete","clear"],Xv=new Map;function PI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xv.get(e))return Xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=yU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vU.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Xv.set(e,i),i}pU(t=>({...t,get:(e,n,r)=>PI(e,n)||t.get(e,n,r),has:(e,n)=>!!PI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ew="@firebase/app",AI="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new ag("@firebase/app"),_U="@firebase/app-compat",bU="@firebase/analytics-compat",EU="@firebase/analytics",IU="@firebase/app-check-compat",TU="@firebase/app-check",SU="@firebase/auth",CU="@firebase/auth-compat",NU="@firebase/database",kU="@firebase/data-connect",RU="@firebase/database-compat",PU="@firebase/functions",AU="@firebase/functions-compat",jU="@firebase/installations",DU="@firebase/installations-compat",OU="@firebase/messaging",MU="@firebase/messaging-compat",LU="@firebase/performance",VU="@firebase/performance-compat",FU="@firebase/remote-config",$U="@firebase/remote-config-compat",UU="@firebase/storage",BU="@firebase/storage-compat",zU="@firebase/firestore",qU="@firebase/ai",HU="@firebase/firestore-compat",KU="firebase",WU="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="[DEFAULT]",GU={[ew]:"fire-core",[_U]:"fire-core-compat",[EU]:"fire-analytics",[bU]:"fire-analytics-compat",[TU]:"fire-app-check",[IU]:"fire-app-check-compat",[SU]:"fire-auth",[CU]:"fire-auth-compat",[NU]:"fire-rtdb",[kU]:"fire-data-connect",[RU]:"fire-rtdb-compat",[PU]:"fire-fn",[AU]:"fire-fn-compat",[jU]:"fire-iid",[DU]:"fire-iid-compat",[OU]:"fire-fcm",[MU]:"fire-fcm-compat",[LU]:"fire-perf",[VU]:"fire-perf-compat",[FU]:"fire-rc",[$U]:"fire-rc-compat",[UU]:"fire-gcs",[BU]:"fire-gcs-compat",[zU]:"fire-fst",[HU]:"fire-fst-compat",[qU]:"fire-vertex","fire-js":"fire-js",[KU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,QU=new Map,nw=new Map;function jI(t,e){try{t.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $r(t){const e=t.name;if(nw.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;nw.set(e,t);for(const n of pd.values())jI(n,t);for(const n of QU.values())jI(n,t);return!0}function ga(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new ma("app","Firebase",YU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=WU;function JR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tw,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ci.create("bad-app-name",{appName:String(s)});if(n||(n=FR()),!n)throw Ci.create("no-options");const i=pd.get(s);if(i){if(Vi(n,i.options)&&Vi(r,i.config))return i;throw Ci.create("duplicate-app",{appName:s})}const o=new sU(s);for(const l of nw.values())o.addComponent(l);const a=new JU(n,r,o);return pd.set(s,a),a}function lg(t=tw){const e=pd.get(t);if(!e&&t===tw&&FR())return JR();if(!e)throw Ci.create("no-app",{appName:t});return e}function XU(){return Array.from(pd.values())}function qn(t,e,n){var r;let s=(r=GU[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(a.join(" "));return}$r(new gr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="firebase-heartbeat-database",e7=1,md="firebase-heartbeat-store";let Zv=null;function XR(){return Zv||(Zv=YR(ZU,e7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(md)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ci.create("idb-open",{originalErrorMessage:t.message})})),Zv}async function t7(t){try{const n=(await XR()).transaction(md),r=await n.objectStore(md).get(ZR(t));return await n.done,r}catch(e){if(e instanceof vr)bs.warn(e.message);else{const n=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bs.warn(n.message)}}}async function DI(t,e){try{const r=(await XR()).transaction(md,"readwrite");await r.objectStore(md).put(e,ZR(t)),await r.done}catch(n){if(n instanceof vr)bs.warn(n.message);else{const r=Ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bs.warn(r.message)}}}function ZR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=1024,r7=30;class s7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>r7){const o=a7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OI(),{heartbeatsToSend:r,unsentEntries:s}=i7(this._heartbeatsCache.heartbeats),i=Wp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return bs.warn(n),""}}}function OI(){return new Date().toISOString().substring(0,10)}function i7(t,e=n7){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),MI(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),MI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class o7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c_()?WR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return DI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return DI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function MI(t){return Wp(JSON.stringify({version:2,heartbeats:t})).length}function a7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){$r(new gr("platform-logger",e=>new wU(e),"PRIVATE")),$r(new gr("heartbeat",e=>new s7(e),"PRIVATE")),qn(ew,AI,t),qn(ew,AI,"esm2017"),qn("fire-js","")}l7("");var LI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,eP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function P(){}P.prototype=I.prototype,S.D=I.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(k,D,N){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return I.prototype[D].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,I,P){P||(P=0);var k=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)k[D]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(D=0;16>D;++D)k[D]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=S.g[0],P=S.g[1],D=S.g[2];var N=S.g[3],R=I+(N^P&(D^N))+k[0]+3614090360&4294967295;I=P+(R<<7&4294967295|R>>>25),R=N+(D^I&(P^D))+k[1]+3905402710&4294967295,N=I+(R<<12&4294967295|R>>>20),R=D+(P^N&(I^P))+k[2]+606105819&4294967295,D=N+(R<<17&4294967295|R>>>15),R=P+(I^D&(N^I))+k[3]+3250441966&4294967295,P=D+(R<<22&4294967295|R>>>10),R=I+(N^P&(D^N))+k[4]+4118548399&4294967295,I=P+(R<<7&4294967295|R>>>25),R=N+(D^I&(P^D))+k[5]+1200080426&4294967295,N=I+(R<<12&4294967295|R>>>20),R=D+(P^N&(I^P))+k[6]+2821735955&4294967295,D=N+(R<<17&4294967295|R>>>15),R=P+(I^D&(N^I))+k[7]+4249261313&4294967295,P=D+(R<<22&4294967295|R>>>10),R=I+(N^P&(D^N))+k[8]+1770035416&4294967295,I=P+(R<<7&4294967295|R>>>25),R=N+(D^I&(P^D))+k[9]+2336552879&4294967295,N=I+(R<<12&4294967295|R>>>20),R=D+(P^N&(I^P))+k[10]+4294925233&4294967295,D=N+(R<<17&4294967295|R>>>15),R=P+(I^D&(N^I))+k[11]+2304563134&4294967295,P=D+(R<<22&4294967295|R>>>10),R=I+(N^P&(D^N))+k[12]+1804603682&4294967295,I=P+(R<<7&4294967295|R>>>25),R=N+(D^I&(P^D))+k[13]+4254626195&4294967295,N=I+(R<<12&4294967295|R>>>20),R=D+(P^N&(I^P))+k[14]+2792965006&4294967295,D=N+(R<<17&4294967295|R>>>15),R=P+(I^D&(N^I))+k[15]+1236535329&4294967295,P=D+(R<<22&4294967295|R>>>10),R=I+(D^N&(P^D))+k[1]+4129170786&4294967295,I=P+(R<<5&4294967295|R>>>27),R=N+(P^D&(I^P))+k[6]+3225465664&4294967295,N=I+(R<<9&4294967295|R>>>23),R=D+(I^P&(N^I))+k[11]+643717713&4294967295,D=N+(R<<14&4294967295|R>>>18),R=P+(N^I&(D^N))+k[0]+3921069994&4294967295,P=D+(R<<20&4294967295|R>>>12),R=I+(D^N&(P^D))+k[5]+3593408605&4294967295,I=P+(R<<5&4294967295|R>>>27),R=N+(P^D&(I^P))+k[10]+38016083&4294967295,N=I+(R<<9&4294967295|R>>>23),R=D+(I^P&(N^I))+k[15]+3634488961&4294967295,D=N+(R<<14&4294967295|R>>>18),R=P+(N^I&(D^N))+k[4]+3889429448&4294967295,P=D+(R<<20&4294967295|R>>>12),R=I+(D^N&(P^D))+k[9]+568446438&4294967295,I=P+(R<<5&4294967295|R>>>27),R=N+(P^D&(I^P))+k[14]+3275163606&4294967295,N=I+(R<<9&4294967295|R>>>23),R=D+(I^P&(N^I))+k[3]+4107603335&4294967295,D=N+(R<<14&4294967295|R>>>18),R=P+(N^I&(D^N))+k[8]+1163531501&4294967295,P=D+(R<<20&4294967295|R>>>12),R=I+(D^N&(P^D))+k[13]+2850285829&4294967295,I=P+(R<<5&4294967295|R>>>27),R=N+(P^D&(I^P))+k[2]+4243563512&4294967295,N=I+(R<<9&4294967295|R>>>23),R=D+(I^P&(N^I))+k[7]+1735328473&4294967295,D=N+(R<<14&4294967295|R>>>18),R=P+(N^I&(D^N))+k[12]+2368359562&4294967295,P=D+(R<<20&4294967295|R>>>12),R=I+(P^D^N)+k[5]+4294588738&4294967295,I=P+(R<<4&4294967295|R>>>28),R=N+(I^P^D)+k[8]+2272392833&4294967295,N=I+(R<<11&4294967295|R>>>21),R=D+(N^I^P)+k[11]+1839030562&4294967295,D=N+(R<<16&4294967295|R>>>16),R=P+(D^N^I)+k[14]+4259657740&4294967295,P=D+(R<<23&4294967295|R>>>9),R=I+(P^D^N)+k[1]+2763975236&4294967295,I=P+(R<<4&4294967295|R>>>28),R=N+(I^P^D)+k[4]+1272893353&4294967295,N=I+(R<<11&4294967295|R>>>21),R=D+(N^I^P)+k[7]+4139469664&4294967295,D=N+(R<<16&4294967295|R>>>16),R=P+(D^N^I)+k[10]+3200236656&4294967295,P=D+(R<<23&4294967295|R>>>9),R=I+(P^D^N)+k[13]+681279174&4294967295,I=P+(R<<4&4294967295|R>>>28),R=N+(I^P^D)+k[0]+3936430074&4294967295,N=I+(R<<11&4294967295|R>>>21),R=D+(N^I^P)+k[3]+3572445317&4294967295,D=N+(R<<16&4294967295|R>>>16),R=P+(D^N^I)+k[6]+76029189&4294967295,P=D+(R<<23&4294967295|R>>>9),R=I+(P^D^N)+k[9]+3654602809&4294967295,I=P+(R<<4&4294967295|R>>>28),R=N+(I^P^D)+k[12]+3873151461&4294967295,N=I+(R<<11&4294967295|R>>>21),R=D+(N^I^P)+k[15]+530742520&4294967295,D=N+(R<<16&4294967295|R>>>16),R=P+(D^N^I)+k[2]+3299628645&4294967295,P=D+(R<<23&4294967295|R>>>9),R=I+(D^(P|~N))+k[0]+4096336452&4294967295,I=P+(R<<6&4294967295|R>>>26),R=N+(P^(I|~D))+k[7]+1126891415&4294967295,N=I+(R<<10&4294967295|R>>>22),R=D+(I^(N|~P))+k[14]+2878612391&4294967295,D=N+(R<<15&4294967295|R>>>17),R=P+(N^(D|~I))+k[5]+4237533241&4294967295,P=D+(R<<21&4294967295|R>>>11),R=I+(D^(P|~N))+k[12]+1700485571&4294967295,I=P+(R<<6&4294967295|R>>>26),R=N+(P^(I|~D))+k[3]+2399980690&4294967295,N=I+(R<<10&4294967295|R>>>22),R=D+(I^(N|~P))+k[10]+4293915773&4294967295,D=N+(R<<15&4294967295|R>>>17),R=P+(N^(D|~I))+k[1]+2240044497&4294967295,P=D+(R<<21&4294967295|R>>>11),R=I+(D^(P|~N))+k[8]+1873313359&4294967295,I=P+(R<<6&4294967295|R>>>26),R=N+(P^(I|~D))+k[15]+4264355552&4294967295,N=I+(R<<10&4294967295|R>>>22),R=D+(I^(N|~P))+k[6]+2734768916&4294967295,D=N+(R<<15&4294967295|R>>>17),R=P+(N^(D|~I))+k[13]+1309151649&4294967295,P=D+(R<<21&4294967295|R>>>11),R=I+(D^(P|~N))+k[4]+4149444226&4294967295,I=P+(R<<6&4294967295|R>>>26),R=N+(P^(I|~D))+k[11]+3174756917&4294967295,N=I+(R<<10&4294967295|R>>>22),R=D+(I^(N|~P))+k[2]+718787259&4294967295,D=N+(R<<15&4294967295|R>>>17),R=P+(N^(D|~I))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var P=I-this.blockSize,k=this.B,D=this.h,N=0;N<I;){if(D==0)for(;N<=P;)s(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<I;)if(k[D++]=S.charCodeAt(N++),D==this.blockSize){s(this,k),D=0;break}}else for(;N<I;)if(k[D++]=S[N++],D==this.blockSize){s(this,k),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var P=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=P&255,P/=256;for(this.u(S),S=Array(16),I=P=0;4>I;++I)for(var k=0;32>k;k+=8)S[P++]=this.g[I]>>>k&255;return S};function i(S,I){var P=a;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=I(S)}function o(S,I){this.h=I;for(var P=[],k=!0,D=S.length-1;0<=D;D--){var N=S[D]|0;k&&N==I||(P[D]=N,k=!1)}this.g=P}var a={};function l(S){return-128<=S&&128>S?i(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return y(u(-S));for(var I=[],P=1,k=0;S>=P;k++)I[k]=S/P|0,P*=4294967296;return new o(I,0)}function f(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return y(f(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(I,8)),k=h,D=0;D<S.length;D+=8){var N=Math.min(8,S.length-D),R=parseInt(S.substring(D,D+N),I);8>N?(N=u(Math.pow(I,N)),k=k.j(N).add(u(R))):(k=k.j(P),k=k.add(u(R)))}return k}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-y(this).m();for(var S=0,I=1,P=0;P<this.g.length;P++){var k=this.i(P);S+=(0<=k?k:4294967296+k)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(w(this))return"-"+y(this).toString(S);for(var I=u(Math.pow(S,6)),P=this,k="";;){var D=C(P,I).g;P=x(P,D.j(I));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=D,_(P))return N+k;for(;6>N.length;)N="0"+N;k=N+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=x(this,S),w(S)?-1:_(S)?0:1};function y(S){for(var I=S.g.length,P=[],k=0;k<I;k++)P[k]=~S.g[k];return new o(P,~S.h).add(p)}t.abs=function(){return w(this)?y(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],k=0,D=0;D<=I;D++){var N=k+(this.i(D)&65535)+(S.i(D)&65535),R=(N>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);k=R>>>16,N&=65535,R&=65535,P[D]=R<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function x(S,I){return S.add(y(I))}t.j=function(S){if(_(this)||_(S))return h;if(w(this))return w(S)?y(this).j(y(S)):y(y(this).j(S));if(w(S))return y(this.j(y(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var I=this.g.length+S.g.length,P=[],k=0;k<2*I;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<S.g.length;D++){var N=this.i(k)>>>16,R=this.i(k)&65535,U=S.i(D)>>>16,Q=S.i(D)&65535;P[2*k+2*D]+=R*Q,b(P,2*k+2*D),P[2*k+2*D+1]+=N*Q,b(P,2*k+2*D+1),P[2*k+2*D+1]+=R*U,b(P,2*k+2*D+1),P[2*k+2*D+2]+=N*U,b(P,2*k+2*D+2)}for(k=0;k<I;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=I;k<2*I;k++)P[k]=0;return new o(P,0)};function b(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function E(S,I){this.g=S,this.h=I}function C(S,I){if(_(I))throw Error("division by zero");if(_(S))return new E(h,h);if(w(S))return I=C(y(S),I),new E(y(I.g),y(I.h));if(w(I))return I=C(S,y(I)),new E(y(I.g),I.h);if(30<S.g.length){if(w(S)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var P=p,k=I;0>=k.l(S);)P=j(P),k=j(k);var D=O(P,1),N=O(k,1);for(k=O(k,2),P=O(P,2);!_(k);){var R=N.add(k);0>=R.l(S)&&(D=D.add(P),N=R),k=O(k,1),P=O(P,1)}return I=x(S,D.j(I)),new E(D,I)}for(D=h;0<=S.l(I);){for(P=Math.max(1,Math.floor(S.m()/I.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),N=u(P),R=N.j(I);w(R)||0<R.l(S);)P-=k,N=u(P),R=N.j(I);_(N)&&(N=p),D=D.add(N),S=x(S,R)}return new E(D,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],k=0;k<I;k++)P[k]=this.i(k)&S.i(k);return new o(P,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],k=0;k<I;k++)P[k]=this.i(k)|S.i(k);return new o(P,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),P=[],k=0;k<I;k++)P[k]=this.i(k)^S.i(k);return new o(P,this.h^S.h)};function j(S){for(var I=S.g.length+1,P=[],k=0;k<I;k++)P[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(P,S.h)}function O(S,I){var P=I>>5;I%=32;for(var k=S.g.length-P,D=[],N=0;N<k;N++)D[N]=0<I?S.i(N+P)>>>I|S.i(N+P+1)<<32-I:S.i(N+P);return new o(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Ni=o}).apply(typeof LI<"u"?LI:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tP,mu,nP,qf,rw,rP,sP,iP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,v){if(v)e:{var T=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var L=d[A];if(!(L in T))break e;T=T[L]}d=d[d.length-1],A=T[d],v=v(A),v!=A&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function i(d,v){d instanceof String&&(d+="");var T=0,A=!1,L={next:function(){if(!A&&T<d.length){var B=T++;return{value:v(B,d[B]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return i(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function u(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function h(d,v,T){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),d.apply(v,L)}}return function(){return d.apply(v,arguments)}}function p(d,v,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,p.apply(null,arguments)}function m(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function _(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(A,L,B){for(var ee=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ee[Fe-2]=arguments[Fe];return v.prototype[L].apply(A,ee)}}function w(d){const v=d.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=d[A];return T}return[]}function y(d,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(l(A)){const L=d.length||0,B=A.length||0;d.length=L+B;for(let ee=0;ee<B;ee++)d[L+ee]=A[ee]}else d.push(A)}}class x{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var j=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(d,v,T){for(const A in d)v.call(T,d[A],A,d)}function S(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function I(d){const v={};for(const T in d)v[T]=d[T];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,v){let T,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(T in A)d[T]=A[T];for(let B=0;B<P.length;B++)T=P[B],Object.prototype.hasOwnProperty.call(A,T)&&(d[T]=A[T])}}function D(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function N(d){a.setTimeout(()=>{throw d},0)}function R(){var d=$;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,T){const A=Q.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Q=new x(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,F=!1,$=new U,W=()=>{const d=a.Promise.resolve(void 0);Z=()=>{d.then(q)}};var q=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(T){N(T)}var v=Q;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}F=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,v),a.removeEventListener("test",T,v)}catch{}return d}();function le(d,v){if(X.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(j){e:{try{C(v.nodeName);var L=!0;break e}catch{}L=!1}L||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ue[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&le.aa.h.call(this)}}_(le,X);var ue={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),wt=0;function nt(d,v,T,A,L){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=L,this.key=++wt,this.da=this.fa=!1}function xt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Hr(d){this.src=d,this.g={},this.h=0}Hr.prototype.add=function(d,v,T,A,L){var B=d.toString();d=this.g[B],d||(d=this.g[B]=[],this.h++);var ee=Xn(d,v,A,L);return-1<ee?(v=d[ee],T||(v.fa=!1)):(v=new nt(v,this.src,B,!!A,L),v.fa=T,d.push(v)),v};function Kr(d,v){var T=v.type;if(T in d.g){var A=d.g[T],L=Array.prototype.indexOf.call(A,v,void 0),B;(B=0<=L)&&Array.prototype.splice.call(A,L,1),B&&(xt(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Xn(d,v,T,A){for(var L=0;L<d.length;++L){var B=d[L];if(!B.da&&B.listener==v&&B.capture==!!T&&B.ha==A)return L}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),eo={};function to(d,v,T,A,L){if(A&&A.once)return Ct(d,v,T,A,L);if(Array.isArray(v)){for(var B=0;B<v.length;B++)to(d,v[B],T,A,L);return null}return T=As(T),d&&d[Ie]?d.K(v,T,u(A)?!!A.capture:!!A,L):xr(d,v,T,!1,A,L)}function xr(d,v,T,A,L,B){if(!v)throw Error("Invalid event type");var ee=u(L)?!!L.capture:!!L,Fe=Nc(d);if(Fe||(d[wr]=Fe=new Hr(d)),T=Fe.add(v,T,A,ee,B),T.proxy)return T;if(A=_a(),T.proxy=A,A.src=d,A.listener=T,d.addEventListener)de||(L=ee),L===void 0&&(L=!1),d.addEventListener(v.toString(),A,L);else if(d.attachEvent)d.attachEvent(Lt(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function _a(){function d(T){return v.call(d.src,d.listener,T)}const v=Ps;return d}function Ct(d,v,T,A,L){if(Array.isArray(v)){for(var B=0;B<v.length;B++)Ct(d,v[B],T,A,L);return null}return T=As(T),d&&d[Ie]?d.L(v,T,u(A)?!!A.capture:!!A,L):xr(d,v,T,!0,A,L)}function Th(d,v,T,A,L){if(Array.isArray(v))for(var B=0;B<v.length;B++)Th(d,v[B],T,A,L);else A=u(A)?!!A.capture:!!A,T=As(T),d&&d[Ie]?(d=d.i,v=String(v).toString(),v in d.g&&(B=d.g[v],T=Xn(B,T,A,L),-1<T&&(xt(B[T]),Array.prototype.splice.call(B,T,1),B.length==0&&(delete d.g[v],d.h--)))):d&&(d=Nc(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Xn(v,T,A,L)),(T=-1<d?v[d]:null)&&Cc(T))}function Cc(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ie])Kr(v.i,d);else{var T=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(T,A,d.capture):v.detachEvent?v.detachEvent(Lt(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=Nc(v))?(Kr(T,d),T.h==0&&(T.src=null,v[wr]=null)):xt(d)}}}function Lt(d){return d in eo?eo[d]:eo[d]="on"+d}function Ps(d,v){if(d.da)d=!0;else{v=new le(v,this);var T=d.listener,A=d.ha||d.src;d.fa&&Cc(d),d=T.call(A,v)}return d}function Nc(d){return d=d[wr],d instanceof Hr?d:null}var kc="__closure_events_fn_"+(1e9*Math.random()>>>0);function As(d){return typeof d=="function"?d:(d[kc]||(d[kc]=function(v){return d.handleEvent(v)}),d[kc])}function _t(){H.call(this),this.i=new Hr(this),this.M=this,this.F=null}_(_t,H),_t.prototype[Ie]=!0,_t.prototype.removeEventListener=function(d,v,T,A){Th(this,d,v,T,A)};function bt(d,v){var T,A=d.F;if(A)for(T=[];A;A=A.F)T.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new X(v,d);else if(v instanceof X)v.target=v.target||d;else{var L=v;v=new X(A,d),k(v,L)}if(L=!0,T)for(var B=T.length-1;0<=B;B--){var ee=v.g=T[B];L=js(ee,A,!0,v)&&L}if(ee=v.g=d,L=js(ee,A,!0,v)&&L,L=js(ee,A,!1,v)&&L,T)for(B=0;B<T.length;B++)ee=v.g=T[B],L=js(ee,A,!1,v)&&L}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],A=0;A<T.length;A++)xt(T[A]);delete d.g[v],d.h--}}this.F=null},_t.prototype.K=function(d,v,T,A){return this.i.add(String(d),v,!1,T,A)},_t.prototype.L=function(d,v,T,A){return this.i.add(String(d),v,!0,T,A)};function js(d,v,T,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var L=!0,B=0;B<v.length;++B){var ee=v[B];if(ee&&!ee.da&&ee.capture==T){var Fe=ee.listener,kt=ee.ha||ee.src;ee.fa&&Kr(d.i,ee),L=Fe.call(kt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Wr(d,v,T){if(typeof d=="function")T&&(d=p(d,T));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(d,v||0)}function Rc(d){d.g=Wr(()=>{d.g=null,d.i&&(d.i=!1,Rc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ds extends H{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(d){H.call(this),this.h=d,this.g={}}_(no,H);var Sh=[];function Pc(d){O(d.g,function(v,T){this.g.hasOwnProperty(T)&&Cc(v)},d),d.g={}}no.prototype.N=function(){no.aa.N.call(this),Pc(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=a.JSON.stringify,Xg=a.JSON.parse,Ac=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Mn(){}Mn.prototype.h=null;function Ch(d){return d.h||(d.h=d.i())}function Nh(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ea(){X.call(this,"d")}_(Ea,X);function xe(){X.call(this,"c")}_(xe,X);var Ue={},pt=null;function Et(){return pt=pt||new _t}Ue.La="serverreachability";function ro(d){X.call(this,Ue.La,d)}_(ro,X);function Ye(d){const v=Et();bt(v,new ro(v))}Ue.STAT_EVENT="statevent";function Yt(d,v){X.call(this,Ue.STAT_EVENT,d),this.stat=v}_(Yt,X);function ct(d){const v=Et();bt(v,new Yt(v,d))}Ue.Ma="timingevent";function ln(d,v){X.call(this,Ue.Ma,d),this.size=v}_(ln,X);function Nt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function Gr(d,v,T,A,L,B){d.info(function(){if(d.g)if(B)for(var ee="",Fe=B.split("&"),kt=0;kt<Fe.length;kt++){var Ae=Fe[kt].split("=");if(1<Ae.length){var Vt=Ae[0];Ae=Ae[1];var Ft=Vt.split("_");ee=2<=Ft.length&&Ft[1]=="type"?ee+(Vt+"="+Ae+"&"):ee+(Vt+"=redacted&")}}else ee=null;else ee=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+v+`
`+T+`
`+ee})}function Bb(d,v,T,A,L,B,ee){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+v+`
`+T+`
`+B+" "+ee})}function Ia(d,v,T,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+SM(d,T)+(A?" "+A:"")})}function TM(d,v){d.info(function(){return"TIMEOUT: "+v})}Ms.prototype.info=function(){};function SM(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var A=T[d];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ee=1;ee<L.length;ee++)L[ee]=""}}}}return ba(T)}catch{return v}}var kh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zg;function Rh(){}_(Rh,Mn),Rh.prototype.g=function(){return new XMLHttpRequest},Rh.prototype.i=function(){return{}},Zg=new Rh;function Ls(d,v,T,A){this.j=d,this.i=v,this.l=T,this.R=A||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qb}function qb(){this.i=null,this.g="",this.h=!1}var Hb={},ev={};function tv(d,v,T){d.L=1,d.v=Dh(Qr(v)),d.m=T,d.P=!0,Kb(d,null)}function Kb(d,v){d.F=Date.now(),Ph(d),d.A=Qr(d.v);var T=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),o1(T.i,"t",A),d.C=0,T=d.j.J,d.h=new qb,d.g=I1(d.j,T?v:null,!d.m),0<d.O&&(d.M=new Ds(p(d.Y,d,d.g),d.O)),v=d.U,T=d.g,A=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(Sh[0]=L.toString()),L=Sh);for(var B=0;B<L.length;B++){var ee=to(T,L[B],A||v.handleEvent,!1,v.h||v);if(!ee)break;v.g[ee.key]=ee}v=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Ye(),Gr(d.i,d.u,d.A,d.l,d.R,d.m)}Ls.prototype.ca=function(d){d=d.target;const v=this.M;v&&Yr(d)==3?v.j():this.Y(d)},Ls.prototype.Y=function(d){try{if(d==this.g)e:{const Ft=Yr(this.g);var v=this.g.Ba();const Ca=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||f1(this.g)))){this.J||Ft!=4||v==7||(v==8||0>=Ca?Ye(3):Ye(2)),nv(this);var T=this.g.Z();this.X=T;t:if(Wb(this)){var A=f1(this.g);d="";var L=A.length,B=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){so(this),jc(this);var ee="";break t}this.h.i=new a.TextDecoder}for(v=0;v<L;v++)this.h.h=!0,d+=this.h.i.decode(A[v],{stream:!(B&&v==L-1)});A.length=0,this.h.g+=d,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=T==200,Bb(this.i,this.u,this.A,this.l,this.R,Ft,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,kt=this.g;if((Fe=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Fe)){var Ae=Fe;break t}}Ae=null}if(T=Ae)Ia(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rv(this,T);else{this.o=!1,this.s=3,ct(12),so(this),jc(this);break e}}if(this.P){T=!0;let Zn;for(;!this.J&&this.C<ee.length;)if(Zn=CM(this,ee),Zn==ev){Ft==4&&(this.s=4,ct(14),T=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Hb){this.s=4,ct(15),Ia(this.i,this.l,ee,"[Invalid Chunk]"),T=!1;break}else Ia(this.i,this.l,Zn,null),rv(this,Zn);if(Wb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ee.length!=0||this.h.h||(this.s=1,ct(16),T=!1),this.o=this.o&&T,!T)Ia(this.i,this.l,ee,"[Invalid Chunked Response]"),so(this),jc(this);else if(0<ee.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),cv(Vt),Vt.M=!0,ct(11))}}else Ia(this.i,this.l,ee,null),rv(this,ee);Ft==4&&so(this),this.o&&!this.J&&(Ft==4?x1(this.j,this):(this.o=!1,Ph(this)))}else qM(this.g),T==400&&0<ee.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),so(this),jc(this)}}}catch{}finally{}};function Wb(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function CM(d,v){var T=d.C,A=v.indexOf(`
`,T);return A==-1?ev:(T=Number(v.substring(T,A)),isNaN(T)?Hb:(A+=1,A+T>v.length?ev:(v=v.slice(A,A+T),d.C=A+T,v)))}Ls.prototype.cancel=function(){this.J=!0,so(this)};function Ph(d){d.S=Date.now()+d.I,Gb(d,d.I)}function Gb(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Nt(p(d.ba,d),v)}function nv(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ls.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(TM(this.i,this.A),this.L!=2&&(Ye(),ct(17)),so(this),this.s=2,jc(this)):Gb(this,this.S-d)};function jc(d){d.j.G==0||d.J||x1(d.j,d)}function so(d){nv(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Pc(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function rv(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||sv(T.h,d))){if(!d.K&&sv(T.h,d)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)$h(T),Vh(T);else break e;lv(T),ct(18)}}else T.za=L[1],0<T.za-T.T&&37500>L[2]&&T.F&&T.v==0&&!T.C&&(T.C=Nt(p(T.Za,T),6e3));if(1>=Jb(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else oo(T,11)}else if((d.K||T.g==d)&&$h(T),!b(v))for(L=T.Da.g.parse(v),v=0;v<L.length;v++){let Ae=L[v];if(T.T=Ae[0],Ae=Ae[1],T.G==2)if(Ae[0]=="c"){T.K=Ae[1],T.ia=Ae[2];const Vt=Ae[3];Vt!=null&&(T.la=Vt,T.j.info("VER="+T.la));const Ft=Ae[4];Ft!=null&&(T.Aa=Ft,T.j.info("SVER="+T.Aa));const Ca=Ae[5];Ca!=null&&typeof Ca=="number"&&0<Ca&&(A=1.5*Ca,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const Zn=d.g;if(Zn){const Bh=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bh){var B=A.h;B.g||Bh.indexOf("spdy")==-1&&Bh.indexOf("quic")==-1&&Bh.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(iv(B,B.h),B.h=null))}if(A.D){const uv=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;uv&&(A.ya=uv,ze(A.I,A.D,uv))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ee=d;if(A.qa=E1(A,A.J?A.ia:null,A.W),ee.K){Xb(A.h,ee);var Fe=ee,kt=A.L;kt&&(Fe.I=kt),Fe.B&&(nv(Fe),Ph(Fe)),A.g=ee}else y1(A);0<T.i.length&&Fh(T)}else Ae[0]!="stop"&&Ae[0]!="close"||oo(T,7);else T.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?oo(T,7):av(T):Ae[0]!="noop"&&T.l&&T.l.ta(Ae),T.v=0)}}Ye(4)}catch{}}var NM=class{constructor(d,v){this.g=d,this.map=v}};function Qb(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yb(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Jb(d){return d.h?1:d.g?d.g.size:0}function sv(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function iv(d,v){d.g?d.g.add(v):d.h=v}function Xb(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Qb.prototype.cancel=function(){if(this.i=Zb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Zb(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return w(d.i)}function kM(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var v=[],T=d.length,A=0;A<T;A++)v.push(d[A]);return v}v=[],T=0;for(A in d)v[T++]=d[A];return v}function RM(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const A in d)v[T++]=A;return v}}}function e1(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=RM(d),A=kM(d),L=A.length,B=0;B<L;B++)v.call(void 0,A[B],T&&T[B],d)}var t1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PM(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var A=d[T].indexOf("="),L=null;if(0<=A){var B=d[T].substring(0,A);L=d[T].substring(A+1)}else B=d[T];v(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function io(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof io){this.h=d.h,Ah(this,d.j),this.o=d.o,this.g=d.g,jh(this,d.s),this.l=d.l;var v=d.i,T=new Mc;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),n1(this,T),this.m=d.m}else d&&(v=String(d).match(t1))?(this.h=!1,Ah(this,v[1]||"",!0),this.o=Dc(v[2]||""),this.g=Dc(v[3]||"",!0),jh(this,v[4]),this.l=Dc(v[5]||"",!0),n1(this,v[6]||"",!0),this.m=Dc(v[7]||"")):(this.h=!1,this.i=new Mc(null,this.h))}io.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Oc(v,r1,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Oc(v,r1,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Oc(T,T.charAt(0)=="/"?DM:jM,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Oc(T,MM)),d.join("")};function Qr(d){return new io(d)}function Ah(d,v,T){d.j=T?Dc(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function jh(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function n1(d,v,T){v instanceof Mc?(d.i=v,LM(d.i,d.h)):(T||(v=Oc(v,OM)),d.i=new Mc(v,d.h))}function ze(d,v,T){d.i.set(v,T)}function Dh(d){return ze(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Dc(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Oc(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,AM),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function AM(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var r1=/[#\/\?@]/g,jM=/[#\?:]/g,DM=/[#\?]/g,OM=/[#\?@]/g,MM=/#/g;function Mc(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Vs(d){d.g||(d.g=new Map,d.h=0,d.i&&PM(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Mc.prototype,t.add=function(d,v){Vs(this),this.i=null,d=Ta(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function s1(d,v){Vs(d),v=Ta(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function i1(d,v){return Vs(d),v=Ta(d,v),d.g.has(v)}t.forEach=function(d,v){Vs(this),this.g.forEach(function(T,A){T.forEach(function(L){d.call(v,L,A,this)},this)},this)},t.na=function(){Vs(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const L=d[A];for(let B=0;B<L.length;B++)T.push(v[A])}return T},t.V=function(d){Vs(this);let v=[];if(typeof d=="string")i1(this,d)&&(v=v.concat(this.g.get(Ta(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},t.set=function(d,v){return Vs(this),this.i=null,d=Ta(this,d),i1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function o1(d,v,T){s1(d,v),0<T.length&&(d.i=null,d.g.set(Ta(d,v),w(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const B=encodeURIComponent(String(A)),ee=this.V(A);for(A=0;A<ee.length;A++){var L=B;ee[A]!==""&&(L+="="+encodeURIComponent(String(ee[A]))),d.push(L)}}return this.i=d.join("&")};function Ta(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function LM(d,v){v&&!d.j&&(Vs(d),d.i=null,d.g.forEach(function(T,A){var L=A.toLowerCase();A!=L&&(s1(this,A),o1(this,L,T))},d)),d.j=v}function VM(d,v){const T=new Ms;if(a.Image){const A=new Image;A.onload=m(Fs,T,"TestLoadImage: loaded",!0,v,A),A.onerror=m(Fs,T,"TestLoadImage: error",!1,v,A),A.onabort=m(Fs,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=m(Fs,T,"TestLoadImage: timeout",!1,v,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function FM(d,v){const T=new Ms,A=new AbortController,L=setTimeout(()=>{A.abort(),Fs(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?Fs(T,"TestPingServer: ok",!0,v):Fs(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(L),Fs(T,"TestPingServer: error",!1,v)})}function Fs(d,v,T,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(T)}catch{}}function $M(){this.g=new Ac}function UM(d,v,T){const A=T||"";try{e1(d,function(L,B){let ee=L;u(L)&&(ee=ba(L)),v.push(A+B+"="+encodeURIComponent(ee))})}catch(L){throw v.push(A+"type="+encodeURIComponent("_badmap")),L}}function Oh(d){this.l=d.Ub||null,this.j=d.eb||!1}_(Oh,Mn),Oh.prototype.g=function(){return new Mh(this.l,this.j)},Oh.prototype.i=function(d){return function(){return d}}({});function Mh(d,v){_t.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Mh,_t),t=Mh.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Vc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function a1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Lc(this):Vc(this),this.readyState==3&&a1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Lc(this))},t.Qa=function(d){this.g&&(this.response=d,Lc(this))},t.ga=function(){this.g&&Lc(this)};function Lc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vc(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Vc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function l1(d){let v="";return O(d,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function ov(d,v,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=l1(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):ze(d,v,T))}function rt(d){_t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(rt,_t);var BM=/^https?$/i,zM=["POST","PUT"];t=rt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zg.g(),this.v=this.o?Ch(this.o):Ch(Zg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(B){c1(this,B);return}if(d=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)T.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())T.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(B=>B.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zM,v,void 0))||A||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of T)this.g.setRequestHeader(B,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{h1(this),this.u=!0,this.g.send(d),this.u=!1}catch(B){c1(this,B)}};function c1(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,u1(d),Lh(d)}function u1(d){d.A||(d.A=!0,bt(d,"complete"),bt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,bt(this,"complete"),bt(this,"abort"),Lh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lh(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d1(this):this.bb())},t.bb=function(){d1(this)};function d1(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Yr(d)!=4||d.Z()!=2)){if(d.u&&Yr(d)==4)Wr(d.Ea,0,d);else if(bt(d,"readystatechange"),Yr(d)==4){d.h=!1;try{const ee=d.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var A;if(A=ee===0){var L=String(d.D).match(t1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!BM.test(L?L.toLowerCase():"")}T=A}if(T)bt(d,"complete"),bt(d,"success");else{d.m=6;try{var B=2<Yr(d)?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.Z()+"]",u1(d)}}finally{Lh(d)}}}}function Lh(d,v){if(d.g){h1(d);const T=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||bt(d,"ready");try{T.onreadystatechange=A}catch{}}}function h1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Yr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Xg(v)}};function f1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function qM(d){const v={};d=(d.g&&2<=Yr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(b(d[A]))continue;var T=D(d[A]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const B=v[L]||[];v[L]=B,B.push(T)}S(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fc(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function p1(d){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fc("baseRetryDelayMs",5e3,d),this.cb=Fc("retryDelaySeedMs",1e4,d),this.Wa=Fc("forwardChannelMaxRetries",2,d),this.wa=Fc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Qb(d&&d.concurrentRequestLimit),this.Da=new $M,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=p1.prototype,t.la=8,t.G=1,t.connect=function(d,v,T,A){ct(0),this.W=d,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=E1(this,null,this.W),Fh(this)};function av(d){if(m1(d),d.G==3){var v=d.U++,T=Qr(d.I);if(ze(T,"SID",d.K),ze(T,"RID",v),ze(T,"TYPE","terminate"),$c(d,T),v=new Ls(d,d.j,v),v.L=2,v.v=Dh(Qr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=v.v,T=!0),T||(v.g=I1(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ph(v)}b1(d)}function Vh(d){d.g&&(cv(d),d.g.cancel(),d.g=null)}function m1(d){Vh(d),d.u&&(a.clearTimeout(d.u),d.u=null),$h(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Fh(d){if(!Yb(d.h)&&!d.s){d.s=!0;var v=d.Ga;Z||W(),F||(Z(),F=!0),$.add(v,d),d.B=0}}function HM(d,v){return Jb(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Nt(p(d.Ga,d,v),_1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new Ls(this,this.j,d);let B=this.o;if(this.S&&(B?(B=I(B),k(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=v1(this,L,v),T=Qr(this.I),ze(T,"RID",d),ze(T,"CVER",22),this.D&&ze(T,"X-HTTP-Session-Id",this.D),$c(this,T),B&&(this.O?v="headers="+encodeURIComponent(String(l1(B)))+"&"+v:this.m&&ov(T,this.m,B)),iv(this.h,L),this.Ua&&ze(T,"TYPE","init"),this.P?(ze(T,"$req",v),ze(T,"SID","null"),L.T=!0,tv(L,T,null)):tv(L,T,v),this.G=2}}else this.G==3&&(d?g1(this,d):this.i.length==0||Yb(this.h)||g1(this))};function g1(d,v){var T;v?T=v.l:T=d.U++;const A=Qr(d.I);ze(A,"SID",d.K),ze(A,"RID",T),ze(A,"AID",d.T),$c(d,A),d.m&&d.o&&ov(A,d.m,d.o),T=new Ls(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=v1(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),iv(d.h,T),tv(T,A,v)}function $c(d,v){d.H&&O(d.H,function(T,A){ze(v,A,T)}),d.l&&e1({},function(T,A){ze(v,A,T)})}function v1(d,v,T){T=Math.min(d.i.length,T);var A=d.l?p(d.l.Na,d.l,d):null;e:{var L=d.i;let B=-1;for(;;){const ee=["count="+T];B==-1?0<T?(B=L[0].g,ee.push("ofs="+B)):B=0:ee.push("ofs="+B);let Fe=!0;for(let kt=0;kt<T;kt++){let Ae=L[kt].g;const Vt=L[kt].map;if(Ae-=B,0>Ae)B=Math.max(0,L[kt].g-100),Fe=!1;else try{UM(Vt,ee,"req"+Ae+"_")}catch{A&&A(Vt)}}if(Fe){A=ee.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,A}function y1(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Z||W(),F||(Z(),F=!0),$.add(v,d),d.v=0}}function lv(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Nt(p(d.Fa,d),_1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,w1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Nt(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Vh(this),w1(this))};function cv(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function w1(d){d.g=new Ls(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Qr(d.qa);ze(v,"RID","rpc"),ze(v,"SID",d.K),ze(v,"AID",d.T),ze(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ze(v,"TO",d.ja),ze(v,"TYPE","xmlhttp"),$c(d,v),d.m&&d.o&&ov(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Dh(Qr(v)),T.m=null,T.P=!0,Kb(T,d)}t.Za=function(){this.C!=null&&(this.C=null,Vh(this),lv(this),ct(19))};function $h(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function x1(d,v){var T=null;if(d.g==v){$h(d),cv(d),d.g=null;var A=2}else if(sv(d.h,v))T=v.D,Xb(d.h,v),A=1;else return;if(d.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var L=d.B;A=Et(),bt(A,new ln(A,T)),Fh(d)}else y1(d);else if(L=v.s,L==3||L==0&&0<v.X||!(A==1&&HM(d,v)||A==2&&lv(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),L){case 1:oo(d,5);break;case 4:oo(d,10);break;case 3:oo(d,6);break;default:oo(d,2)}}}function _1(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function oo(d,v){if(d.j.info("Error code "+v),v==2){var T=p(d.fb,d),A=d.Xa;const L=!A;A=new io(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ah(A,"https"),Dh(A),L?VM(A.toString(),T):FM(A.toString(),T)}else ct(2);d.G=0,d.l&&d.l.sa(v),b1(d),m1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function b1(d){if(d.G=0,d.ka=[],d.l){const v=Zb(d.h);(v.length!=0||d.i.length!=0)&&(y(d.ka,v),y(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function E1(d,v,T){var A=T instanceof io?Qr(T):new io(T);if(A.g!="")v&&(A.g=v+"."+A.g),jh(A,A.s);else{var L=a.location;A=L.protocol,v=v?v+"."+L.hostname:L.hostname,L=+L.port;var B=new io(null);A&&Ah(B,A),v&&(B.g=v),L&&jh(B,L),T&&(B.l=T),A=B}return T=d.D,v=d.ya,T&&v&&ze(A,T,v),ze(A,"VER",d.la),$c(d,A),A}function I1(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new rt(new Oh({eb:T})):new rt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T1(){}t=T1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uh(){}Uh.prototype.g=function(d,v){return new _n(d,v)};function _n(d,v){_t.call(this),this.g=new p1(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!b(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!b(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Sa(this)}_(_n,_t),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){av(this.g)},_n.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=ba(d),d=T);v.i.push(new NM(v.Ya++,d)),v.G==3&&Fh(v)},_n.prototype.N=function(){this.g.l=null,delete this.j,av(this.g),delete this.g,_n.aa.N.call(this)};function S1(d){Ea.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(S1,Ea);function C1(){xe.call(this),this.status=1}_(C1,xe);function Sa(d){this.g=d}_(Sa,T1),Sa.prototype.ua=function(){bt(this.g,"a")},Sa.prototype.ta=function(d){bt(this.g,new S1(d))},Sa.prototype.sa=function(d){bt(this.g,new C1)},Sa.prototype.ra=function(){bt(this.g,"b")},Uh.prototype.createWebChannel=Uh.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,iP=function(){return new Uh},sP=function(){return Et()},rP=Ue,rw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kh.NO_ERROR=0,kh.TIMEOUT=8,kh.HTTP_ERROR=6,qf=kh,zb.COMPLETE="complete",nP=zb,Nh.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",_t.prototype.listen=_t.prototype.K,mu=Nh,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,tP=rt}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});const VI="@firebase/firestore",FI="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new ag("@firebase/firestore");function Ua(){return Yo.logLevel}function G(t,...e){if(Yo.logLevel<=Se.DEBUG){const n=e.map(d_);Yo.debug(`Firestore (${xc}): ${t}`,...n)}}function en(t,...e){if(Yo.logLevel<=Se.ERROR){const n=e.map(d_);Yo.error(`Firestore (${xc}): ${t}`,...n)}}function Jo(t,...e){if(Yo.logLevel<=Se.WARN){const n=e.map(d_);Yo.warn(`Firestore (${xc}): ${t}`,...n)}}function d_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oP(t,r,n)}function oP(t,e,n){let r=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw en(r),new Error(r)}function ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||oP(e,s,r)}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class u7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class d7{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ce(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new aP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class h7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new h7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $I{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ce(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $I(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $I(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=m7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function sw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ge(r,s);{const i=lP(),o=g7(i.encode(UI(t,n)),i.encode(UI(e,n)));return o!==0?o:ge(r,s)}}n+=r>65535?2:1}return ge(t.length,e.length)}function UI(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function g7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ge(t[n],e[n]);return ge(t.length,e.length)}function Gl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function uP(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=-62135596800,zI=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zI);return new et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BI)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zI}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-BI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new et(0,0))}static max(){return new fe(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="__name__";class Ir{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ir?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ir.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ge(e.length,n.length)}static compareSegments(e,n){const r=Ir.isNumericId(e),s=Ir.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ir.extractNumericId(e).compare(Ir.extractNumericId(n)):sw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ni.fromString(e.substring(4,e.length-2))}}class je extends Ir{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new je(n)}static emptyPath(){return new je([])}}const v7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ir{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return v7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qI}static keyField(){return new Xe([qI])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(je.fromString(e))}static fromName(e){return new ne(je.fromString(e).popFirst(5))}static empty(){return new ne(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;class Gp{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function iw(t){return t.fields.find(e=>e.kind===2)}function po(t){return t.fields.filter(e=>e.kind!==2)}Gp.UNKNOWN_ID=-1;class Hf{constructor(e,n){this.fieldPath=e,this.kind=n}}class vd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new vd(0,An.min())}}function y7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new An(s,ne.empty(),e)}function dP(t){return new An(t.readTime,t.key,gd)}class An{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new An(fe.min(),ne.empty(),gd)}static max(){return new An(fe.max(),ne.empty(),gd)}}function h_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==hP)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(s=>s?V.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new V((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new V((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="SimpleDb";class cg{static open(e,n,r,s){try{return new cg(n,e.transaction(s,r))}catch(i){throw new Au(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new fs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Au(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=f_(r.target.error);this.S.reject(new Au(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(G(En,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new x7(n)}}class ki{static delete(e){return G(En,"Removing database:",e),go(LR().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!c_())return!1;if(ki.F())return!0;const e=vt(),n=ki.M(e),r=0<n&&n<10,s=pP(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,ki.M(vt())===12.2&&en("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(G(En,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Au(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new te(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Au(e,o))},s.onupgradeneeded=i=>{G(En,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;if(this.L!==null&&this.L!==i.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${i.oldVersion}, event.newVersion=${i.newVersion}, db.version=${o.version}`);this.B.q(o,s.transaction,i.oldVersion,this.version).next(()=>{G(En,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=n=>this.$(n)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=cg.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(u=>(a.v(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(G(En,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function pP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class w7{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return go(this.K.delete())}}class Au extends te{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Qi(t){return t.name==="IndexedDbTransactionError"}class x7{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G(En,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(G(En,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),go(r)}add(e){return G(En,"ADD",this.store.name,e,e),go(this.store.add(e))}get(e){return go(this.store.get(e)).next(n=>(n===void 0&&(n=null),G(En,"GET",this.store.name,e,n),n))}delete(e){return G(En,"DELETE",this.store.name,e),go(this.store.delete(e))}count(){return G(En,"COUNT",this.store.name),go(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new V((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.Y(i,(a,l)=>{o.push(l)}).next(()=>o)}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}X(e,n){G(En,"DELETE ALL",this.store.name);const r=this.options(e,n);r.ee=!1;const s=this.cursor(r);return this.Y(s,(i,o,a)=>a.delete())}te(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.Y(s,n)}ne(e){const n=this.cursor({});return new V((r,s)=>{n.onerror=i=>{const o=f_(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}Y(e,n){const r=[];return new V((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new w7(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const f=u.catch(h=>(l.done(),V.reject(h)));r.push(f)}l.isDone?s():l.j===null?a.continue():a.continue(l.j)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function go(t){return new V((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=f_(r.target.error);n(s)}})}let HI=!1;function f_(t){const e=ki.M(vt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HI||(HI=!0,setTimeout(()=>{throw r},0)),r}}return t}const ju="IndexBackfiller";class _7{constructor(e,n){this.asyncQueue=e,this.re=n,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){G(ju,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.re.se();G(ju,`Documents written: ${n}`)}catch(n){Qi(n)?G(ju,"Ignoring IndexedDB error during index backfill: ",n):await va(n)}await this.ie(6e4)})}}class b7{constructor(e,n){this.localStore=e,this.persistence=n}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.oe(n,e))}oe(e,n){const r=new Set;let s=n,i=!0;return V.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return G(ju,`Processing collection: ${o}`),this._e(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}_e(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(s,i)).next(a=>(G(ju,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ae(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=dP(i);h_(o,r)>0&&(r=o)}),new An(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bn.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=-1;function ug(t){return t==null}function yd(t){return t===0&&1/t==-1/0}function E7(t){return typeof t=="number"&&Number.isInteger(t)&&!yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="";function Wt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KI(e)),e=I7(t.get(n),e);return KI(e)}function I7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Qp:n+="";break;default:n+=i}}return n}function KI(t){return t+Qp+""}function Ar(t){const e=t.length;if(ce(e>=2,64408,{path:t}),e===2)return ce(t.charAt(0)===Qp&&t.charAt(1)==="",56145,{path:t}),je.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(Qp,i);switch((o<0||o>n)&&ae(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:ae(61167,{path:t})}i=o+2}return new je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="remoteDocuments",ih="owner",ka="owner",wd="mutationQueues",T7="userId",ir="mutations",WI="batchId",Eo="userMutationsIndex",GI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t,e){return[t,Wt(e)]}function mP(t,e,n){return[t,Wt(e),n]}const S7={},Ql="documentMutations",Yp="remoteDocumentsV14",C7=["prefixPath","collectionGroup","readTime","documentId"],Wf="documentKeyIndex",N7=["prefixPath","collectionGroup","documentId"],gP="collectionGroupIndex",k7=["collectionGroup","readTime","prefixPath","documentId"],xd="remoteDocumentGlobal",ow="remoteDocumentGlobalKey",Yl="targets",vP="queryTargetsIndex",R7=["canonicalId","targetId"],Jl="targetDocuments",P7=["targetId","path"],p_="documentTargetsIndex",A7=["path","targetId"],Jp="targetGlobalKey",Vo="targetGlobal",_d="collectionParents",j7=["collectionId","parent"],Xl="clientMetadata",D7="clientId",dg="bundles",O7="bundleId",hg="namedQueries",M7="name",m_="indexConfiguration",L7="indexId",aw="collectionGroupIndex",V7="collectionGroup",Du="indexState",F7=["indexId","uid"],yP="sequenceNumberIndex",$7=["uid","sequenceNumber"],Ou="indexEntries",U7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wP="documentKeyIndex",B7=["indexId","uid","orderedDocumentKey"],fg="documentOverlays",z7=["userId","collectionPath","documentId"],lw="collectionPathOverlayIndex",q7=["userId","collectionPath","largestBatchId"],xP="collectionGroupOverlayIndex",H7=["userId","collectionGroup","largestBatchId"],g_="globals",K7="name",_P=[wd,ir,Ql,mo,Yl,ih,Vo,Jl,Xl,xd,_d,dg,hg],W7=[..._P,fg],bP=[wd,ir,Ql,Yp,Yl,ih,Vo,Jl,Xl,xd,_d,dg,hg,fg],EP=bP,v_=[...EP,m_,Du,Ou],G7=v_,IP=[...v_,g_],Q7=IP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends fP{constructor(e,n){super(),this.he=e,this.currentSequenceNumber=n}}function yt(t,e){const n=we(t);return ki.N(n.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??At.RED,this.left=s??At.EMPTY,this.right=i??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new At(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return At.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YI(this.data.getIterator())}getIteratorFrom(e){return new YI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class YI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ra(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Le(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SP("Invalid base64 string: "+i):i}}(e);return new ft(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const Y7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(t){if(ce(!!t,39018),typeof t=="string"){let e=0;const n=Y7.exec(t);if(ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="server_timestamp",NP="__type__",kP="__previous_value__",RP="__local_write_time__";function y_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NP])===null||n===void 0?void 0:n.stringValue)===CP}function pg(t){const e=t.mapValue.fields[kP];return y_(e)?pg(e):e}function bd(t){const e=Es(t.mapValue.fields[RP].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,r,s,i,o,a,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Xp="(default)";class Xo{constructor(e,n){this.projectId=e,this.database=n||Xp}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database===Xp}isEqual(e){return e instanceof Xo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="__type__",PP="__max__",mi={mapValue:{fields:{__type__:{stringValue:PP}}}},x_="__vector__",Zl="value",Gf={nullValue:"NULL_VALUE"};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y_(t)?4:AP(t)?9007199254740991:mg(t)?10:11:ae(28295,{value:t})}function Ur(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Es(s.timestampValue),a=Es(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Is(s.bytesValue).isEqual(Is(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),a=We(i.doubleValue);return o===a?yd(o)===yd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gl(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(QI(o)!==QI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ur(o[l],a[l])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function Ed(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function $i(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=We(i.integerValue||i.doubleValue),l=We(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return JI(t.timestampValue,e.timestampValue);case 4:return JI(bd(t),bd(e));case 5:return sw(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Is(i),l=Is(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=ge(a[u],l[u]);if(f!==0)return f}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ge(We(i.latitude),We(o.latitude));return a!==0?a:ge(We(i.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XI(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,f;const h=i.fields||{},p=o.fields||{},m=(a=h[Zl])===null||a===void 0?void 0:a.arrayValue,_=(l=p[Zl])===null||l===void 0?void 0:l.arrayValue,w=ge(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:XI(m,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===mi.mapValue&&o===mi.mapValue)return 0;if(i===mi.mapValue)return 1;if(o===mi.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const p=sw(l[h],f[h]);if(p!==0)return p;const m=$i(a[l[h]],u[f[h]]);if(m!==0)return m}return ge(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{Pe:n})}}function JI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Es(t),r=Es(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function XI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=$i(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function ec(t){return uw(t)}function uw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=uw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${uw(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function Qf(t){switch(Fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pg(t);return e?16+Qf(e):16;case 5:return 2*t.stringValue.length;case 6:return Is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Qf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Yi(r.fields,(i,o)=>{s+=i.length+Qf(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function Id(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dw(t){return!!t&&"integerValue"in t}function Td(t){return!!t&&"arrayValue"in t}function ZI(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yf(t){return!!t&&"mapValue"in t}function mg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[w_])===null||n===void 0?void 0:n.stringValue)===x_}function Mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PP}const jP={mapValue:{fields:{[w_]:{stringValue:x_},[Zl]:{arrayValue:{}}}}};function X7(t){return"nullValue"in t?Gf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Id(Xo.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?mg(t)?jP:{mapValue:{}}:ae(35942,{value:t})}function Z7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Id(Xo.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?jP:"mapValue"in t?mg(t)?{mapValue:{}}:mi:ae(61959,{value:t})}function tT(t,e){const n=$i(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function nT(t,e){const n=$i(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=Xe.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Mu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Yf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Kt(Mu(this.value))}}function DP(t){const e=[];return Yi(t.fields,(n,r)=>{const s=new Xe([n]);if(Yf(r)){const i=DP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ot(e,0,fe.min(),fe.min(),fe.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,s){return new ot(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new ot(e,2,n,fe.min(),fe.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,fe.min(),fe.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.position=e,this.inclusive=n}}function rT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=$i(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function sT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function eB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{}class Ce extends OP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tB(e,n,r):n==="array-contains"?new sB(e,r):n==="in"?new UP(e,r):n==="not-in"?new iB(e,r):n==="array-contains-any"?new oB(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nB(e,r):new rB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($i(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison($i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oe extends OP{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Oe(e,n)}matches(e){return nc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nc(t){return t.op==="and"}function hw(t){return t.op==="or"}function __(t){return MP(t)&&nc(t)}function MP(t){for(const e of t.filters)if(e instanceof Oe)return!1;return!0}function fw(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(__(t))return t.filters.map(e=>fw(e)).join(",");{const e=t.filters.map(n=>fw(n)).join(",");return`${t.op}(${e})`}}function LP(t,e){return t instanceof Ce?function(r,s){return s instanceof Ce&&r.op===s.op&&r.field.isEqual(s.field)&&Ur(r.value,s.value)}(t,e):t instanceof Oe?function(r,s){return s instanceof Oe&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&LP(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function VP(t,e){const n=t.filters.concat(e);return Oe.create(n,t.op)}function FP(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(FP).join(" ,")+"}"}(t):"Filter"}class tB extends Ce{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class nB extends Ce{constructor(e,n){super(e,"in",n),this.keys=$P("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rB extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=$P("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $P(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class sB extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Td(n)&&Ed(n.arrayValue,this.value)}}class UP extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ed(this.value.arrayValue,n)}}class iB extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ed(this.value.arrayValue,n)}}class oB extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Td(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ed(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function pw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new aB(t,e,n,r,s,i,o)}function Zo(t){const e=we(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ug(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ec(r)).join(",")),e.Ie=n}return e.Ie}function oh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sT(t.startAt,e.startAt)&&sT(t.endAt,e.endAt)}function Zp(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function em(t,e){return t.filters.filter(n=>n instanceof Ce&&n.field.isEqual(e))}function iT(t,e,n){let r=Gf,s=!0;for(const i of em(t,e)){let o=Gf,a=!0;switch(i.op){case"<":case"<=":o=X7(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=Gf}tT({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];tT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function oT(t,e,n){let r=mi,s=!0;for(const i of em(t,e)){let o=mi,a=!0;switch(i.op){case">=":case">":o=Z7(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=mi}nT({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];nT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lB(t,e,n,r,s,i,o,a){return new _c(t,e,n,r,s,i,o,a)}function b_(t){return new _c(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BP(t){return t.collectionGroup!==null}function Lu(t){const e=we(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Le(Xe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Sd(i,r))}),n.has(Xe.keyField().canonicalString())||e.Ee.push(new Sd(Xe.keyField(),r))}return e.Ee}function Hn(t){const e=we(t);return e.de||(e.de=cB(e,Lu(t))),e.de}function cB(t,e){if(t.limitType==="F")return pw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Sd(s.field,i)});const n=t.endAt?new tc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tc(t.startAt.position,t.startAt.inclusive):null;return pw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mw(t,e){const n=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tm(t,e,n){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gg(t,e){return oh(Hn(t),Hn(e))&&t.limitType===e.limitType}function zP(t){return`${Zo(Hn(t))}|lt:${t.limitType}`}function Ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>FP(s)).join(", ")}]`),ug(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ec(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ec(s)).join(",")),`Target(${r})`}(Hn(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Lu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=rT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Lu(r),s)||r.endAt&&!function(o,a,l){const u=rT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Lu(r),s))}(t,e)}function uB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qP(t){return(e,n)=>{let r=!1;for(const s of Lu(t)){const i=dB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function dB(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?$i(l,u):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return TP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=new Qe(ne.comparator);function Cn(){return hB}const HP=new Qe(ne.comparator);function gu(...t){let e=HP;for(const n of t)e=e.insert(n.key,n);return e}function KP(t){let e=HP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jr(){return Vu()}function WP(){return Vu()}function Vu(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const fB=new Qe(ne.comparator),pB=new Le(ne.comparator);function Ee(...t){let e=pB;for(const n of t)e=e.add(n);return e}const mB=new Le(ge);function gB(){return mB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function GP(t){return{integerValue:""+t}}function vB(t,e){return E7(e)?GP(e):E_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this._=void 0}}function yB(t,e,n){return t instanceof rc?function(s,i){const o={fields:{[NP]:{stringValue:CP},[RP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&y_(i)&&(i=pg(i)),i&&(o.fields[kP]=i),{mapValue:o}}(n,e):t instanceof sc?YP(t,e):t instanceof ic?JP(t,e):function(s,i){const o=QP(s,i),a=lT(o)+lT(s.Re);return dw(o)&&dw(s.Re)?GP(a):E_(s.serializer,a)}(t,e)}function wB(t,e,n){return t instanceof sc?YP(t,e):t instanceof ic?JP(t,e):n}function QP(t,e){return t instanceof Cd?function(r){return dw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class rc extends vg{}class sc extends vg{constructor(e){super(),this.elements=e}}function YP(t,e){const n=XP(e);for(const r of t.elements)n.some(s=>Ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends vg{constructor(e){super(),this.elements=e}}function JP(t,e){let n=XP(e);for(const r of t.elements)n=n.filter(s=>!Ur(s,r));return{arrayValue:{values:n}}}class Cd extends vg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function lT(t){return We(t.integerValue||t.doubleValue)}function XP(t){return Td(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.field=e,this.transform=n}}function xB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sc&&s instanceof sc||r instanceof ic&&s instanceof ic?Gl(r.elements,s.elements,Ur):r instanceof Cd&&s instanceof Cd?Ur(r.Re,s.Re):r instanceof rc&&s instanceof rc}(t.transform,e.transform)}class _B{constructor(e,n){this.version=e,this.transformResults=n}}class tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yg{}function eA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wg(t.key,tn.none()):new bc(t.key,t.data,tn.none());{const n=t.data,r=Kt.empty();let s=new Le(Xe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ks(t.key,r,new pn(s.toArray()),tn.none())}}function bB(t,e,n){t instanceof bc?function(s,i,o){const a=s.value.clone(),l=uT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ks?function(s,i,o){if(!Jf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=uT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(tA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fu(t,e,n,r){return t instanceof bc?function(i,o,a,l){if(!Jf(i.precondition,o))return a;const u=i.value.clone(),f=dT(i.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ks?function(i,o,a,l){if(!Jf(i.precondition,o))return a;const u=dT(i.fieldTransforms,l,o),f=o.data;return f.setAll(tA(i)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Jf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function EB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=QP(r.transform,s||null);i!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,i))}return n||null}function cT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Gl(r,s,(i,o)=>xB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends yg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ks extends yg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uT(t,e,n){const r=new Map;ce(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,wB(o,a,n[s]))}return r}function dT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,yB(i,o,e))}return r}class wg extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nA extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&bB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=eA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(n,r)=>cT(n,r))&&Gl(this.baseMutations,e.baseMutations,(n,r)=>cT(n,r))}}class T_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ce(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return fB}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new T_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Re;function TB(t){switch(t){case z.OK:return ae(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function rA(t){if(t===void 0)return en("GRPC error has no .code"),z.UNKNOWN;switch(t){case ut.OK:return z.OK;case ut.CANCELLED:return z.CANCELLED;case ut.UNKNOWN:return z.UNKNOWN;case ut.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ut.INTERNAL:return z.INTERNAL;case ut.UNAVAILABLE:return z.UNAVAILABLE;case ut.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ut.NOT_FOUND:return z.NOT_FOUND;case ut.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ut.ABORTED:return z.ABORTED;case ut.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ut.DATA_LOSS:return z.DATA_LOSS;default:return ae(39323,{code:t})}}(Re=ut||(ut={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=new Ni([4294967295,4294967295],0);function hT(t){const e=lP().encode(t),n=new eP;return n.update(e),new Uint8Array(n.digest())}function fT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ni([n,r],0),new Ni([s,i],0)]}class C_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vu(`Invalid padding: ${n}`);if(r<0)throw new vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ni.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ni.fromNumber(r)));return s.compare(SB)===1&&(s=new Ni([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=hT(e),[r,s]=fT(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new C_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=hT(e),[r,s]=fT(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,lh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xg(fe.min(),s,new Qe(ge),Cn(),Ee())}}class lh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lh(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class sA{constructor(e,n){this.targetId=e,this.Ce=n}}class iA{constructor(e,n,r=ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class pT{constructor(){this.Fe=0,this.Me=mT(),this.xe=ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ee(),n=Ee(),r=Ee();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new lh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=mT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ce(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class CB{constructor(e){this.ze=e,this.je=new Map,this.He=Cn(),this.Je=gf(),this.Ye=gf(),this.Ze=new Qe(ge)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Zp(i))if(r===0){const o=new ne(i.path);this.tt(n,o,ot.newNoDocument(o,fe.min()))}else ce(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Is(r).toUint8Array()}catch(l){if(l instanceof SP)return Jo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new C_(o,s,i)}catch(l){return Jo(l instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Zp(a.target)){const l=new ne(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,ot.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ee();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new xg(e,n,this.Ze,this.He,r);return this.He=Cn(),this.Je=gf(),this.Ye=gf(),this.Ze=new Qe(ge),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new pT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Le(ge),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Le(ge),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new pT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function gf(){return new Qe(ne.comparator)}function mT(){return new Qe(ne.comparator)}const NB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),kB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RB=(()=>({and:"AND",or:"OR"}))();class PB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gw(t,e){return t.useProto3Json||ug(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AB(t,e){return oc(t,e.toTimestamp())}function rn(t){return ce(!!t,49232),fe.fromTimestamp(function(n){const r=Es(n);return new et(r.seconds,r.nanos)}(t))}function N_(t,e){return vw(t,e).canonicalString()}function vw(t,e){const n=function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aA(t){const e=je.fromString(t);return ce(gA(e),10190,{key:e.toString()}),e}function nm(t,e){return N_(t.databaseId,e.path)}function Fo(t,e){const n=aA(e);if(n.get(1)!==t.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(uA(n))}function lA(t,e){return N_(t.databaseId,e)}function cA(t){const e=aA(t);return e.length===4?je.emptyPath():uA(e)}function yw(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uA(t){return ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gT(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function jB(t,e,n){const r=Fo(t,e.name),s=rn(e.updateTime),i=e.createTime?rn(e.createTime):fe.min(),o=new Kt({mapValue:{fields:e.fields}}),a=ot.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function DB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,f){return u.useProto3Json?(ce(f===void 0||typeof f=="string",58123),ft.fromBase64String(f||"")):(ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ft.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?z.UNKNOWN:rA(u.code);return new te(f,u.message||"")}(o);n=new iA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fo(t,r.document.name),i=rn(r.document.updateTime),o=r.document.createTime?rn(r.document.createTime):fe.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=ot.newFoundDocument(s,i,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Xf(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fo(t,r.document),i=r.readTime?rn(r.readTime):fe.min(),o=ot.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Xf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fo(t,r.document),i=r.removedTargetIds||[];n=new Xf([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new IB(s,i),a=r.targetId;n=new sA(a,o)}}return n}function rm(t,e){let n;if(e instanceof bc)n={update:gT(t,e.key,e.value)};else if(e instanceof wg)n={delete:nm(t,e.key)};else if(e instanceof ks)n={update:gT(t,e.key,e.data),updateMask:$B(e.fieldMask)};else{if(!(e instanceof nA))return ae(16599,{ft:e.type});n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof rc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ic)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:AB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function ww(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?tn.updateTime(rn(i.updateTime)):i.exists!==void 0?tn.exists(i.exists):tn.none()}(e.currentDocument):tn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)ce(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new rc;else if("appendMissingElements"in a){const f=a.appendMissingElements.values||[];l=new sc(f)}else if("removeAllFromArray"in a){const f=a.removeAllFromArray.values||[];l=new ic(f)}else"increment"in a?l=new Cd(o,a.increment):ae(16584,{proto:a});const u=Xe.fromServerFormat(a.fieldPath);return new ZP(u,l)}(t,s)):[];if(e.update){e.update.name;const s=Fo(t,e.update.name),i=new Kt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new pn(u.map(f=>Xe.fromServerFormat(f)))}(e.updateMask);return new ks(s,i,o,n,r)}return new bc(s,i,n,r)}if(e.delete){const s=Fo(t,e.delete);return new wg(s,n)}if(e.verify){const s=Fo(t,e.verify);return new nA(s,n)}return ae(1463,{proto:e})}function OB(t,e){return t&&t.length>0?(ce(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?rn(s.updateTime):rn(i);return o.isEqual(fe.min())&&(o=rn(i)),new _B(o,s.transformResults||[])}(n,e))):[]}function dA(t,e){return{documents:[lA(t,e.path)]}}function hA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lA(t,s);const i=function(u){if(u.length!==0)return mA(Oe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:za(p.field),direction:LB(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function fA(t){let e=cA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ce(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(h){const p=pA(h);return p instanceof Oe&&__(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(_){return new Sd(qa(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,ug(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new tc(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new tc(m,p)}(n.endAt)),lB(e,s,o,i,a,"F",l,u)}function MB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qa(n.unaryFilter.field);return Ce.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qa(n.unaryFilter.field);return Ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qa(n.unaryFilter.field);return Ce.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(qa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>pA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function LB(t){return NB[t]}function VB(t){return kB[t]}function FB(t){return RB[t]}function za(t){return{fieldPath:t.canonicalString()}}function qa(t){return Xe.fromServerFormat(t.fieldPath)}function mA(t){return t instanceof Ce?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(ZI(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(ZI(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:VB(n.op),value:n.value}}}(t):t instanceof Oe?function(n){const r=n.getFilters().map(s=>mA(s));return r.length===1?r[0]:{compositeFilter:{op:FB(n.op),filters:r}}}(t):ae(54877,{filter:t})}function $B(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.wt=e}}function UB(t,e){let n;if(e.document)n=jB(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),s=ta(e.noDocument.readTime);n=ot.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ae(56709);{const r=ne.fromSegments(e.unknownDocument.path),s=ta(e.unknownDocument.version);n=ot.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new et(s[0],s[1]);return fe.fromTimestamp(i)}(e.readTime)),n}function vT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:nm(i,o.key),fields:o.data.value.mapValue.fields,updateTime:oc(i,o.version.toTimestamp()),createTime:oc(i,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ea(e.version)};else{if(!e.isUnknownDocument())return ae(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:ea(e.version)}}return r}function sm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ea(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ta(t){const e=new et(t.seconds,t.nanoseconds);return fe.fromTimestamp(e)}function vo(t,e){const n=(e.baseMutations||[]).map(i=>ww(t.wt,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>ww(t.wt,i)),s=et.fromMillis(e.localWriteTimeMs);return new I_(e.batchId,s,n,r)}function yu(t){const e=ta(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ta(t.lastLimboFreeSnapshotVersion):fe.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){const o=i.documents.length;return ce(o===1,1966,{count:o}),Hn(b_(cA(i.documents[0])))}(t.query):function(i){return Hn(fA(i))}(t.query),new as(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ft.fromBase64String(t.resumeToken))}function yA(t,e){const n=ea(e.snapshotVersion),r=ea(e.lastLimboFreeSnapshotVersion);let s;s=Zp(e.target)?dA(t.wt,e.target):hA(t.wt,e.target).gt;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zo(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function wA(t){const e=fA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tm(e,e.limit,"L"):e}function ey(t,e){return new S_(e.largestBatchId,ww(t.wt,e.overlayMutation))}function yT(t,e){const n=e.path.lastSegment();return[t,Wt(e.path.popLast()),n]}function wT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ea(r.readTime),documentKey:Wt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{getBundleMetadata(e,n){return xT(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:ta(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return xT(e).put(function(s){return{bundleId:s.id,createTime:ea(rn(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return _T(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:wA(i.bundledQuery),readTime:ta(i.readTime)}}(r)})}saveNamedQuery(e,n){return _T(e).put(function(s){return{name:s.name,readTime:ea(rn(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function xT(t){return yt(t,dg)}function _T(t){return yt(t,hg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.serializer=e,this.userId=n}static St(e,n){const r=n.uid||"";return new _g(e,r)}getOverlay(e,n){return Xc(e).get(yT(this.userId,n)).next(r=>r?ey(this.serializer,r):null)}getOverlays(e,n){const r=jr();return V.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new S_(n,o);s.push(this.bt(e,a))}),V.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Wt(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Xc(e).X(lw,a))}),V.waitFor(i)}getOverlaysForCollection(e,n,r){const s=jr(),i=Wt(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Xc(e).J(lw,o).next(a=>{for(const l of a){const u=ey(this.serializer,l);s.set(u.getKey(),u)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=jr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xc(e).te({index:xP,range:a},(l,u,f)=>{const h=ey(this.serializer,u);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):f.done()}).next(()=>i)}bt(e,n){return Xc(e).put(function(s,i,o){const[a,l,u]=yT(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:rm(s.wt,o.mutation)}}(this.serializer,this.userId,n))}}function Xc(t){return yt(t,fg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{Dt(e){return yt(e,g_)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?ft.fromUint8Array(r):ft.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Dt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(We(e.integerValue));else if("doubleValue"in e){const r=We(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),yd(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Es(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Is(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?AP(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):mg(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):ae(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){const r=e.fields||{};this.Mt(n,55);for(const s of Object.keys(r))this.Nt(s,n),this.Ct(r[s],n)}qt(e,n){var r,s;const i=e.fields||{};this.Mt(n,53);const o=Zl,a=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Mt(n,15),n.xt(We(a)),this.Nt(o,n),this.Ct(i[o],n)}$t(e,n){const r=e.values||[];this.Mt(n,50);for(const s of r)this.Ct(s,n)}kt(e,n){this.Mt(n,37),ne.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}}yo.Wt=new yo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=255;function qB(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function bT(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=qB(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class HB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.zt(r.value),r=n.next();this.jt()}Ht(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Yt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const s=n.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(e){const n=this.tn(e),r=bT(n);this.nn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}rn(e){const n=this.tn(e),r=bT(n);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}sn(){this._n(Pa),this._n(255)}an(){this.un(Pa),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}zt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===Pa?(this._n(Pa),this._n(0)):this._n(n)}Jt(e){const n=255&e;n===0?(this.un(0),this.un(255)):n===Pa?(this.un(Pa),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class KB{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class WB{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Zc{constructor(){this.ln=new HB,this.hn=new KB(this.ln),this.Pn=new WB(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r,s){this.In=e,this.En=n,this.dn=r,this.An=s}Rn(){const e=this.An.length,n=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.An,0),n!==e?r.set([0],this.An.length):++r[r.length-1],new wo(this.In,this.En,this.dn,r)}Vn(e,n,r){return{indexId:this.In,uid:e,arrayValue:Zf(this.dn),directionalValue:Zf(this.An),orderedDocumentKey:Zf(n),documentKey:r.path.toArray()}}mn(e,n,r){const s=this.Vn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function zs(t,e){let n=t.In-e.In;return n!==0?n:(n=ET(t.dn,e.dn),n!==0?n:(n=ET(t.An,e.An),n!==0?n:ne.comparator(t.En,e.En)))}function ET(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Zf(t){return KR()?function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r}(t):t}function IT(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(t)}class TT{constructor(e){this.fn=new Le((n,r)=>Xe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const n of e.filters){const r=n;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(ce(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const n=iw(e);if(n!==void 0&&!this.Sn(n))return!1;const r=po(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.Sn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.fn.size>0){const a=this.fn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.bn(a,l)||!this.Dn(this.gn[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.gn.length||!this.Dn(this.gn[o++],a))return!1}return!0}vn(){if(this.yn)return null;let e=new Le(Xe.comparator);const n=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Hf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Hf(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Hf(r.field,r.dir==="asc"?0:1)));return new Gp(Gp.UNKNOWN_ID,this.collectionId,n,vd.empty())}Sn(e){for(const n of this.pn)if(this.bn(n,e))return!0;return!1}bn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Dn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){var e,n;if(ce(t instanceof Ce||t instanceof Oe,20012),t instanceof Ce){if(t instanceof UP){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>Ce.create(t.field,"==",i)))||[];return Oe.create(s,"or")}return t}const r=t.filters.map(s=>xA(s));return Oe.create(r,t.op)}function GB(t){if(t.getFilters().length===0)return[];const e=bw(xA(t));return ce(_A(e),7391),xw(e)||_w(e)?[e]:e.getFilters()}function xw(t){return t instanceof Ce}function _w(t){return t instanceof Oe&&__(t)}function _A(t){return xw(t)||_w(t)||function(n){if(n instanceof Oe&&hw(n)){for(const r of n.getFilters())if(!xw(r)&&!_w(r))return!1;return!0}return!1}(t)}function bw(t){if(ce(t instanceof Ce||t instanceof Oe,34018),t instanceof Ce)return t;if(t.filters.length===1)return bw(t.filters[0]);const e=t.filters.map(r=>bw(r));let n=Oe.create(e,t.op);return n=im(n),_A(n)?n:(ce(n instanceof Oe,64498),ce(nc(n),40251),ce(n.filters.length>1,57927),n.filters.reduce((r,s)=>k_(r,s)))}function k_(t,e){let n;return ce(t instanceof Ce||t instanceof Oe,38388),ce(e instanceof Ce||e instanceof Oe,25473),n=t instanceof Ce?e instanceof Ce?function(s,i){return Oe.create([s,i],"and")}(t,e):ST(t,e):e instanceof Ce?ST(e,t):function(s,i){if(ce(s.filters.length>0&&i.filters.length>0,48005),nc(s)&&nc(i))return VP(s,i.getFilters());const o=hw(s)?s:i,a=hw(s)?i:s,l=o.filters.map(u=>k_(u,a));return Oe.create(l,"or")}(t,e),im(n)}function ST(t,e){if(nc(e))return VP(e,t.getFilters());{const n=e.filters.map(r=>k_(t,r));return Oe.create(n,"or")}}function im(t){if(ce(t instanceof Ce||t instanceof Oe,11850),t instanceof Ce)return t;const e=t.getFilters();if(e.length===1)return im(e[0]);if(MP(t))return t;const n=e.map(s=>im(s)),r=[];return n.forEach(s=>{s instanceof Ce?r.push(s):s instanceof Oe&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Oe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this.Cn=new R_}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(An.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(An.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class R_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Le(je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Le(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="IndexedDbIndexManager",vf=new Uint8Array(0);class YB{constructor(e,n){this.databaseId=n,this.Fn=new R_,this.Mn=new Ns(r=>Zo(r),(r,s)=>oh(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Fn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.Fn.add(n)});const i={collectionId:r,parent:Wt(s)};return NT(e).put(i)}return V.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[uP(n),""],!1,!0);return NT(e).J(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Ar(o.parent))}return r})}addFieldIndex(e,n){const r=eu(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=ja(e);return i.next(a=>{o.put(wT(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=eu(e),s=ja(e),i=Aa(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=eu(e),r=Aa(e),s=ja(e);return n.X().next(()=>r.X()).next(()=>s.X())}createTargetIndexes(e,n){return V.forEach(this.xn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new TT(r).vn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=Aa(e);let s=!0;const i=new Map;return V.forEach(this.xn(n),o=>this.On(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=Ee();const a=[];return V.forEach(i,(l,u)=>{G(CT,`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${Zo(n)}`);const f=function(E,C){const j=iw(C);if(j===void 0)return null;for(const O of em(E,j.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(u,l),h=function(E,C){const j=new Map;for(const O of po(C))for(const S of em(E,O.fieldPath))switch(S.op){case"==":case"in":j.set(O.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return j.set(O.fieldPath.canonicalString(),S.value),Array.from(j.values())}return null}(u,l),p=function(E,C){const j=[];let O=!0;for(const S of po(C)){const I=S.kind===0?iT(E,S.fieldPath,E.startAt):oT(E,S.fieldPath,E.startAt);j.push(I.value),O&&(O=I.inclusive)}return new tc(j,O)}(u,l),m=function(E,C){const j=[];let O=!0;for(const S of po(C)){const I=S.kind===0?oT(E,S.fieldPath,E.endAt):iT(E,S.fieldPath,E.endAt);j.push(I.value),O&&(O=I.inclusive)}return new tc(j,O)}(u,l),_=this.Nn(l,u,p),w=this.Nn(l,u,m),y=this.Bn(l,u,h),x=this.Ln(l.indexId,f,_,p.inclusive,w,m.inclusive,y);return V.forEach(x,b=>r.Z(b,n.limit).next(E=>{E.forEach(C=>{const j=ne.fromSegments(C.documentKey);o.has(j)||(o=o.add(j),a.push(j))})}))}).next(()=>a)}return V.resolve(null)})}xn(e){let n=this.Mn.get(e);return n||(e.filters.length===0?n=[e]:n=GB(Oe.create(e.filters,"and")).map(r=>pw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,n),n)}Ln(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),u=l/(n!=null?n.length:1),f=[];for(let h=0;h<l;++h){const p=n?this.kn(n[h/u]):vf,m=this.qn(e,p,r[h%u],s),_=this.Qn(e,p,i[h%u],o),w=a.map(y=>this.qn(e,p,y,!0));f.push(...this.createRange(m,_,w))}return f}qn(e,n,r,s){const i=new wo(e,ne.empty(),n,r);return s?i:i.Rn()}Qn(e,n,r,s){const i=new wo(e,ne.empty(),n,r);return s?i.Rn():i}On(e,n){const r=new TT(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.wn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.xn(n);return V.forEach(s,i=>this.On(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Le(Xe.comparator),f=!1;for(const h of l.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?f=!0:u=u.add(p.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(f?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}$n(e,n){const r=new Zc;for(const s of po(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Tn(s.kind);yo.Wt.vt(i,o)}return r.cn()}kn(e){const n=new Zc;return yo.Wt.vt(e,n.Tn(0)),n.cn()}Un(e,n){const r=new Zc;return yo.Wt.vt(Id(this.databaseId,n),r.Tn(function(i){const o=po(i);return o.length===0?0:o[o.length-1].kind}(e))),r.cn()}Bn(e,n,r){if(r===null)return[];let s=[];s.push(new Zc);let i=0;for(const o of po(e)){const a=r[i++];for(const l of s)if(this.Kn(n,o.fieldPath)&&Td(a))s=this.Wn(s,o,a);else{const u=l.Tn(o.kind);yo.Wt.vt(a,u)}}return this.Gn(s)}Nn(e,n,r){return this.Bn(e,n,r.position)}Gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].cn();return n}Wn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new Zc;l.seed(a.cn()),yo.Wt.vt(o,l.Tn(n.kind)),i.push(l)}return i}Kn(e,n){return!!e.filters.find(r=>r instanceof Ce&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=eu(e),s=ja(e);return(n?r.J(aw,IDBKeyRange.bound(n,n)):r.J()).next(i=>{const o=[];return V.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(f,h){const p=h?new vd(h.sequenceNumber,new An(ta(h.readTime),new ne(Ar(h.documentKey)),h.largestBatchId)):vd.empty(),m=f.fields.map(([_,w])=>new Hf(Xe.fromServerFormat(_),w));return new Gp(f.indexId,f.collectionGroup,m,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:ge(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=eu(e),i=ja(e);return this.zn(e).next(o=>s.J(aw,IDBKeyRange.bound(n,n)).next(a=>V.forEach(a,l=>i.put(wT(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return V.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),V.forEach(a,l=>this.jn(e,s,l).next(u=>{const f=this.Hn(i,l);return u.isEqual(f)?V.resolve():this.Jn(e,i,l,u,f)}))))})}Yn(e,n,r,s){return Aa(e).put(s.Vn(this.uid,this.Un(r,n.key),n.key))}Zn(e,n,r,s){return Aa(e).delete(s.mn(this.uid,this.Un(r,n.key),n.key))}jn(e,n,r){const s=Aa(e);let i=new Le(zs);return s.te({index:wP,range:IDBKeyRange.only([r.indexId,this.uid,Zf(this.Un(r,n))])},(o,a)=>{i=i.add(new wo(r.indexId,n,IT(a.arrayValue),IT(a.directionalValue)))}).next(()=>i)}Hn(e,n){let r=new Le(zs);const s=this.$n(n,e);if(s==null)return r;const i=iw(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Td(o))for(const a of o.arrayValue.values||[])r=r.add(new wo(n.indexId,e.key,this.kn(a),s))}else r=r.add(new wo(n.indexId,e.key,vf,s));return r}Jn(e,n,r,s,i){G(CT,"Updating index entries for document '%s'",n.key);const o=[];return function(l,u,f,h,p){const m=l.getIterator(),_=u.getIterator();let w=Ra(m),y=Ra(_);for(;w||y;){let x=!1,b=!1;if(w&&y){const E=f(w,y);E<0?b=!0:E>0&&(x=!0)}else w!=null?b=!0:x=!0;x?(h(y),y=Ra(_)):b?(p(w),w=Ra(m)):(w=Ra(m),y=Ra(_))}}(s,i,zs,a=>{o.push(this.Yn(e,n,r,a))},a=>{o.push(this.Zn(e,n,r,a))}),V.waitFor(o)}zn(e){let n=1;return ja(e).te({index:yP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>zs(o,a)).filter((o,a,l)=>!a||zs(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=zs(o,e),l=zs(o,n);if(a===0)s[0]=e.Rn();else if(a>0&&l<0)s.push(o),s.push(o.Rn());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Xn(s[o],s[o+1]))return[];const a=s[o].mn(this.uid,vf,ne.empty()),l=s[o+1].mn(this.uid,vf,ne.empty());i.push(IDBKeyRange.bound(a,l))}return i}Xn(e,n){return zs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(kT)}getMinOffset(e,n){return V.mapArray(this.xn(n),r=>this.On(e,r).next(s=>s||ae(44426))).next(kT)}}function NT(t){return yt(t,_d)}function Aa(t){return yt(t,Ou)}function eu(t){return yt(t,m_)}function ja(t){return yt(t,Du)}function kT(t){ce(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;h_(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new An(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e,n){const r=t.store(ir),s=t.store(Ql),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.te({range:o},(f,h,p)=>(a++,p.delete()));i.push(l.next(()=>{ce(a===1,47070,{batchId:n.batchId})}));const u=[];for(const f of n.mutations){const h=mP(e,f.key.path,n.batchId);i.push(s.delete(h)),u.push(f.key)}return V.waitFor(i).next(()=>u)}function om(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ae(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(bA,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);class bg{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.er={}}static St(e,n,r,s){ce(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new bg(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).te({index:Eo,range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=Ha(e),o=qs(e);return o.add({}).next(a=>{ce(typeof a=="number",49019);const l=new I_(a,n,r,s),u=function(m,_,w){const y=w.baseMutations.map(b=>rm(m.wt,b)),x=w.mutations.map(b=>rm(m.wt,b));return{userId:_,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:y,mutations:x}}(this.serializer,this.userId,l),f=[];let h=new Le((p,m)=>ge(p.canonicalString(),m.canonicalString()));for(const p of s){const m=mP(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),f.push(o.put(u)),f.push(i.put(m,S7))}return h.forEach(p=>{f.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.er[a]=l.keys()}),V.waitFor(f).next(()=>l)})}lookupMutationBatch(e,n){return qs(e).get(n).next(r=>r?(ce(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),vo(this.serializer,r)):null)}tr(e,n){return this.er[n]?V.resolve(this.er[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.er[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return qs(e).te({index:Eo,range:s},(o,a,l)=>{a.userId===this.userId&&(ce(a.batchId>=r,47524,{nr:r}),i=vo(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Lo;return qs(e).te({index:Eo,range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Lo],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).J(Eo,n).next(r=>r.map(s=>vo(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Kf(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Ha(e).te({range:s},(o,a,l)=>{const[u,f,h]=o,p=Ar(f);if(u===this.userId&&n.path.isEqual(p))return qs(e).get(h).next(m=>{if(!m)throw ae(61480,{rr:o,batchId:h});ce(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),i.push(vo(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(ge);const s=[];return n.forEach(i=>{const o=Kf(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=Ha(e).te({range:a},(u,f,h)=>{const[p,m,_]=u,w=Ar(m);p===this.userId&&i.path.isEqual(w)?r=r.add(_):h.done()});s.push(l)}),V.waitFor(s).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Kf(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Le(ge);return Ha(e).te({range:o},(l,u,f)=>{const[h,p,m]=l,_=Ar(p);h===this.userId&&r.isPrefixOf(_)?_.length===s&&(a=a.add(m)):f.done()}).next(()=>this.ir(e,a))}ir(e,n){const r=[],s=[];return n.forEach(i=>{s.push(qs(e).get(i).next(o=>{if(o===null)throw ae(35274,{batchId:i});ce(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(vo(this.serializer,o))}))}),V.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return EA(e.he,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.sr(n.batchId)}),V.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return V.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Ha(e).te({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=Ar(i[1]);s.push(l)}else a.done()}).next(()=>{ce(s.length===0,56720,{_r:s.map(i=>i.canonicalString())})})})}containsKey(e,n){return IA(e,this.userId,n)}ar(e){return TA(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Lo,lastStreamToken:""})}}function IA(t,e,n){const r=Kf(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Ha(t).te({range:i,ee:!0},(a,l,u)=>{const[f,h,p]=a;f===e&&h===s&&(o=!0),u.done()}).next(()=>o)}function qs(t){return yt(t,ir)}function Ha(t){return yt(t,Ql)}function TA(t){return yt(t,wd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new na(0)}static lr(){return new na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.hr(e).next(n=>{const r=new na(n.highestTargetId);return n.highestTargetId=r.next(),this.Pr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(n=>fe.fromTimestamp(new et(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.hr(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.Pr(e,s)))}addTargetData(e,n){return this.Tr(e,n).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(n,r),this.Pr(e,r))))}updateTargetData(e,n){return this.Tr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Da(e).delete(n.targetId)).next(()=>this.hr(e)).next(r=>(ce(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return Da(e).te((o,a)=>{const l=yu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(i)).next(()=>s)}forEachTarget(e,n){return Da(e).te((r,s)=>{const i=yu(s);n(i)})}hr(e){return PT(e).get(Jp).next(n=>(ce(n!==null,2888),n))}Pr(e,n){return PT(e).put(Jp,n)}Tr(e,n){return Da(e).put(yA(this.serializer,n))}Ir(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Zo(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Da(e).te({range:s,index:vP},(o,a,l)=>{const u=yu(a);oh(n,u.target)&&(i=u,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Zs(e);return n.forEach(o=>{const a=Wt(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(s)}removeMatchingKeys(e,n,r){const s=Zs(e);return V.forEach(n,i=>{const o=Wt(i.path);return V.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Zs(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Zs(e);let i=Ee();return s.te({range:r,ee:!0},(o,a,l)=>{const u=Ar(o[1]),f=new ne(u);i=i.add(f)}).next(()=>i)}containsKey(e,n){const r=Wt(n.path),s=IDBKeyRange.bound([r],[uP(r)],!1,!0);let i=0;return Zs(e).te({index:p_,ee:!0,range:s},([o,a],l,u)=>{o!==0&&(i++,u.done())}).next(()=>i>0)}Rt(e,n){return Da(e).get(n).next(r=>r?yu(r):null)}}function Da(t){return yt(t,Yl)}function PT(t){return yt(t,Vo)}function Zs(t){return yt(t,Jl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",XB=1048576;function jT([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class ZB{constructor(e){this.Er=e,this.buffer=new Le(jT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){G(AT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qi(n)?G(AT,"Ignoring IndexedDB error during garbage collection: ",n):await va(n)}await this.mr(3e5)})}}class ez{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Bn.le);const r=new ZB(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(RT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ua()<=Se.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function CA(t,e){return new ez(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.db=e,this.garbageCollector=CA(this,n)}pr(e){const n=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}yr(e,n){return this.br(e,(r,s)=>n(s))}addReference(e,n,r){return yf(e,r)}removeReference(e,n,r){return yf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return yf(e,n)}Dr(e,n){return function(s,i){let o=!1;return TA(s).ne(a=>IA(s,a,i).next(l=>(l&&(o=!0),V.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.br(e,(o,a)=>{if(a<=n){const l=this.Dr(e,o).next(u=>{if(!u)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,fe.min()),Zs(e).delete(function(h){return[0,Wt(h.path)]}(o))))});s.push(l)}}).next(()=>V.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return yf(e,n)}br(e,n){const r=Zs(e);let s,i=Bn.le;return r.te({index:p_},([o,a],{path:l,sequenceNumber:u})=>{o===0?(i!==Bn.le&&n(new ne(Ar(s)),i),i=u,s=l):i=Bn.le}).next(()=>{i!==Bn.le&&n(new ne(Ar(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yf(t,e){return Zs(t).put(function(r,s){return{targetId:0,path:Wt(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return lo(e).put(r)}removeEntry(e,n,r){return lo(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],sm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.vr(e,r)))}getEntry(e,n){let r=ot.newInvalidDocument(n);return lo(e).te({index:Wf,range:IDBKeyRange.only(tu(n))},(s,i)=>{r=this.Cr(n,i)}).next(()=>r)}Fr(e,n){let r={size:0,document:ot.newInvalidDocument(n)};return lo(e).te({index:Wf,range:IDBKeyRange.only(tu(n))},(s,i)=>{r={document:this.Cr(n,i),size:om(i)}}).next(()=>r)}getEntries(e,n){let r=Cn();return this.Mr(e,n,(s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)}).next(()=>r)}Or(e,n){let r=Cn(),s=new Qe(ne.comparator);return this.Mr(e,n,(i,o)=>{const a=this.Cr(i,o);r=r.insert(i,a),s=s.insert(i,om(o))}).next(()=>({documents:r,Nr:s}))}Mr(e,n,r){if(n.isEmpty())return V.resolve();let s=new Le(MT);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(tu(s.first()),tu(s.last())),o=s.getIterator();let a=o.getNext();return lo(e).te({index:Wf,range:i},(l,u,f)=>{const h=ne.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&MT(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?f.H(tu(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),sm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lo(e).J(IDBKeyRange.bound(a,l,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let f=Cn();for(const h of u){const p=this.Cr(ne.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(ah(n,p)||s.has(p.key))&&(f=f.insert(p.key,p))}return f})}getAllFromCollectionGroup(e,n,r,s){let i=Cn();const o=OT(n,r),a=OT(n,An.max());return lo(e).te({index:gP,range:IDBKeyRange.bound(o,a,!0)},(l,u,f)=>{const h=this.Cr(ne.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(h.key,h),i.size===s&&f.done()}).next(()=>i)}newChangeBuffer(e){return new rz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return DT(e).get(ow).next(n=>(ce(!!n,20021),n))}vr(e,n){return DT(e).put(ow,n)}Cr(e,n){if(n){const r=UB(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(fe.min())))return r}return ot.newInvalidDocument(e)}}function kA(t){return new nz(t)}class rz extends NA{constructor(e,n){super(),this.Br=e,this.trackRemovals=n,this.Lr=new Ns(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Le((i,o)=>ge(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Lr.get(i);if(n.push(this.Br.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=vT(this.Br.serializer,o);s=s.add(i.path.popLast());const u=om(l);r+=u-a.size,n.push(this.Br.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=vT(this.Br.serializer,o.convertToNoDocument(fe.min()));n.push(this.Br.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.Br.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Br.updateMetadata(e,r)),V.waitFor(n)}getFromCache(e,n){return this.Br.Fr(e,n).next(r=>(this.Lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Br.Or(e,n).next(({documents:r,Nr:s})=>(s.forEach((i,o)=>{this.Lr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function DT(t){return yt(t,xd)}function lo(t){return yt(t,Yp)}function tu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OT(t,e){const n=e.documentKey.path.toArray();return[t,sm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function MT(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=ge(n[i],r[i]),s)return s;return s=ge(n.length,r.length),s||(s=ge(n[n.length-2],r[r.length-2]),s||ge(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fu(r.mutation,s,pn.empty(),et.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=jr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=gu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Cn();const o=Vu(),a=function(){return Vu()}();return n.forEach((l,u)=>{const f=r.get(u.key);s.has(u.key)&&(f===void 0||f.mutation instanceof ks)?i=i.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Fu(f.mutation,u,f.mutation.getFieldMask(),et.now())):o.set(u.key,pn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new sz(f,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vu();let s=new Qe((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||pn.empty();f=a.applyToLocalView(u,f),r.set(l,f);const h=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,h=WP();f.forEach(p=>{if(!i.has(p)){const m=eA(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):V.resolve(jr());let a=gd,l=i;return o.next(u=>V.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(f)?V.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ee())).next(f=>({batchId:a,changes:KP(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=gu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=gu();return this.indexManager.getCollectionParents(e,i).next(a=>V.forEach(a,l=>{const u=function(h,p){return new _c(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,ot.newInvalidDocument(f)))});let a=gu();return o.forEach((l,u)=>{const f=i.get(l);f!==void 0&&Fu(f.mutation,u,pn.empty(),et.now()),ah(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return V.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:rn(s.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:wA(s.bundledQuery),readTime:rn(s.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.overlays=new Qe(ne.comparator),this.Qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return V.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const s=jr(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=i.get(u.largestBatchId);f===null&&(f=jr(),i=i.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=jr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=s)););return V.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new S_(n,r));let i=this.Qr.get(n);i===void 0&&(i=Ee(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.$r=new Le(It.Ur),this.Kr=new Le(It.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new It(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new It(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ne(new je([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ne(new je([])),r=new It(n,e),s=new It(n,e+1);let i=Ee();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ne.comparator(e.key,n.key)||ge(e.Zr,n.Zr)}static Wr(e,n){return ge(e.Zr,n.Zr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Le(It.Ur)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new I_(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return V.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Lo:this.nr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),V.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(ge);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),V.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new It(new ne(i),0);let a=new Le(ge);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Zr)),!0)},o),V.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ce(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return V.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new It(n,0),s=this.Xr.firstAfterOrEqual(r);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.ii=e,this.docs=function(){return new Qe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Cn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ot.newInvalidDocument(s))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Cn();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||h_(dP(f),r)<=0||(s.has(f.key)||ah(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}si(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uz(this)}getSize(e){return V.resolve(this.size)}}class uz extends NA{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.persistence=e,this.oi=new Ns(n=>Zo(n),oh),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this._i=0,this.ai=new P_,this.targetCount=0,this.ui=na.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),V.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new na(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Tr(n),V.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),V.waitFor(i).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),V.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.ci={},this.overlays={},this.li=new Bn(0),this.hi=!1,this.hi=!0,this.Pi=new az,this.referenceDelegate=e(this),this.Ti=new dz(this),this.indexManager=new QB,this.remoteDocumentCache=function(s){return new cz(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new vA(n),this.Ei=new iz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new lz(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new hz(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return V.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class hz extends fP{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Vi=new P_,this.mi=null}static fi(e){return new Eg(e)}get gi(){if(this.mi)return this.mi;throw ae(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.gi,r=>{const s=ne.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return V.or([()=>V.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class am{constructor(e,n){this.persistence=e,this.yi=new Ns(r=>Wt(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=CA(this,n)}static fi(e,n){return new am(e,n)}di(){}Ai(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return V.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?V.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),V.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qf(e.data.value)),n}Dr(e,n,r){return V.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return V.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.serializer=e}q(e,n,r,s){const i=new cg("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore(ih)}(e),function(l){l.createObjectStore(wd,{keyPath:T7}),l.createObjectStore(ir,{keyPath:WI,autoIncrement:!0}).createIndex(Eo,GI,{unique:!0}),l.createObjectStore(Ql)}(e),LT(e),function(l){l.createObjectStore(mo)}(e));let o=V.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore(Jl),l.deleteObjectStore(Yl),l.deleteObjectStore(Vo)}(e),LT(e)),o=o.next(()=>function(l){const u=l.store(Vo),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fe.min().toTimestamp(),targetCount:0};return u.put(Jp,f)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store(ir).J().next(h=>{l.deleteObjectStore(ir),l.createObjectStore(ir,{keyPath:WI,autoIncrement:!0}).createIndex(Eo,GI,{unique:!0});const p=u.store(ir),m=h.map(_=>p.put(_));return V.waitFor(m)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore(Xl,{keyPath:D7})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.wi(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore(xd)}(e),this.Si(i)))),r<7&&s>=7&&(o=o.next(()=>this.bi(i))),r<8&&s>=8&&(o=o.next(()=>this.Di(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.Ci(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(dg,{keyPath:O7})})(e),function(l){l.createObjectStore(hg,{keyPath:M7})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore(fg,{keyPath:z7});u.createIndex(lw,q7,{unique:!1}),u.createIndex(xP,H7,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore(Yp,{keyPath:C7});u.createIndex(Wf,N7),u.createIndex(gP,k7)}(e)).next(()=>this.Fi(e,i)).next(()=>e.deleteObjectStore(mo))),r<14&&s>=14&&(o=o.next(()=>this.Mi(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore(m_,{keyPath:L7,autoIncrement:!0}).createIndex(aw,V7,{unique:!1}),l.createObjectStore(Du,{keyPath:F7}).createIndex(yP,$7,{unique:!1}),l.createObjectStore(Ou,{keyPath:U7}).createIndex(wP,B7,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore(Du).clear()}).next(()=>{n.objectStore(Ou).clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(g_,{keyPath:K7})})(e)})),r<18&&s>=18&&KR()&&(o=o.next(()=>{n.objectStore(Du).clear()}).next(()=>{n.objectStore(Ou).clear()})),o}Si(e){let n=0;return e.store(mo).te((r,s)=>{n+=om(s)}).next(()=>{const r={byteSize:n};return e.store(xd).put(ow,r)})}wi(e){const n=e.store(wd),r=e.store(ir);return n.J().next(s=>V.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,Lo],[i.userId,i.lastAcknowledgedBatchId]);return r.J(Eo,o).next(a=>V.forEach(a,l=>{ce(l.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const u=vo(this.serializer,l);return EA(e,i.userId,u).next(()=>{})}))}))}bi(e){const n=e.store(Jl),r=e.store(mo);return e.store(Vo).get(Jp).next(s=>{const i=[];return r.te((o,a)=>{const l=new je(o),u=function(h){return[0,Wt(h)]}(l);i.push(n.get(u).next(f=>f?V.resolve():(h=>n.put({targetId:0,path:Wt(h),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>V.waitFor(i))})}Di(e,n){e.createObjectStore(_d,{keyPath:j7});const r=n.store(_d),s=new R_,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Wt(l)})}};return n.store(mo).te({ee:!0},(o,a)=>{const l=new je(o);return i(l.popLast())}).next(()=>n.store(Ql).te({ee:!0},([o,a,l],u)=>{const f=Ar(a);return i(f.popLast())}))}Ci(e){const n=e.store(Yl);return n.te((r,s)=>{const i=yu(s),o=yA(this.serializer,i);return n.put(o)})}Fi(e,n){const r=n.store(mo),s=[];return r.te((i,o)=>{const a=n.store(Yp),l=function(h){return h.document?new ne(je.fromString(h.document.name).popFirst(5)):h.noDocument?ne.fromSegments(h.noDocument.path):h.unknownDocument?ne.fromSegments(h.unknownDocument.path):ae(36783)}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(u))}).next(()=>V.waitFor(s))}Mi(e,n){const r=n.store(ir),s=kA(this.serializer),i=new A_(Eg.fi,this.serializer.wt);return r.J().next(o=>{const a=new Map;return o.forEach(l=>{var u;let f=(u=a.get(l.userId))!==null&&u!==void 0?u:Ee();vo(this.serializer,l).keys().forEach(h=>f=f.add(h)),a.set(l.userId,f)}),V.forEach(a,(l,u)=>{const f=new Pt(u),h=_g.St(this.serializer,f),p=i.getIndexManager(f),m=bg.St(f,this.serializer,p,i.referenceDelegate);return new RA(s,m,h,p).recalculateAndSaveOverlaysForDocumentKeys(new cw(n,Bn.le),l).next()})})}}function LT(t){t.createObjectStore(Jl,{keyPath:P7}).createIndex(p_,A7,{unique:!0}),t.createObjectStore(Yl,{keyPath:"targetId"}).createIndex(vP,R7,{unique:!0}),t.createObjectStore(Vo)}const Hs="IndexedDbPersistence",ty=18e5,ny=5e3,ry="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pz="main";class j_{constructor(e,n,r,s,i,o,a,l,u,f,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.xi=i,this.window=o,this.document=a,this.Oi=u,this.Ni=f,this.Bi=h,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=p=>Promise.resolve(),!j_.C())throw new te(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tz(this,s),this.Ui=n+pz,this.serializer=new vA(l),this.Ki=new ki(this.Ui,this.Bi,new fz(this.serializer)),this.Pi=new zB,this.Ti=new JB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kA(this.serializer),this.Ei=new BB,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,f===!1&&en(Hs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(z.FAILED_PRECONDITION,ry);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Bn(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(n=>{n||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(n=>this.isPrimary&&!n?this.Xi(e).next(()=>!1):!!n&&this.es(e).next(()=>!0))).catch(e=>{if(Qi(e))return G(Hs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G(Hs,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return nu(e).get(ka).next(n=>V.resolve(this.ts(n)))}ns(e){return wf(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,ty)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=yt(n,Xl);return r.J().next(s=>{const i=this._s(s,ty),o=s.filter(a=>i.indexOf(a)===-1);return V.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const n of e)this.Wi.removeItem(this.us(n.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?V.resolve(!0):nu(e).get(ka).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,ny)&&!this.cs(n.ownerId)){if(this.ts(n)&&this.networkEnabled)return!0;if(!this.ts(n)){if(!n.allowTabSynchronization)throw new te(z.FAILED_PRECONDITION,ry);return!1}}return!(!this.networkEnabled||!this.inForeground)||wf(e).J().next(r=>this._s(r,ny).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G(Hs,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[ih,Xl],e=>{const n=new cw(e,Bn.le);return this.Xi(n).next(()=>this.ns(n))}),this.Ki.close(),this.Ts()}_s(e,n){return e.filter(r=>this.ss(r.updateTimeMs,n)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>wf(e).J().next(n=>this._s(n,ty).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,n){return bg.St(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YB(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return _g.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,n,r){G(Hs,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===18?Q7:l===17?IP:l===16?G7:l===15?v_:l===14?EP:l===13?bP:l===12?W7:l===11?_P:void ae(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,s,i,a=>(o=new cw(a,this.li?this.li.next():Bn.le),n==="readwrite-primary"?this.Yi(o).next(l=>!!l||this.Zi(o)).next(l=>{if(!l)throw en(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new te(z.FAILED_PRECONDITION,hP);return r(o)}).next(l=>this.es(o).next(()=>l)):this.Es(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Es(e){return nu(e).get(ka).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,ny)&&!this.cs(n.ownerId)&&!this.ts(n)&&!(this.Ni||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(z.FAILED_PRECONDITION,ry)})}es(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nu(e).put(ka,n)}static C(){return ki.C()}Xi(e){const n=nu(e);return n.get(ka).next(r=>this.ts(r)?(G(Hs,"Releasing primary lease."),n.delete(ka)):V.resolve())}ss(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(en(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const n=/(?:Version|Mobile)\/1[456]/;HR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var n;try{const r=((n=this.Wi)===null||n===void 0?void 0:n.getItem(this.us(e)))!==null;return G(Hs,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return en(Hs,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){en("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nu(t){return yt(t,ih)}function wf(t){return yt(t,Xl)}function mz(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new D_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return HR()?8:pP(vt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new gz;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Ua()<=Se.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),V.resolve()):(Ua()<=Se.DEBUG&&G("QueryEngine","Query:",Ba(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Ua()<=Se.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):V.resolve())}ws(e,n){if(aT(n))return V.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=tm(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,tm(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,s){return aT(n)||s.isEqual(fe.min())?V.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?V.resolve(null):(Ua()<=Se.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ba(n)),this.Fs(e,o,n,y7(s,gd)).next(a=>a))})}vs(e,n){let r=new Le(qP(e));return n.forEach((s,i)=>{ah(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Ua()<=Se.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.ys.getDocumentsMatchingQuery(e,n,An.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LocalStore",vz=3e8;class yz{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Qe(ge),this.Os=new Ns(i=>Zo(i),oh),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function AA(t,e,n,r){return new yz(t,e,n,r)}async function jA(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function wz(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const h=u.batch,p=h.keys();let m=V.resolve();return p.forEach(_=>{m=m.next(()=>f.getEntry(l,_)).next(w=>{const y=u.docVersions.get(_);ce(y!==null,48541),w.version.compareTo(y)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),f.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function DA(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function xz(t,e){const n=we(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((f,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ti.removeMatchingKeys(i,f.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(i,f.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(ft.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),s=s.insert(h,m),function(w,y,x){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=vz?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,f)&&a.push(n.Ti.updateTargetData(i,m))});let l=Cn(),u=Ee();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(_z(i,o,e.documentUpdates).next(f=>{l=f.qs,u=f.Qs})),!r.isEqual(fe.min())){const f=n.Ti.getLastRemoteSnapshotVersion(i).next(h=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return V.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.xs=s,i))}function _z(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Cn();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(O_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function bz(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ez(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,V.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new as(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Ew(t,e,n){const r=we(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Qi(o))throw o;G(O_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function VT(t,e,n){const r=we(t);let s=fe.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const h=we(l),p=h.Os.get(f);return p!==void 0?V.resolve(h.xs.get(p)):h.Ti.getTargetData(u,f)}(r,o,Hn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ee())).next(a=>(Iz(r,uB(e),a),{documents:a,$s:i})))}function Iz(t,e,n){let r=t.Ns.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class FT{constructor(){this.activeTargetIds=gB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OA{constructor(){this.xo=new FT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new FT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class UT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){G($T,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){G($T,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=null;function Iw(){return xf===null?xf=function(){return 268435456+Math.round(2147483648*Math.random())}():xf++,"0x"+xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="RestConnection",Sz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cz{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Xp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Iw(),a=this.jo(e,n.toUriEncodedString());G(sy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:u}=new URL(a),f=rh(u);return this.Jo(e,a,l,r,f).then(h=>(G(sy,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Jo(sy,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=Sz[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class kz extends Cz{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Iw();return new Promise((a,l)=>{const u=new tP;u.setWithCredentials(!0),u.listenOnce(nP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qf.NO_ERROR:const h=u.getResponseJson();G(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case qf.TIMEOUT:G(Bt,`RPC '${e}' ${o} timed out`),l(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const p=u.getStatus();if(G(Bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const w=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(b)>=0?b:z.UNKNOWN}(_.status);l(new te(w,_.message))}else l(new te(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new te(z.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(Bt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);G(Bt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",f,r,15)})}T_(e,n,r){const s=Iw(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iP(),a=sP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=i.join("");G(Bt,`Creating RPC '${e}' stream ${s}: ${f}`,l);const h=o.createWebChannel(f,l);let p=!1,m=!1;const _=new Nz({Zo:y=>{m?G(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(p||(G(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),G(Bt,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},Xo:()=>h.close()}),w=(y,x,b)=>{y.listen(x,E=>{try{b(E)}catch(C){setTimeout(()=>{throw C},0)}})};return w(h,mu.EventType.OPEN,()=>{m||(G(Bt,`RPC '${e}' stream ${s} transport opened.`),_.__())}),w(h,mu.EventType.CLOSE,()=>{m||(m=!0,G(Bt,`RPC '${e}' stream ${s} transport closed`),_.u_())}),w(h,mu.EventType.ERROR,y=>{m||(m=!0,Jo(Bt,`RPC '${e}' stream ${s} transport errored. Name:`,y.name,"Message:",y.message),_.u_(new te(z.UNAVAILABLE,"The operation could not be completed")))}),w(h,mu.EventType.MESSAGE,y=>{var x;if(!m){const b=y.data[0];ce(!!b,16349);const E=b,C=(E==null?void 0:E.error)||((x=E[0])===null||x===void 0?void 0:x.error);if(C){G(Bt,`RPC '${e}' stream ${s} received error:`,C);const j=C.status;let O=function(P){const k=ut[P];if(k!==void 0)return rA(k)}(j),S=C.message;O===void 0&&(O=z.INTERNAL,S="Unknown error status: "+j+" with message "+C.message),m=!0,_.u_(new te(O,S)),h.close()}else G(Bt,`RPC '${e}' stream ${s} received:`,b),_.c_(b)}}),w(a,rP.STAT_EVENT,y=>{y.stat===rw.PROXY?G(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===rw.NOPROXY&&G(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(){return typeof window<"u"?window:null}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t){return new PB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="PersistentStream";class LA{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new MA(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(en(n.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new te(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return G(BT,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(G(BT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pz extends LA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=DB(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?rn(o.readTime):fe.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=yw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Zp(l)?{documents:dA(i,l)}:{query:hA(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oA(i,o.resumeToken);const u=gw(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=oc(i,o.snapshotVersion.toTimestamp());const u=gw(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=MB(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=yw(this.serializer),n.removeTarget=e,this.L_(n)}}class Az extends LA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=OB(e.writeResults,e.commitTime),r=rn(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=yw(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rm(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{}class Dz extends jz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,vw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(z.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,vw(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(z.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Oz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(en(n),this.oa=!1):G("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class Mz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{ya(this)&&(G(ra,"Restarting streams for network reachability change."),await async function(l){const u=we(l);u.Ta.add(4),await ch(u),u.da.set("Unknown"),u.Ta.delete(4),await Tg(u)}(this))})}),this.da=new Oz(r,s)}}async function Tg(t){if(ya(t))for(const e of t.Ia)await e(!0)}async function ch(t){for(const e of t.Ia)await e(!1)}function VA(t,e){const n=we(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),F_(n)?V_(n):Ec(n).M_()&&L_(n,e))}function M_(t,e){const n=we(t),r=Ec(n);n.Pa.delete(e),r.M_()&&FA(n,e),n.Pa.size===0&&(r.M_()?r.N_():ya(n)&&n.da.set("Unknown"))}function L_(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ec(t).H_(e)}function FA(t,e){t.Aa.Ke(e),Ec(t).J_(e)}function V_(t){t.Aa=new CB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ec(t).start(),t.da._a()}function F_(t){return ya(t)&&!Ec(t).F_()&&t.Pa.size>0}function ya(t){return we(t).Ta.size===0}function $A(t){t.Aa=void 0}async function Lz(t){t.da.set("Online")}async function Vz(t){t.Pa.forEach((e,n)=>{L_(t,e)})}async function Fz(t,e){$A(t),F_(t)?(t.da.ca(e),V_(t)):t.da.set("Unknown")}async function $z(t,e,n){if(t.da.set("Online"),e instanceof iA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){G(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lm(t,r)}else if(e instanceof Xf?t.Aa.Xe(e):e instanceof sA?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(fe.min()))try{const r=await DA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.Pa.get(u);f&&i.Pa.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=i.Pa.get(l);if(!f)return;i.Pa.set(l,f.withResumeToken(ft.EMPTY_BYTE_STRING,f.snapshotVersion)),FA(i,l);const h=new as(f.target,l,u,f.sequenceNumber);L_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(ra,"Failed to raise snapshot:",r),await lm(t,r)}}async function lm(t,e,n){if(!Qi(e))throw e;t.Ta.add(1),await ch(t),t.da.set("Offline"),n||(n=()=>DA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ra,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Tg(t)})}function UA(t,e){return e().catch(n=>lm(t,n,e))}async function uh(t){const e=we(t),n=Ui(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Lo;for(;Uz(e);)try{const s=await bz(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,Bz(e,s)}catch(s){await lm(e,s)}BA(e)&&zA(e)}function Uz(t){return ya(t)&&t.ha.length<10}function Bz(t,e){t.ha.push(e);const n=Ui(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function BA(t){return ya(t)&&!Ui(t).F_()&&t.ha.length>0}function zA(t){Ui(t).start()}async function zz(t){Ui(t).ta()}async function qz(t){const e=Ui(t);for(const n of t.ha)e.Z_(n.mutations)}async function Hz(t,e,n){const r=t.ha.shift(),s=T_.from(r,e,n);await UA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await uh(t)}async function Kz(t,e){e&&Ui(t).Y_&&await async function(r,s){if(function(o){return TB(o)&&o!==z.ABORTED}(s.code)){const i=r.ha.shift();Ui(r).O_(),await UA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await uh(r)}}(t,e),BA(t)&&zA(t)}async function zT(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),G(ra,"RemoteStore received new credentials");const r=ya(n);n.Ta.add(3),await ch(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Tg(n)}async function Wz(t,e){const n=we(t);e?(n.Ta.delete(2),await Tg(n)):e||(n.Ta.add(2),await ch(n),n.da.set("Unknown"))}function Ec(t){return t.Ra||(t.Ra=function(n,r,s){const i=we(n);return i.ra(),new Pz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:Lz.bind(null,t),n_:Vz.bind(null,t),i_:Fz.bind(null,t),j_:$z.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),F_(t)?V_(t):t.da.set("Unknown")):(await t.Ra.stop(),$A(t))})),t.Ra}function Ui(t){return t.Va||(t.Va=function(n,r,s){const i=we(n);return i.ra(),new Az(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:zz.bind(null,t),i_:Kz.bind(null,t),X_:qz.bind(null,t),ea:Hz.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await uh(t)):(await t.Va.stop(),t.ha.length>0&&(G(ra,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new $_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U_(t,e){if(en("AsyncQueue",`${e}: ${t}`),Qi(t))return new te(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=gu(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.ma=new Qe(ne.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ae(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class ac{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ac(e,n,vl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Qz{constructor(){this.queries=HT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=we(n),i=s.queries;s.queries=HT(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new te(z.ABORTED,"Firestore shutting down"))}}function HT(){return new Ns(t=>zP(t),gg)}async function Yz(t,e){const n=we(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new Gz,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=U_(o,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&B_(n)}async function Jz(t,e){const n=we(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xz(t,e){const n=we(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&B_(n)}function Zz(t,e,n){const r=we(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function B_(t){t.ba.forEach(e=>{e.next()})}var Tw,KT;(KT=Tw||(Tw={})).Ca="default",KT.Cache="cache";class eq{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Tw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.key=e}}class HA{constructor(e){this.key=e}}class tq{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ee(),this.mutatedKeys=Ee(),this.Ha=qP(e),this.Ja=new vl(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new qT,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,h)=>{const p=s.get(f),m=ah(this.query,h)?h:null,_=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;p&&m?p.data.isEqual(m.data)?_!==w&&(r.track({type:3,doc:m}),y=!0):this.eu(p,m)||(r.track({type:2,doc:m}),y=!0,(l&&this.Ha(m,l)>0||u&&this.Ha(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),y=!0):p&&!m&&(r.track({type:1,doc:p}),y=!0,(l||u)&&(a=!0)),y&&(m?(o=o.add(m),i=w?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((f,h)=>function(m,_){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Vt:y})}};return w(m)-w(_)}(f.type,h.type)||this.Ha(f.doc,h.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new ac(this.query,e.Ja,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new qT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ee(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new HA(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new qA(r))}),n}su(e){this.Ga=e.$s,this.ja=Ee();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return ac.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const z_="SyncEngine";class nq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rq{constructor(e){this.key=e,this._u=!1}}class sq{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Ns(a=>zP(a),gg),this.cu=new Map,this.lu=new Set,this.hu=new Qe(ne.comparator),this.Pu=new Map,this.Tu=new P_,this.Iu={},this.Eu=new Map,this.du=na.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function iq(t,e,n=!0){const r=JA(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await KA(r,e,n,!0),s}async function oq(t,e){const n=JA(t);await KA(n,e,!0,!1)}async function KA(t,e,n,r){const s=await Ez(t.localStore,Hn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await aq(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&VA(t.remoteStore,s),a}async function aq(t,e,n,r,s){t.Ru=(h,p,m)=>async function(w,y,x,b){let E=y.view.Za(x);E.Cs&&(E=await VT(w.localStore,y.query,!1).then(({documents:S})=>y.view.Za(S,E)));const C=b&&b.targetChanges.get(y.targetId),j=b&&b.targetMismatches.get(y.targetId)!=null,O=y.view.applyChanges(E,w.isPrimaryClient,C,j);return GT(w,y.targetId,O.ru),O.snapshot}(t,h,p,m);const i=await VT(t.localStore,e,!0),o=new tq(e,i.$s),a=o.Za(i.documents),l=lh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);GT(t,n,u.ru);const f=new nq(e,n,o);return t.uu.set(e,f),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function lq(t,e,n){const r=we(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!gg(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ew(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&M_(r.remoteStore,s.targetId),Sw(r,s.targetId)}).catch(va)):(Sw(r,s.targetId),await Ew(r.localStore,s.targetId,!0))}async function cq(t,e){const n=we(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M_(n.remoteStore,r.targetId))}async function uq(t,e,n){const r=XA(t);try{const s=await function(o,a){const l=we(o),u=et.now(),f=a.reduce((m,_)=>m.add(_.key),Ee());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=Cn(),w=Ee();return l.Bs.getEntries(m,f).next(y=>{_=y,_.forEach((x,b)=>{b.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(y=>{h=y;const x=[];for(const b of a){const E=EB(b,h.get(b.key).overlayedDocument);E!=null&&x.push(new ks(b.key,E,DP(E.value.mapValue),tn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,a)}).next(y=>{p=y;const x=y.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,y.batchId,x)})}).then(()=>({batchId:p.batchId,changes:KP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new Qe(ge)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,s.batchId,n),await dh(r,s.changes),await uh(r.remoteStore)}catch(s){const i=U_(s,"Failed to persist write");n.reject(i)}}async function WA(t,e){const n=we(t);try{const r=await xz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?ce(o._u,14607):s.removedDocuments.size>0&&(ce(o._u,42227),o._u=!1))}),await dh(n,r,e)}catch(r){await va(r)}}function WT(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=we(o);l.onlineState=a;let u=!1;l.queries.forEach((f,h)=>{for(const p of h.ya)p.Da(a)&&(u=!0)}),u&&B_(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dq(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Qe(ne.comparator);o=o.insert(i,ot.newNoDocument(i,fe.min()));const a=Ee().add(i),l=new xg(fe.min(),new Map,new Qe(ge),o,a);await WA(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),q_(r)}else await Ew(r.localStore,e,!1).then(()=>Sw(r,e,n)).catch(va)}async function hq(t,e){const n=we(t),r=e.batch.batchId;try{const s=await wz(n.localStore,e);QA(n,r,null),GA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dh(n,s)}catch(s){await va(s)}}async function fq(t,e,n){const r=we(t);try{const s=await function(o,a){const l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ce(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);QA(r,e,n),GA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dh(r,s)}catch(s){await va(s)}}function GA(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function QA(t,e,n){const r=we(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Sw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||YA(t,r)})}function YA(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(M_(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),q_(t))}function GT(t,e,n){for(const r of n)r instanceof qA?(t.Tu.addReference(r.key,e),pq(t,r)):r instanceof HA?(G(z_,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||YA(t,r.key)):ae(19791,{mu:r})}function pq(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(G(z_,"New document in limbo: "+n),t.lu.add(r),q_(t))}function q_(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ne(je.fromString(e)),r=t.du.next();t.Pu.set(r,new rq(n)),t.hu=t.hu.insert(n,r),VA(t.remoteStore,new as(Hn(b_(n.path)),r,"TargetPurposeLimboResolution",Bn.le))}}async function dh(t,e,n){const r=we(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=D_.Rs(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,u){const f=we(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,p=>V.forEach(p.ds,m=>f.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>V.forEach(p.As,m=>f.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Qi(h))throw h;G(O_,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=f.xs.get(p),_=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(_);f.xs=f.xs.insert(p,w)}}}(r.localStore,i))}async function mq(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){G(z_,"User change. New user:",e.toKey());const r=await jA(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new te(z.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dh(n,r.ks)}}function gq(t,e){const n=we(t),r=n.Pu.get(e);if(r&&r._u)return Ee().add(r.key);{let s=Ee();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function JA(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dq.bind(null,e),e.au.j_=Xz.bind(null,e.eventManager),e.au.Vu=Zz.bind(null,e.eventManager),e}function XA(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fq.bind(null,e),e}class Nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ig(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return AA(this.persistence,new PA,e.initialUser,this.serializer)}yu(e){return new A_(Eg.fi,this.serializer)}pu(e){return new OA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nd.provider={build:()=>new Nd};class vq extends Nd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){ce(this.persistence.referenceDelegate instanceof am,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SA(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new A_(r=>am.fi(r,n),this.serializer)}}class yq extends Nd{constructor(e,n,r){super(),this.Du=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await XA(this.Du.syncEngine),await uh(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return AA(this.persistence,new PA,e.initialUser,this.serializer)}Su(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new SA(r,e.asyncQueue,n)}bu(e,n){const r=new b7(n,this.persistence);return new _7(e.asyncQueue,r)}yu(e){const n=mz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new j_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Rz(),ep(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new OA}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mq.bind(null,this.syncEngine),await Wz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qz}()}createDatastore(e){const n=Ig(e.databaseInfo.databaseId),r=function(i){return new kz(i)}(e.databaseInfo);return function(i,o,a,l){return new Dz(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Mz(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>WT(this.syncEngine,n,0),function(){return UT.C()?new UT:new Tz}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,f){const h=new sq(s,i,o,a,l,u);return f&&(h.Au=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=we(s);G(ra,"RemoteStore shutting down."),i.Ta.add(5),await ch(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class xq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pt.UNAUTHENTICATED,this.clientId=cP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Bi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Bi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=U_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function iy(t,e){t.asyncQueue.verifyOperationInProgress(),G(Bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _q(t);G(Bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>zT(e.remoteStore,s)),t._onlineComponents=e}async function _q(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Bi,"Using user provided OfflineComponentProvider");try{await iy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await iy(t,new Nd)}}else G(Bi,"Using default OfflineComponentProvider"),await iy(t,new vq(void 0));return t._offlineComponents}async function ZA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Bi,"Using user provided OnlineComponentProvider"),await QT(t,t._uninitializedComponentsProvider._online)):(G(Bi,"Using default OnlineComponentProvider"),await QT(t,new cm))),t._onlineComponents}function bq(t){return ZA(t).then(e=>e.syncEngine)}async function Eq(t){const e=await ZA(t),n=e.eventManager;return n.onListen=iq.bind(null,e.syncEngine),n.onUnlisten=lq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cq.bind(null,e.syncEngine),n}function Iq(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const f=new wq({next:p=>{f.Cu(),o.enqueueAndForget(()=>Jz(i,h)),p.fromCache&&l.source==="server"?u.reject(new te(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new eq(a,f,{includeMetadataChanges:!0,La:!0});return Yz(i,h)}(await Eq(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tq(t,e,n,r){if(e===!0&&r===!0)throw new te(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JT(t){if(!ne.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XT(t){if(ne.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sg(t);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Sq(t,e){if(e<=0)throw new te(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="firestore.googleapis.com",ZT=!0;class eS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nj,this.ssl=ZT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XB)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ej((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c7;switch(r.type){case"firstParty":return new f7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YT.get(n);r&&(G("ComponentProvider","Removing Datastore"),YT.delete(n),r.terminate())}(this),Promise.resolve()}}function Cq(t,e,n,r={}){var s;t=Ts(t,Cg);const i=rh(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(UR(`https://${l}`),BR("Firestore",!0)),o.host!==nj&&o.host!==l&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Vi(u,a)&&(t._setSettings(u),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Pt.MOCK_USER;else{f=M$(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Pt(p)}t._authCredentials=new u7(new aP(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Ri extends Ji{constructor(e,n,r){super(e,n,b_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ne(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function ru(t,e,...n){if(t=lt(t),tj("collection","path",e),t instanceof Cg){const r=je.fromString(e,...n);return XT(r),new Ri(t,null,r)}{if(!(t instanceof yn||t instanceof Ri))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return XT(r),new Ri(t.firestore,null,r)}}function oy(t,e,...n){if(t=lt(t),arguments.length===1&&(e=cP.newId()),tj("doc","path",e),t instanceof Cg){const r=je.fromString(e,...n);return JT(r),new yn(t,null,new ne(r))}{if(!(t instanceof yn||t instanceof Ri))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return JT(r),new yn(t.firestore,t instanceof Ri?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="AsyncQueue";class nS{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new MA(this,"async_queue_retry"),this.ec=()=>{const r=ep();r&&G(tS,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new fs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Qi(e))throw e;G(tS,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,en("INTERNAL UNHANDLED ERROR: ",rS(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=$_.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&ae(47125,{_c:rS(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function rS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ic extends Cg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new nS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nS(e),this._firestoreClient=void 0,await e}}}function Nq(t,e){const n=typeof t=="object"?t:lg(),r=typeof t=="string"?t:e||Xp,s=ga(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=D$("firestore");i&&Cq(s,...i)}return s}function rj(t){if(t._terminated)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sj(t),t._firestoreClient}function sj(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,f){return new J7(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ej(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new xq(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function kq(t,e){Jo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Rq(t,cm.provider,{build:r=>new yq(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function Rq(t,e,n){if((t=Ts(t,Ic))._firestoreClient||t._terminated)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new te(z.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},sj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lc(ft.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lc(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=/^__.*__$/;class Aq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class ij{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{hc:t})}}class W_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new W_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return um(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(oj(this.hc)&&Pq.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class jq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ig(e)}gc(e,n,r,s=!1){return new W_({hc:e,methodName:n,fc:r,path:Xe.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G_(t){const e=t._freezeSettings(),n=Ig(t._databaseId);return new jq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dq(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);Y_("Data must be an object, but it was:",o,r);const a=aj(r,o);let l,u;if(i.merge)l=new pn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const h of i.mergeFields){const p=Cw(e,h,n);if(!o.contains(p))throw new te(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);cj(f,p)||f.push(p)}l=new pn(f),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new Aq(new Kt(a),l,u)}class Rg extends kg{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rg}}class Q_ extends kg{_toFieldTransform(e){return new ZP(e.path,new rc)}isEqual(e){return e instanceof Q_}}function Oq(t,e,n,r){const s=t.gc(1,e,n);Y_("Data must be an object, but it was:",s,r);const i=[],o=Kt.empty();Yi(r,(l,u)=>{const f=J_(e,l,n);u=lt(u);const h=s.Ac(f);if(u instanceof Rg)i.push(f);else{const p=hh(u,h);p!=null&&(i.push(f),o.set(f,p))}});const a=new pn(i);return new ij(o,a,s.fieldTransforms)}function Mq(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[Cw(e,r,n)],l=[s];if(i.length%2!=0)throw new te(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Cw(e,i[p])),l.push(i[p+1]);const u=[],f=Kt.empty();for(let p=a.length-1;p>=0;--p)if(!cj(u,a[p])){const m=a[p];let _=l[p];_=lt(_);const w=o.Ac(m);if(_ instanceof Rg)u.push(m);else{const y=hh(_,w);y!=null&&(u.push(m),f.set(m,y))}}const h=new pn(u);return new ij(f,h,o.fieldTransforms)}function Lq(t,e,n,r=!1){return hh(n,t.gc(r?4:3,e))}function hh(t,e){if(lj(t=lt(t)))return Y_("Unsupported field value:",e,t),aj(t,e);if(t instanceof kg)return function(r,s){if(!oj(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=hh(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=et.fromDate(r);return{timestampValue:oc(s.serializer,i)}}if(r instanceof et){const i=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(s.serializer,i)}}if(r instanceof H_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lc)return{bytesValue:oA(s.serializer,r._byteString)};if(r instanceof yn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:N_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof K_)return function(o,a){return{mapValue:{fields:{[w_]:{stringValue:x_},[Zl]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return E_(a.serializer,u)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Sg(r)}`)}(t,e)}function aj(t,e){const n={};return TP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,s)=>{const i=hh(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function lj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof H_||t instanceof lc||t instanceof yn||t instanceof kg||t instanceof K_)}function Y_(t,e,n){if(!lj(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Sg(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Cw(t,e,n){if((e=lt(e))instanceof Ng)return e._internalPath;if(typeof e=="string")return J_(t,e);throw um("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vq=new RegExp("[~\\*/\\[\\]]");function J_(t,e,n){if(e.search(Vq)>=0)throw um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ng(...e.split("."))._internalPath}catch{throw um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function um(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new te(z.INVALID_ARGUMENT,a+t+l)}function cj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fq extends uj{data(){return super.data()}}function Pg(t,e){return typeof e=="string"?J_(t,e):e instanceof Ng?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X_{}class Z_ extends X_{}function su(t,e,...n){let r=[];e instanceof X_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof eb).length,a=i.filter(l=>l instanceof Ag).length;if(o>1||o>0&&a>0)throw new te(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ag extends Z_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ag(e,n,r)}_apply(e){const n=this._parse(e);return dj(e._query,n),new Ji(e.firestore,e.converter,mw(e._query,n))}_parse(e){const n=G_(e.firestore);return function(i,o,a,l,u,f,h){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new te(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){iS(h,f);const _=[];for(const w of h)_.push(sS(l,i,w));p={arrayValue:{values:_}}}else p=sS(l,i,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||iS(h,f),p=Lq(a,o,h,f==="in"||f==="not-in");return Ce.create(u,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ay(t,e,n){const r=e,s=Pg("where",t);return Ag._create(s,r,n)}class eb extends X_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)dj(o,l),o=mw(o,l)}(e._query,n),new Ji(e.firestore,e.converter,mw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tb extends Z_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tb(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(i,o)}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new _c(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Uq(t,e="asc"){const n=e,r=Pg("orderBy",t);return tb._create(r,n)}class nb extends Z_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new nb(e,n,r)}_apply(e){return new Ji(e.firestore,e.converter,tm(e._query,this._limit,this._limitType))}}function ly(t){return Sq("limit",t),nb._create("limit",t,"F")}function sS(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new te(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BP(e)&&n.indexOf("/")!==-1)throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!ne.isDocumentKey(r))throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Id(t,new ne(r))}if(n instanceof yn)return Id(t,n._key);throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sg(n)}.`)}function iS(t,e){if(!Array.isArray(t)||t.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dj(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Bq{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Zl].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>We(o.doubleValue));return new K_(i)}convertGeoPoint(e){return new H_(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const n=Es(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);ce(gA(r),9688,{name:e});const s=new Xo(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||en(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qq extends uj{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tp extends qq{data(e={}){return super.data(e)}}class Hq{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _f(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tp(this._firestore,this._userDataWriter,r.key,r,new _f(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new tp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new _f(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new tp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new _f(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:Kq(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}class Wq extends Bq{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function iu(t){t=Ts(t,Ji);const e=Ts(t.firestore,Ic),n=rj(e),r=new Wq(e);return $q(t._query),Iq(n,t._query).then(s=>new Hq(e,r,t,s))}function oS(t,e,n){t=Ts(t,yn);const r=Ts(t.firestore,Ic),s=zq(t.converter,e,n);return rb(r,[Dq(G_(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,tn.none())])}function cy(t,e,n,...r){t=Ts(t,yn);const s=Ts(t.firestore,Ic),i=G_(s);let o;return o=typeof(e=lt(e))=="string"||e instanceof Ng?Mq(i,"updateDoc",t._key,e,n,r):Oq(i,"updateDoc",t._key,e),rb(s,[o.toMutation(t._key,tn.exists(!0))])}function aS(t){return rb(Ts(t.firestore,Ic),[new wg(t._key,tn.none())])}function rb(t,e){return function(r,s){const i=new fs;return r.asyncQueue.enqueueAndForget(async()=>uq(await bq(r),s,i)),i.promise}(rj(t),e)}function Oa(){return new Q_("serverTimestamp")}(function(e,n=!0){(function(s){xc=s})(wc),$r(new gr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ic(new d7(r.getProvider("auth-internal")),new p7(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(u.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),qn(VI,FI,e),qn(VI,FI,"esm2017")})();var Gq="firebase",Qq="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(Gq,Qq,"app");var kr=function(){return kr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kr.apply(this,arguments)};function fh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Yq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function hj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jq=hj,fj=new ma("auth","Firebase",hj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new ag("@firebase/auth");function Xq(t,...e){dm.logLevel<=Se.WARN&&dm.warn(`Auth (${wc}): ${t}`,...e)}function np(t,...e){dm.logLevel<=Se.ERROR&&dm.error(`Auth (${wc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw ib(t,...e)}function hr(t,...e){return ib(t,...e)}function sb(t,e,n){const r=Object.assign(Object.assign({},Jq()),{[e]:n});return new ma("auth","Firebase",r).create(e,{appName:t.name})}function ps(t){return sb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),sb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ib(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fj.create(t,...e)}function me(t,e,...n){if(!t)throw ib(e,...n)}function ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw np(e),new Error(e)}function Ss(t,e){t||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eH(){return lS()==="http:"||lS()==="https:"}function lS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eH()||qR()||"connection"in navigator)?navigator.onLine:!0}function nH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ss(n>e,"Short delay should be less than long delay!"),this.isMobile=F$()||U$()}get(){return tH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e){Ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iH=new ph(3e4,6e4);function Xi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rs(t,e,n,r,s={}){return mj(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=sh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return $$()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&rh(t.emulatorConfig.host)&&(u.credentials="include"),pj.fetch()(await gj(t,t.config.apiHost,n,a),u)})}async function mj(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rH),e);try{const s=new aH(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bf(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sb(t,f,u);Yn(t,f)}}catch(s){if(s instanceof vr)throw s;Yn(t,"network-request-failed",{message:String(s)})}}async function mh(t,e,n,r,s={}){const i=await Rs(t,e,n,r,s);return"mfaPendingCredential"in i&&Yn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function gj(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?ob(t.config,s):`${t.config.apiScheme}://${s}`;return sH.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function oH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),iH.get())})}}function bf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=hr(t,e,r);return s.customData._tokenResponse=n,s}function cS(t){return t!==void 0&&t.enterprise!==void 0}class lH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cH(t,e){return Rs(t,"GET","/v2/recaptchaConfig",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uH(t,e){return Rs(t,"POST","/v1/accounts:delete",e)}async function hm(t,e){return Rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dH(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=ab(r);me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:$u(uy(s.auth_time)),issuedAtTime:$u(uy(s.iat)),expirationTime:$u(uy(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function uy(t){return Number(t)*1e3}function ab(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return np("JWT malformed, contained fewer than 3 sections"),null;try{const s=MR(n);return s?JSON.parse(s):(np("Failed to decode base64 JWT payload"),null)}catch(s){return np("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uS(t){const e=ab(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vr&&hH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await cc(t,hm(n,{idToken:r}));me(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?vj(i.providerUserInfo):[],a=mH(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function pH(t){const e=lt(t);await fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vj(t){return t.map(e=>{var{providerId:n}=e,r=fh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gH(t,e){const n=await mj(t,{},async()=>{const r=sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await gj(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pj.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vH(t,e){return Rs(t,"POST","/v2/accounts:revokeToken",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=uS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await gH(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new yl;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(me(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(me(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=fh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dH(this,e)}reload(){return pH(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await cc(this,uH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:C,isAnonymous:j,providerData:O,stsTokenManager:S}=n;me(E&&S,e,"internal-error");const I=yl.fromJSON(this.name,S);me(typeof E=="string",e,"internal-error"),Ks(h,e.name),Ks(p,e.name),me(typeof C=="boolean",e,"internal-error"),me(typeof j=="boolean",e,"internal-error"),Ks(m,e.name),Ks(_,e.name),Ks(w,e.name),Ks(y,e.name),Ks(x,e.name),Ks(b,e.name);const P=new cr({uid:E,auth:e,email:p,emailVerified:C,displayName:h,isAnonymous:j,photoURL:_,phoneNumber:m,tenantId:w,stsTokenManager:I,createdAt:x,lastLoginAt:b});return O&&Array.isArray(O)&&(P.providerData=O.map(k=>Object.assign({},k))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new yl;s.updateFromServerResponse(n);const i=new cr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vj(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new yl;a.updateFromIdToken(r);const l=new cr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new kw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function cs(t){Ss(t instanceof Function,"Expected a class definition");let e=dS.get(t);return e?(Ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yj.type="NONE";const hS=yj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=rp(this.userKey,s.apiKey,i),this.fullPersistenceKey=rp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hm(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl(cs(hS),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||cs(hS);const o=rp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){let h;if(typeof f=="string"){const p=await hm(e,{idToken:f}).catch(()=>{});if(!p)break;h=await cr._fromGetAccountInfoResponse(e,p,f)}else h=cr._fromJSON(e,f);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new wl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new wl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ij(e))return"Blackberry";if(Tj(e))return"Webos";if(xj(e))return"Safari";if((e.includes("chrome/")||_j(e))&&!e.includes("edge/"))return"Chrome";if(Ej(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wj(t=vt()){return/firefox\//i.test(t)}function xj(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _j(t=vt()){return/crios\//i.test(t)}function bj(t=vt()){return/iemobile/i.test(t)}function Ej(t=vt()){return/android/i.test(t)}function Ij(t=vt()){return/blackberry/i.test(t)}function Tj(t=vt()){return/webos/i.test(t)}function lb(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yH(t=vt()){var e;return lb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wH(){return B$()&&document.documentMode===10}function Sj(t=vt()){return lb(t)||Ej(t)||Tj(t)||Ij(t)||/windows phone/i.test(t)||bj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t,e=[]){let n;switch(t){case"Browser":n=fS(vt());break;case"Worker":n=`${fS(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _H(t,e={}){return Rs(t,"GET","/v2/passwordPolicy",Xi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=6;class EH{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:bH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pS(this),this.idTokenSubscription=new pS(this),this.beforeStateQueue=new xH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hm(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(ps(this));const n=e?lt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _H(this),n=new EH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ma("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Xq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zi(t){return lt(t)}class pS{constructor(e){this.auth=e,this.observer=null,this.addObserver=G$(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TH(t){jg=t}function Nj(t){return jg.loadJS(t)}function SH(){return jg.recaptchaEnterpriseScript}function CH(){return jg.gapiScript}function NH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kH{constructor(){this.enterprise=new RH}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RH{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PH="recaptcha-enterprise",kj="NO_RECAPTCHA";class AH{constructor(e){this.type=PH,this.auth=Zi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{cH(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new lH(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;cS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(kj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kH().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&cS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=SH();l.length!==0&&(l+=a),Nj(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ou(t,e,n,r=!1,s=!1){const i=new AH(t);let o;if(s)o=kj;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Rw(t,e,n,r,s){var i,o;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ou(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ou(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(s==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await ou(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const f=await ou(t,e,n,!1,!0);return r(t,f)}return Promise.reject(l)})}else{const a=await ou(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(s+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t,e){const n=ga(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vi(i,e??{}))return s;Yn(s,"already-initialized")}return n.initialize({options:e})}function DH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OH(t,e,n){const r=Zi(t);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Rj(e),{host:o,port:a}=MH(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(Vi(u,r.config.emulator)&&Vi(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,rh(o)?(UR(`${i}//${o}${l}`),BR("Auth",!0)):s||LH()}function Rj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MH(t){const e=Rj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:mS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:mS(o)}}}function mS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function VH(t,e){return Rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FH(t,e){return mh(t,"POST","/v1/accounts:signInWithPassword",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $H(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}async function UH(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends cb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new kd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rw(e,n,"signInWithPassword",FH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return $H(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rw(e,r,"signUpPassword",VH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return UH(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return mh(t,"POST","/v1/accounts:signInWithIdp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH="http://localhost";class sa extends cb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=fh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new sa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:BH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qH(t){const e=fu(pu(t)).link,n=e?fu(pu(e)).deep_link_id:null,r=fu(pu(t)).deep_link_id;return(r?fu(pu(r)).link:null)||r||n||e||t}class ub{constructor(e){var n,r,s,i,o,a;const l=fu(pu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=zH((s=l.mode)!==null&&s!==void 0?s:null);me(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=qH(e);try{return new ub(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.providerId=Tc.PROVIDER_ID}static credential(e,n){return kd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ub.parseLink(n);return me(r,"argument-error"),kd._fromEmailAndCode(e,r.code,r.tenantId)}}Tc.PROVIDER_ID="password";Tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends gh{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends gh{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends gh{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(t,e){return mh(t,"POST","/v1/accounts:signUp",Xi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cr._fromIdTokenResponse(e,r,s),o=gS(r);return new ia({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=gS(r);return new ia({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function gS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends vr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new pm(e,n,r,s)}}function Pj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?pm._fromErrorAndOperation(t,i,e,r):i})}async function KH(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(ps(r));const s="reauthenticate";try{const i=await cc(t,Pj(r,s,e,t),n);me(i.idToken,r,"internal-error");const o=ab(i.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),ia._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e,n=!1){if(Tn(t.app))return Promise.reject(ps(t));const r="signIn",s=await Pj(t,r,e),i=await ia._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function GH(t,e){return Aj(Zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t){const e=Zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QH(t,e,n){if(Tn(t.app))return Promise.reject(ps(t));const r=Zi(t),o=await Rw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HH,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jj(t),l}),a=await ia._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function YH(t,e,n){return Tn(t.app)?Promise.reject(ps(t)):GH(lt(t),Tc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jj(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JH(t,e){return Rs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=lt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await cc(r,JH(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function XH(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function ZH(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function eK(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function tK(t){return lt(t).signOut()}const mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mm,"1"),this.storage.removeItem(mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=1e3,rK=10;class Oj extends Dj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);wH()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,rK):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Oj.type="LOCAL";const sK=Oj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj extends Dj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mj.type="SESSION";const Lj=Mj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Dg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await iK(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=hb("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function aK(t){Vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function lK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uK(){return Vj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="firebaseLocalStorageDb",dK=1,gm="firebaseLocalStorage",$j="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Og(t,e){return t.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function hK(){const t=indexedDB.deleteDatabase(Fj);return new vh(t).toPromise()}function Pw(){const t=indexedDB.open(Fj,dK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gm,{keyPath:$j})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gm)?e(r):(r.close(),await hK(),e(await Pw()))})})}async function yS(t,e,n){const r=Og(t,!0).put({[$j]:e,value:n});return new vh(r).toPromise()}async function fK(t,e){const n=Og(t,!1).get(e),r=await new vh(n).toPromise();return r===void 0?null:r.value}function wS(t,e){const n=Og(t,!0).delete(e);return new vh(n).toPromise()}const pK=800,mK=3;class Uj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dg._getInstance(uK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lK(),!this.activeServiceWorker)return;this.sender=new oK(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pw();return await yS(e,mm,"1"),await wS(e,mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Og(s,!1).getAll();return new vh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uj.type="LOCAL";const gK=Uj;new ph(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e){return e?cs(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends cb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vK(t){return Aj(t.auth,new fb(t),t.bypassAuthState)}function yK(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),WH(n,new fb(t),t.bypassAuthState)}async function wK(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),KH(n,new fb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vK;case"linkViaPopup":case"linkViaRedirect":return wK;case"reauthViaPopup":case"reauthViaRedirect":return yK;default:Yn(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=new ph(2e3,1e4);async function _K(t,e,n){if(Tn(t.app))return Promise.reject(hr(t,"operation-not-supported-in-this-environment"));const r=Zi(t);Zq(t,e,db);const s=Bj(r,n);return new Io(r,"signInViaPopup",e,s).executeNotNull()}class Io extends zj{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=hb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xK.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK="pendingRedirect",sp=new Map;class EK extends zj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sp.get(this.auth._key());if(!e){try{const r=await IK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sp.set(this.auth._key(),e)}return this.bypassAuthState||sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IK(t,e){const n=CK(e),r=SK(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function TK(t,e){sp.set(t._key(),e)}function SK(t){return cs(t._redirectPersistence)}function CK(t){return rp(bK,t.config.apiKey,t.name)}async function NK(t,e,n=!1){if(Tn(t.app))return Promise.reject(ps(t));const r=Zi(t),s=Bj(r,e),o=await new EK(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=10*60*1e3;class RK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qj(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kK&&this.cachedEventUids.clear(),this.cachedEventUids.has(xS(e))}saveEventToCache(e){this.cachedEventUids.add(xS(e)),this.lastProcessedEventTime=Date.now()}}function xS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AK(t,e={}){return Rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DK=/^https?/;async function OK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AK(t);for(const n of e)try{if(MK(n))return}catch{}Yn(t,"unauthorized-domain")}function MK(t){const e=Nw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DK.test(n))return!1;if(jK.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=new ph(3e4,6e4);function _S(){const t=Vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VK(t){return new Promise((e,n)=>{var r,s,i;function o(){_S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_S(),n(hr(t,"network-request-failed"))},timeout:LK.get()})}if(!((s=(r=Vr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vr().gapi)===null||i===void 0)&&i.load)o();else{const a=NH("iframefcb");return Vr()[a]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},Nj(`${CH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ip=null,e})}let ip=null;function FK(t){return ip=ip||VK(t),ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=new ph(5e3,15e3),UK="__/auth/iframe",BK="emulator/auth/iframe",zK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HK(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ob(e,BK):`https://${t.config.authDomain}/${UK}`,r={apiKey:e.apiKey,appName:t.name,v:wc},s=qK.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${sh(r).slice(1)}`}async function KK(t){const e=await FK(t),n=Vr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:HK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zK,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=Vr().setTimeout(()=>{i(o)},$K.get());function l(){Vr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GK=500,QK=600,YK="_blank",JK="http://localhost";class bS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XK(t,e,n,r=GK,s=QK){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},WK),{width:r.toString(),height:s.toString(),top:i,left:o}),u=vt().toLowerCase();n&&(a=_j(u)?YK:n),wj(u)&&(e=e||JK,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[m,_])=>`${p}${m}=${_},`,"");if(yH(u)&&a!=="_self")return ZK(e||"",a),new bS(null);const h=window.open(e||"",a,f);me(h,t,"popup-blocked");try{h.focus()}catch{}return new bS(h)}function ZK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="__/auth/handler",tW="emulator/auth/handler",nW=encodeURIComponent("fac");async function ES(t,e,n,r,s,i){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wc,eventId:s};if(e instanceof db){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",W$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries(i||{}))o[f]=h}if(e instanceof gh){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${nW}=${encodeURIComponent(l)}`:"";return`${rW(t)}?${sh(a).slice(1)}${u}`}function rW({config:t}){return t.emulator?ob(t,tW):`https://${t.authDomain}/${eW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="webStorageSupport";class sW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lj,this._completeRedirectFn=NK,this._overrideRedirectResult=TK}async _openPopup(e,n,r,s){var i;Ss((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ES(e,n,r,Nw(),s);return XK(e,o,hb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ES(e,n,r,Nw(),s);return aK(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KK(e),r=new RK(e);return n.register("authEvent",s=>(me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dy,{type:dy},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[dy];o!==void 0&&n(!!o),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sj()||xj()||lb()}}const iW=sW;var IS="@firebase/auth",TS="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lW(t){$r(new gr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cj(t)},u=new IH(r,s,i,l);return DH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$r(new gr("auth-internal",e=>{const n=Zi(e.getProvider("auth").getImmediate());return(r=>new oW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(IS,TS,aW(t)),qn(IS,TS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=5*60,uW=$R("authIdTokenMaxAge")||cW;let SS=null;const dW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uW)return;const s=n==null?void 0:n.token;SS!==s&&(SS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function hW(t=lg()){const e=ga(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jH(t,{popupRedirectResolver:iW,persistence:[gK,sK,Lj]}),r=$R("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=dW(i.toString());ZH(n,o,()=>o(n.currentUser)),XH(n,a=>o(a))}}const s=VR("auth");return s&&OH(n,`http://${s}`),n}function fW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=hr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",fW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lW("Browser");const Hj="@firebase/installations",pb="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=1e4,Wj=`w:${pb}`,Gj="FIS_v2",pW="https://firebaseinstallations.googleapis.com/v1",mW=60*60*1e3,gW="installations",vW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new ma(gW,vW,yW);function Qj(t){return t instanceof vr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj({projectId:t}){return`${pW}/projects/${t}/installations`}function Jj(t){return{token:t.token,requestStatus:2,expiresIn:xW(t.expiresIn),creationTime:Date.now()}}async function Xj(t,e){const r=(await e.json()).error;return oa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Zj({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wW(t,{refreshToken:e}){const n=Zj(t);return n.append("Authorization",_W(e)),n}async function eD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xW(t){return Number(t.replace("s","000"))}function _W(t){return`${Gj} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Yj(t),s=Zj(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:Gj,appId:t.appId,sdkVersion:Wj},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await eD(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Jj(u.authToken)}}else throw await Xj("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=/^[cdef][\w-]{21}$/,Aw="";function TW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=SW(t);return IW.test(n)?n:Aw}catch{return Aw}}function SW(t){return EW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Map;function rD(t,e){const n=Mg(t);sD(n,e),CW(n,e)}function sD(t,e){const n=nD.get(t);if(n)for(const r of n)r(e)}function CW(t,e){const n=NW();n&&n.postMessage({key:t,fid:e}),kW()}let To=null;function NW(){return!To&&"BroadcastChannel"in self&&(To=new BroadcastChannel("[Firebase] FID Change"),To.onmessage=t=>{sD(t.data.key,t.data.fid)}),To}function kW(){nD.size===0&&To&&(To.close(),To=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW="firebase-installations-database",PW=1,aa="firebase-installations-store";let hy=null;function mb(){return hy||(hy=YR(RW,PW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(aa)}}})),hy}async function vm(t,e){const n=Mg(t),s=(await mb()).transaction(aa,"readwrite"),i=s.objectStore(aa),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&rD(t,e.fid),e}async function iD(t){const e=Mg(t),r=(await mb()).transaction(aa,"readwrite");await r.objectStore(aa).delete(e),await r.done}async function Lg(t,e){const n=Mg(t),s=(await mb()).transaction(aa,"readwrite"),i=s.objectStore(aa),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&rD(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t){let e;const n=await Lg(t.appConfig,r=>{const s=AW(r),i=jW(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Aw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function AW(t){const e=t||{fid:TW(),registrationStatus:0};return oD(e)}function jW(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DW(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:OW(t)}:{installationEntry:e}}async function DW(t,e){try{const n=await bW(t,e);return vm(t.appConfig,n)}catch(n){throw Qj(n)&&n.customData.serverCode===409?await iD(t.appConfig):await vm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function OW(t){let e=await CS(t.appConfig);for(;e.registrationStatus===1;)await tD(100),e=await CS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await gb(t);return r||n}return e}function CS(t){return Lg(t,e=>{if(!e)throw oa.create("installation-not-found");return oD(e)})}function oD(t){return MW(t)?{fid:t.fid,registrationStatus:0}:t}function MW(t){return t.registrationStatus===1&&t.registrationTime+Kj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LW({appConfig:t,heartbeatServiceProvider:e},n){const r=VW(t,n),s=wW(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:Wj,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await eD(()=>fetch(r,a));if(l.ok){const u=await l.json();return Jj(u)}else throw await Xj("Generate Auth Token",l)}function VW(t,{fid:e}){return`${Yj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t,e=!1){let n;const r=await Lg(t.appConfig,i=>{if(!aD(i))throw oa.create("not-registered");const o=i.authToken;if(!e&&UW(o))return i;if(o.requestStatus===1)return n=FW(t,e),i;{if(!navigator.onLine)throw oa.create("app-offline");const a=zW(i);return n=$W(t,a),a}});return n?await n:r.authToken}async function FW(t,e){let n=await NS(t.appConfig);for(;n.authToken.requestStatus===1;)await tD(100),n=await NS(t.appConfig);const r=n.authToken;return r.requestStatus===0?vb(t,e):r}function NS(t){return Lg(t,e=>{if(!aD(e))throw oa.create("not-registered");const n=e.authToken;return qW(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function $W(t,e){try{const n=await LW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await vm(t.appConfig,r),n}catch(n){if(Qj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iD(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vm(t.appConfig,r)}throw n}}function aD(t){return t!==void 0&&t.registrationStatus===2}function UW(t){return t.requestStatus===2&&!BW(t)}function BW(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mW}function zW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function qW(t){return t.requestStatus===1&&t.requestTime+Kj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t){const e=t,{installationEntry:n,registrationPromise:r}=await gb(e);return r?r.catch(console.error):vb(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(t,e=!1){const n=t;return await WW(n),(await vb(n,e)).token}async function WW(t){const{registrationPromise:e}=await gb(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(t){if(!t||!t.options)throw fy("App Configuration");if(!t.name)throw fy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fy(t){return oa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="installations",QW="installations-internal",YW=t=>{const e=t.getProvider("app").getImmediate(),n=GW(e),r=ga(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},JW=t=>{const e=t.getProvider("app").getImmediate(),n=ga(e,lD).getImmediate();return{getId:()=>HW(n),getToken:s=>KW(n,s)}};function XW(){$r(new gr(lD,YW,"PUBLIC")),$r(new gr(QW,JW,"PRIVATE"))}XW();qn(Hj,pb);qn(Hj,pb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="analytics",ZW="firebase_id",eG="origin",tG=60*1e3,nG="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new ag("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new ma("analytics","Analytics",rG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t){if(!t.startsWith(yb)){const e=Rn.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function cD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iG(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oG(t,e){const n=iG("firebase-js-sdk-policy",{createScriptURL:sG}),r=document.createElement("script"),s=`${yb}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function aG(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lG(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await cD(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){wn.error(a)}t("config",s,i)}async function cG(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await cD(n);for(const l of o){const u=a.find(h=>h.measurementId===l),f=u&&e[u.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){wn.error(i)}}function uG(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await cG(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await lG(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){wn.error(a)}}return s}function dG(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=uG(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function hG(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yb)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=30,pG=1e3;class mG{constructor(e={},n=pG){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uD=new mG;function gG(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function vG(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:gG(r)},i=nG.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function yG(t,e=uD,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Rn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _G;return setTimeout(async()=>{a.abort()},n!==void 0?n:tG),dD({appId:r,apiKey:s,measurementId:i},o,a,e)}async function dD(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=uD){var i;const{appId:o,measurementId:a}=t;try{await wG(r,e)}catch(l){if(a)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await vG(t);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!xG(u)){if(s.deleteThrottleMetadata(o),a)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const f=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?NI(n,s.intervalMillis,fG):NI(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,h),wn.debug(`Calling attemptFetch again in ${f} millis`),dD(t,h,r,s)}}function wG(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xG(t){if(!(t instanceof vr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _G{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bG(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(){if(c_())try{await WR()}catch(t){return wn.warn(Rn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IG(t,e,n,r,s,i,o){var a;const l=yG(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>wn.error(m)),e.push(l);const u=EG().then(m=>{if(m)return r.getId()}),[f,h]=await Promise.all([l,u]);hG(i)||oG(i,f.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[eG]="firebase",p.update=!0,h!=null&&(p[ZW]=h),s("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e){this.app=e}_delete(){return delete Uu[this.app.options.appId],Promise.resolve()}}let Uu={},kS=[];const RS={};let py="dataLayer",SG="gtag",PS,hD,AS=!1;function CG(){const t=[];if(qR()&&t.push("This is a browser extension environment."),z$()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function NG(t,e,n){CG();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(Uu[r]!=null)throw Rn.create("already-exists",{id:r});if(!AS){aG(py);const{wrappedGtag:i,gtagCore:o}=dG(Uu,kS,RS,py,SG);hD=i,PS=o,AS=!0}return Uu[r]=IG(t,kS,RS,e,PS,py,n),new TG(t)}function fD(t=lg()){t=lt(t);const e=ga(t,ym);return e.isInitialized()?e.getImmediate():kG(t)}function kG(t,e={}){const n=ga(t,ym);if(n.isInitialized()){const s=n.getImmediate();if(Vi(e,n.getOptions()))return s;throw Rn.create("already-initialized")}return n.initialize({options:e})}function pD(t,e,n,r){t=lt(t),bG(hD,Uu[t.app.options.appId],e,n,r).catch(s=>wn.error(s))}const jS="@firebase/analytics",DS="0.10.16";function RG(){$r(new gr(ym,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return NG(r,s,n)},"PUBLIC")),$r(new gr("analytics-internal",t,"PRIVATE")),qn(jS,DS),qn(jS,DS,"esm2017");function t(e){try{const n=e.getProvider(ym).getImmediate();return{logEvent:(r,s,i)=>pD(n,r,s,i)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}RG();const PG={apiKey:"AIzaSyBdXqIXmmNqKQWgXvm87tbVTlrFYFa10YQ",authDomain:"nekosshop-d688c.firebaseapp.com",projectId:"nekosshop-d688c",storageBucket:"nekosshop-d688c.firebasestorage.app",messagingSenderId:"601866612932",appId:"1:601866612932:web:d72d2dabd76c4fbb9ed991",measurementId:"G-9XB0HV436J"},wb=XU().length?lg():JR(PG),Ka=hW(wb),OS=new Rr,es=Nq(wb);typeof window<"u"&&kq(es).catch(t=>{t.code==="failed-precondition"?console.warn("Offline persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support all of the features required to enable offline persistence.")});typeof window<"u"&&fD(wb);const AG="recently_viewed_products",jG=12,Wa=()=>{var t;return((t=Ka.currentUser)==null?void 0:t.uid)||"guest"},Xr=()=>`${AG}_${Wa()}`,_l={async addProduct(t,e=!1){const n=Wa();if(n==="guest"){const r=Xr(),s=JSON.parse(localStorage.getItem(r)||"[]"),i=s.findIndex(o=>o.productId===t);if(i>=0)s[i]={...s[i],timestamp:Date.now(),viewCount:(s[i].viewCount||0)+1,isFavorite:e||s[i].isFavorite};else{s.unshift({productId:t,userId:n,timestamp:Date.now(),viewCount:1,isFavorite:e});const o=s.sort((a,l)=>l.timestamp-a.timestamp).slice(0,jG);localStorage.setItem(r,JSON.stringify(o));return}}try{const r=oy(es,"recentlyViewed",n,"products",t.toString()),s=Oa(),i=await iu(su(ru(es,"recentlyViewed",n,"products"),ay("productId","==",t),ly(1)));if(i.empty)await oS(r,{productId:t,userId:n,timestamp:s,viewCount:1,isFavorite:e||!1,createdAt:s,updatedAt:s});else{const o=i.docs[0];await cy(oy(es,"recentlyViewed",n,"products",o.id),{timestamp:s,viewCount:(o.data().viewCount||0)+1,isFavorite:e||o.data().isFavorite||!1})}if(typeof window<"u")try{pD(fD(),"view_item",{items:[{item_id:t.toString(),item_name:`Product ${t}`,item_category:"product"}]})}catch(o){console.warn("Analytics error:",o)}}catch(r){if(console.error("Error adding to recently viewed:",r),r.code==="permission-denied"){console.warn("Permission denied. Falling back to localStorage.");const s=Xr(),i=JSON.parse(localStorage.getItem(s)||"[]");i.unshift({productId:t,userId:n,timestamp:Date.now(),viewCount:1,isFavorite:e||!1}),localStorage.setItem(s,JSON.stringify(i))}throw r}},async getAll(){const t=Wa();if(t==="guest"){if(typeof window>"u")return[];try{const e=Xr();return JSON.parse(localStorage.getItem(e)||"[]").filter(r=>r&&r.productId!==void 0&&r.timestamp!==void 0).map(r=>({...r,isFavorite:r.isFavorite||!1,viewCount:r.viewCount||1,userId:r.userId||"guest"})).sort((r,s)=>(s.timestamp||0)-(r.timestamp||0))}catch(e){return console.error("Error loading recently viewed products:",e),[]}}else try{const e=su(ru(es,"recentlyViewed",t,"products"),Uq("timestamp","desc"));return(await iu(e)).docs.map(s=>{var a,l,u;const i=s.data(),o=((u=(l=(a=i.timestamp)==null?void 0:a.toDate)==null?void 0:l.call(a))==null?void 0:u.getTime())||(typeof i.timestamp=="number"?i.timestamp:Date.now());return{id:s.id,...i,productId:i.productId||parseInt(s.id,10)||0,isFavorite:i.isFavorite||!1,viewCount:i.viewCount||1,timestamp:o,userId:i.userId||t}}).filter(s=>s.productId>0)}catch(e){if(console.error("Error fetching recently viewed products:",e),e.code==="permission-denied"){console.warn("Permission denied. Falling back to localStorage.");const n=Xr();return JSON.parse(localStorage.getItem(n)||"[]").filter(s=>s&&s.productId!==void 0).map(s=>({...s,isFavorite:s.isFavorite||!1,viewCount:s.viewCount||1,userId:s.userId||t}))}return[]}},async getRecent(t=4){try{return(await this.getAll()).filter(r=>r&&r.productId!==void 0&&r.timestamp!==void 0).sort((r,s)=>(s.timestamp||0)-(r.timestamp||0)).slice(0,t).map(r=>({...r,isFavorite:r.isFavorite||!1,viewCount:r.viewCount||1}))}catch(e){return console.error("Error getting recent items:",e),[]}},async clear(){const t=Wa();if(t==="guest")localStorage.removeItem(Xr());else try{const e=su(ru(es,"recentlyViewed",t,"products")),n=await iu(e),r=[];n.forEach(s=>{r.push(aS(s.ref))}),await Promise.all(r)}catch(e){console.error("Error clearing recently viewed:",e),localStorage.removeItem(Xr())}},async removeProduct(t){const e=Wa();if(e==="guest"){const r=(await this.getAll()).filter(s=>s.productId!==t);localStorage.setItem(Xr(),JSON.stringify(r))}else try{const n=su(ru(es,"recentlyViewed",e,"products"),ay("productId","==",t),ly(1)),r=await iu(n);r.empty||await aS(r.docs[0].ref)}catch(n){console.error("Error removing product from recently viewed:",n);const s=(await this.getAll()).filter(i=>i.productId!==t);localStorage.setItem(Xr(),JSON.stringify(s))}},async updateFavoriteStatus(t,e){const n=Wa();if(n==="guest"){const r=Xr(),s=JSON.parse(localStorage.getItem(r)||"[]"),i=s.findIndex(o=>o.productId===t);i>=0&&(s[i].isFavorite=e,localStorage.setItem(r,JSON.stringify(s)));return}try{const r=oy(es,"recentlyViewed",n,"products",t.toString());try{await cy(r,{isFavorite:e,updatedAt:Oa()});return}catch(s){if(s.code==="not-found"){console.log("Document not found, trying query...");const i=su(ru(es,"recentlyViewed",n,"products"),ay("productId","==",t),ly(1)),o=await iu(i);if(o.empty)await oS(r,{productId:t,userId:n,timestamp:Oa(),viewCount:1,isFavorite:e,createdAt:Oa(),updatedAt:Oa()});else{const a=o.docs[0];await cy(a.ref,{isFavorite:e,updatedAt:Oa()})}}else throw s}}catch(r){throw console.error("Error updating favorite status:",r),r}}},mD=g.createContext(void 0),DG=({children:t})=>{const[e,n]=g.useState([]);ha(),$e(),g.useEffect(()=>{const a=ao.getFavorites();n(a)},[]);const r=a=>{ao.addToFavorites(a),n(ao.getFavorites()),_l.updateFavoriteStatus(a,!0)},s=a=>{ao.removeFromFavorites(a),n(ao.getFavorites()),_l.updateFavoriteStatus(a,!1)},i=a=>ao.isInFavorites(a),o=()=>{ao.clearFavorites(),n([])};return c.jsx(mD.Provider,{value:{favorites:e,addToFavorites:r,removeFromFavorites:s,isInFavorites:i,clearFavorites:o},children:t})},Vg=()=>{const t=g.useContext(mD);if(t===void 0)throw new Error("useFavorites must be used within a FavoritesProvider");return t},gD=g.createContext(void 0),la=()=>{const t=g.useContext(gD);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},OG=({children:t})=>{const[e,n]=g.useState(!1),[r,s]=g.useState(null),[i,o]=g.useState(!0),{toast:a}=ha(),{t:l}=$e(),u=g.useCallback(y=>{var b,E;if(!y)return null;let x=y.photoURL;if(y.providerData&&y.providerData.length>0){const C=(b=y.providerData[0])==null?void 0:b.photoURL;C&&(x=C.includes("=s96-c")?C.replace("=s96-c","=s400-c"):C)}return console.log("Mapped user with photoURL:",{uid:y.uid,photoURL:x,providerData:(E=y.providerData)==null?void 0:E.map(C=>({providerId:C.providerId,photoURL:C.photoURL}))}),{uid:y.uid,displayName:y.displayName,email:y.email,photoURL:x,emailVerified:y.emailVerified,phoneNumber:y.phoneNumber,providerData:Array.from(y.providerData||[]),purchasedProducts:[]}},[]);g.useEffect(()=>{const y=eK(Ka,async x=>{if(x){const b=u(x);s(b),n(!0),localStorage.setItem("user",JSON.stringify(b))}else s(null),n(!1),localStorage.removeItem("user");o(!1)});return()=>y()},[u]),g.useEffect(()=>{r?localStorage.setItem("user",JSON.stringify(r)):localStorage.removeItem("user")},[r]);const w={isLoggedIn:e,user:r,loading:i,login:async(y,x)=>{try{const b=await YH(Ka,y,x);a({title:l("auth.login_success"),description:l("auth.welcome",{name:b.user.displayName||b.user.email||""})})}catch(b){throw console.error("Login error:",b),a({title:l("auth.error"),description:b.message||l("auth.login_failed"),variant:"destructive"}),b}},signUp:async(y,x,b)=>{try{const E=await QH(Ka,y,x);await vS(E.user,{displayName:b}),a({title:l("auth.signup_success"),description:l("auth.welcome",{name:b})})}catch(E){throw console.error("Signup error:",E),a({title:l("auth.error"),description:E.message||l("auth.signup_failed"),variant:"destructive"}),E}},logout:async()=>{try{await tK(Ka),s(null),n(!1),a({title:l("auth.goodbye"),description:l("auth.logout_success")})}catch(y){throw console.error("Logout error:",y),a({title:l("auth.error"),description:"Failed to sign out",variant:"destructive"}),y}},signInWithGoogle:async()=>{var y;try{OS.setCustomParameters({prompt:"select_account"});const x=await _K(Ka,OS),b=Rr.credentialFromResult(x);if(b){const E=b.accessToken,C=x.user;if(C.providerData&&((y=C.providerData[0])!=null&&y.photoURL)){let j=C.providerData[0].photoURL;j.endsWith("=s96-c")&&(j=j.replace("=s96-c","=s400-c")),C.photoURL!==j&&await vS(C,{photoURL:j})}a({title:l("auth.login_success"),description:l("auth.welcome",{name:C.displayName||C.email||""})})}}catch(x){throw console.error("Google signin error:",x),a({title:l("auth.error"),description:x.message||l("auth.google_signin_failed"),variant:"destructive"}),x}},hasUserPurchasedProduct:y=>r?r.purchasedProducts.includes(y):!1};return c.jsx(gD.Provider,{value:w,children:!i&&t})},MG=()=>{const[t,e]=g.useState(!0),[n,r]=g.useState(0);return g.useEffect(()=>{const s=setInterval(()=>{r(o=>o>=100?(clearInterval(s),100):o+Math.floor(Math.random()*10)+5)},100),i=setTimeout(()=>{e(!1),document.body.style.overflow="auto"},3e3);return document.body.style.overflow="hidden",()=>{clearInterval(s),clearTimeout(i),document.body.style.overflow="auto"}},[]),t?c.jsxs("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[c.jsx("div",{className:"relative w-64 h-64 mb-8 flex items-center justify-center",children:c.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[c.jsx("img",{src:"/lovable-uploads/nekos-logo.jpeg",alt:"NEKOS SHOP Logo",className:"w-3/4 h-3/4 object-contain rounded-full border-2 border-crimson/30 p-2"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-crimson/70 border-r-crimson/70 animate-spin-slow"}),c.jsx("div",{className:"absolute inset-4 rounded-full border-4 border-transparent border-b-crimson/50 border-l-crimson/50 animate-spin-slow-reverse"}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-crimson/5 animate-pulse"})]})}),c.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 font-medieval tracking-wider text-center",children:[c.jsx("span",{className:"text-crimson",children:"NEKOS"}),c.jsx("span",{className:"text-white",children:"SHOP"})]}),c.jsx("div",{className:"w-72 h-1.5 bg-gray-800/70 rounded-full overflow-hidden mt-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-crimson to-pink-500 transition-all duration-300 ease-out",style:{width:`${n}%`}})}),c.jsxs("p",{className:"text-gray-400 mt-4 text-sm font-mono tracking-wider",children:["LOADING ",n,"%"]})]}):null},LG=Zd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?T3:"button";return c.jsx(o,{className:oe(LG({variant:e,size:n,className:t})),ref:i,...s})});pe.displayName="Button";const VG=Zd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function MS({className:t,variant:e,...n}){return c.jsx("div",{className:oe(VG({variant:e}),t),...n})}const FG=({item:t})=>{const{removeFromCart:e,updateQuantity:n}=Gi(),{t:r,language:s}=$e(),i=()=>{t.quantity<t.product.stock&&n(t.product.id,t.quantity+1)},o=()=>{t.quantity>1?n(t.product.id,t.quantity-1):e(t.product.id)},a=()=>{e(t.product.id)},l=t.quantity>=t.product.stock;return c.jsxs("div",{className:"group relative flex gap-4 p-3 rounded-lg bg-gradient-to-br from-gray-900/80 to-black/90 border border-gray-800 hover:border-crimson/30 transition-all duration-300 hover:shadow-lg hover:shadow-crimson/10",children:[c.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 rounded-lg overflow-hidden bg-gray-900",children:[c.jsx(De,{to:`/product/${t.product.id}`,className:"block w-full h-full",children:t.product.images&&t.product.images.length>0?c.jsx("img",{src:t.product.images[0],alt:t.product.name[s],className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:u=>{const f=u.target;f.src="/placeholder-product.jpg"}}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:c.jsx("span",{className:"text-xs text-gray-400",children:"No image"})})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),c.jsxs("div",{className:"flex flex-col flex-grow pr-2",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx(De,{to:`/product/${t.product.id}`,className:"font-medium text-sm text-gray-100 hover:text-crimson transition-colors line-clamp-2",children:t.product.name[s]||t.product.name.ru||"Product"}),c.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400 hover:text-white hover:bg-crimson/10 transition-colors",onClick:u=>{u.preventDefault(),a()},"aria-label":r("cart.remove"),children:c.jsx(MV,{className:"h-3.5 w-3.5"})})]}),c.jsxs("span",{className:"text-crimson-300 font-medium text-sm mb-2",children:[t.product.price," ₾"]}),c.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[c.jsxs("div",{className:"flex items-center bg-black/40 rounded-full border border-gray-800 p-0.5",children:[c.jsx(pe,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full p-0 text-gray-300 hover:bg-crimson/20 hover:text-white transition-colors",onClick:o,"aria-label":r("cart.decrease_quantity"),children:c.jsx(PV,{className:"h-3 w-3"})}),c.jsx("span",{className:"w-8 text-center text-white font-medium",children:t.quantity}),c.jsx(pe,{variant:"ghost",size:"icon",className:`h-7 w-7 rounded-full p-0 transition-colors ${l?"text-gray-600 cursor-not-allowed":"text-gray-300 hover:bg-crimson/20 hover:text-white"}`,onClick:i,disabled:l,"aria-label":r("cart.increase_quantity"),children:c.jsx(AV,{className:"h-3 w-3"})})]}),c.jsx("div",{className:"flex items-center",children:l&&c.jsx("span",{className:"text-xs bg-amber-900/30 text-amber-400 px-2 py-1 rounded-full",children:r("product.remaining_stock",{count:t.product.stock})})})]})]})]})};var my="focusScope.autoFocusOnMount",gy="focusScope.autoFocusOnUnmount",LS={bubbles:!1,cancelable:!0},$G="FocusScope",xb=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=xn(s),f=xn(i),h=g.useRef(null),p=Ve(e,w=>l(w)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(E){if(m.paused||!a)return;const C=E.target;a.contains(C)?h.current=C:Gs(h.current,{select:!0})},y=function(E){if(m.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||Gs(h.current,{select:!0}))},x=function(E){if(document.activeElement===document.body)for(const j of E)j.removedNodes.length>0&&Gs(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",y);const b=new MutationObserver(x);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",y),b.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){FS.add(m);const w=document.activeElement;if(!a.contains(w)){const x=new CustomEvent(my,LS);a.addEventListener(my,u),a.dispatchEvent(x),x.defaultPrevented||(UG(KG(vD(a)),{select:!0}),document.activeElement===w&&Gs(a))}return()=>{a.removeEventListener(my,u),setTimeout(()=>{const x=new CustomEvent(gy,LS);a.addEventListener(gy,f),a.dispatchEvent(x),x.defaultPrevented||Gs(w??document.body,{select:!0}),a.removeEventListener(gy,f),FS.remove(m)},0)}}},[a,u,f,m]);const _=g.useCallback(w=>{if(!n&&!r||m.paused)return;const y=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(y&&x){const b=w.currentTarget,[E,C]=BG(b);E&&C?!w.shiftKey&&x===C?(w.preventDefault(),n&&Gs(E,{select:!0})):w.shiftKey&&x===E&&(w.preventDefault(),n&&Gs(C,{select:!0})):x===b&&w.preventDefault()}},[n,r,m.paused]);return c.jsx(ve.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});xb.displayName=$G;function UG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Gs(r,{select:e}),document.activeElement!==n)return}function BG(t){const e=vD(t),n=VS(e,t),r=VS(e.reverse(),t);return[n,r]}function vD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VS(t,e){for(const n of t)if(!zG(n,{upTo:e}))return n}function zG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qG(t){return t instanceof HTMLInputElement&&"select"in t}function Gs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&qG(t)&&e&&t.select()}}var FS=HG();function HG(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$S(t,e),t.unshift(e)},remove(e){var n;t=$S(t,e),(n=t[0])==null||n.resume()}}}function $S(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function KG(t){return t.filter(e=>e.tagName!=="A")}var vy=0;function yD(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??US()),document.body.insertAdjacentElement("beforeend",t[1]??US()),vy++,()=>{vy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vy--}},[])}function US(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var op="right-scroll-bar-position",ap="width-before-scroll-bar",WG="with-scroll-bars-hidden",GG="--removed-body-scroll-bar-size";function yy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function QG(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var YG=typeof window<"u"?g.useLayoutEffect:g.useEffect,BS=new WeakMap;function JG(t,e){var n=QG(e||null,function(r){return t.forEach(function(s){return yy(s,r)})});return YG(function(){var r=BS.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||yy(a,null)}),i.forEach(function(a){s.has(a)||yy(a,o)})}BS.set(n,t)},[t]),n}function XG(t){return t}function ZG(t,e){e===void 0&&(e=XG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return s}function eQ(t){t===void 0&&(t={});var e=ZG(null);return e.options=kr({async:!0,ssr:!1},t),e}var wD=function(t){var e=t.sideCar,n=fh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,kr({},n))};wD.isSideCarExport=!0;function tQ(t,e){return t.useMedium(e),wD}var xD=eQ(),wy=function(){},Fg=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:wy,onWheelCapture:wy,onTouchMoveCapture:wy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,m=t.noRelative,_=t.noIsolation,w=t.inert,y=t.allowPinchZoom,x=t.as,b=x===void 0?"div":x,E=t.gapMode,C=fh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,O=JG([n,e]),S=kr(kr({},C),s);return g.createElement(g.Fragment,null,f&&g.createElement(j,{sideCar:xD,removeScrollBar:u,shards:h,noRelative:m,noIsolation:_,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:E}),o?g.cloneElement(g.Children.only(a),kr(kr({},S),{ref:O})):g.createElement(b,kr({},S,{className:l,ref:O}),a))});Fg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fg.classNames={fullWidth:ap,zeroRight:op};var zS,nQ=function(){if(zS)return zS;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nQ();return e&&t.setAttribute("nonce",e),t}function sQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function iQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var oQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rQ())&&(sQ(e,n),iQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aQ=function(){var t=oQ();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_D=function(){var t=aQ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},lQ={left:0,top:0,right:0,gap:0},xy=function(t){return parseInt(t||"",10)||0},cQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[xy(n),xy(r),xy(s)]},uQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lQ;var e=cQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},dQ=_D(),bl="data-scroll-locked",hQ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(WG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(op,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ap,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(op," .").concat(op,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ap," .").concat(ap,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bl,`] {
    `).concat(GG,": ").concat(a,`px;
  }
`)},qS=function(){var t=parseInt(document.body.getAttribute(bl)||"0",10);return isFinite(t)?t:0},fQ=function(){g.useEffect(function(){return document.body.setAttribute(bl,(qS()+1).toString()),function(){var t=qS()-1;t<=0?document.body.removeAttribute(bl):document.body.setAttribute(bl,t.toString())}},[])},pQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;fQ();var i=g.useMemo(function(){return uQ(s)},[s]);return g.createElement(dQ,{styles:hQ(i,!e,s,n?"":"!important")})},jw=!1;if(typeof window<"u")try{var Ef=Object.defineProperty({},"passive",{get:function(){return jw=!0,!0}});window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch{jw=!1}var Ma=jw?{passive:!1}:!1,mQ=function(t){return t.tagName==="TEXTAREA"},bD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mQ(t)&&n[e]==="visible")},gQ=function(t){return bD(t,"overflowY")},vQ=function(t){return bD(t,"overflowX")},HS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ED(t,r);if(s){var i=ID(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},wQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ED=function(t,e){return t==="v"?gQ(e):vQ(e)},ID=function(t,e){return t==="v"?yQ(e):wQ(e)},xQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},_Q=function(t,e,n,r,s){var i=xQ(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,f=o>0,h=0,p=0;do{var m=ID(t,a),_=m[0],w=m[1],y=m[2],x=w-y-i*_;(_||x)&&ED(t,a)&&(h+=x,p+=_),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(s&&Math.abs(h)<1||!s&&o>h)||!f&&(s&&Math.abs(p)<1||!s&&-o>p))&&(u=!0),u},If=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},KS=function(t){return[t.deltaX,t.deltaY]},WS=function(t){return t&&"current"in t?t.current:t},bQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},EQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IQ=0,La=[];function TQ(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(IQ++)[0],i=g.useState(_D)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=Yq([t.lockRef.current],(t.shards||[]).map(WS),!0).filter(Boolean);return w.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,y){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var x=If(w),b=n.current,E="deltaX"in w?w.deltaX:b[0]-x[0],C="deltaY"in w?w.deltaY:b[1]-x[1],j,O=w.target,S=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in w&&S==="h"&&O.type==="range")return!1;var I=HS(S,O);if(!I)return!0;if(I?j=S:(j=S==="v"?"h":"v",I=HS(S,O)),!I)return!1;if(!r.current&&"changedTouches"in w&&(E||C)&&(r.current=j),!j)return!0;var P=r.current||j;return _Q(P,y,w,P==="h"?E:C,!0)},[]),l=g.useCallback(function(w){var y=w;if(!(!La.length||La[La.length-1]!==i)){var x="deltaY"in y?KS(y):If(y),b=e.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&bQ(j.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var E=(o.current.shards||[]).map(WS).filter(Boolean).filter(function(j){return j.contains(y.target)}),C=E.length>0?a(y,E[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=g.useCallback(function(w,y,x,b){var E={name:w,delta:y,target:x,should:b,shadowParent:SQ(x)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(C){return C!==E})},1)},[]),f=g.useCallback(function(w){n.current=If(w),r.current=void 0},[]),h=g.useCallback(function(w){u(w.type,KS(w),w.target,a(w,t.lockRef.current))},[]),p=g.useCallback(function(w){u(w.type,If(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return La.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ma),document.addEventListener("touchmove",l,Ma),document.addEventListener("touchstart",f,Ma),function(){La=La.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,Ma),document.removeEventListener("touchmove",l,Ma),document.removeEventListener("touchstart",f,Ma)}},[]);var m=t.removeScrollBar,_=t.inert;return g.createElement(g.Fragment,null,_?g.createElement(i,{styles:EQ(s)}):null,m?g.createElement(pQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function SQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const CQ=tQ(xD,TQ);var TD=g.forwardRef(function(t,e){return g.createElement(Fg,kr({},t,{ref:e,sideCar:CQ}))});TD.classNames=Fg.classNames;const SD=TD;var NQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Va=new WeakMap,Tf=new WeakMap,Sf={},_y=0,CD=function(t){return t&&(t.host||CD(t.parentNode))},kQ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=CD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},RQ=function(t,e,n,r){var s=kQ(e,Array.isArray(t)?t:[t]);Sf[n]||(Sf[n]=new WeakMap);var i=Sf[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var m=p.getAttribute(r),_=m!==null&&m!=="false",w=(Va.get(p)||0)+1,y=(i.get(p)||0)+1;Va.set(p,w),i.set(p,y),o.push(p),w===1&&_&&Tf.set(p,!0),y===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return f(e),a.clear(),_y++,function(){o.forEach(function(h){var p=Va.get(h)-1,m=i.get(h)-1;Va.set(h,p),i.set(h,m),p||(Tf.has(h)||h.removeAttribute(r),Tf.delete(h)),m||h.removeAttribute(n)}),_y--,_y||(Va=new WeakMap,Va=new WeakMap,Tf=new WeakMap,Sf={})}},ND=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||NQ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),RQ(r,s,n,"aria-hidden")):function(){return null}},$g="Dialog",[kD,tee]=On($g),[PQ,yr]=kD($g),RD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u,f]=Ki({prop:r,defaultProp:s??!1,onChange:i,caller:$g});return c.jsx(PQ,{scope:e,triggerRef:a,contentRef:l,contentId:Ii(),titleId:Ii(),descriptionId:Ii(),open:u,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};RD.displayName=$g;var PD="DialogTrigger",AD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(PD,n),i=Ve(e,s.triggerRef);return c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Eb(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)})});AD.displayName=PD;var _b="DialogPortal",[AQ,jD]=kD(_b,{forceMount:void 0}),DD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=yr(_b,e);return c.jsx(AQ,{scope:e,forceMount:n,children:g.Children.map(r,o=>c.jsx(Jn,{present:n||i.open,children:c.jsx(Gm,{asChild:!0,container:s,children:o})}))})};DD.displayName=_b;var wm="DialogOverlay",OD=g.forwardRef((t,e)=>{const n=jD(wm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=yr(wm,t.__scopeDialog);return i.modal?c.jsx(Jn,{present:r||i.open,children:c.jsx(DQ,{...s,ref:e})}):null});OD.displayName=wm;var jQ=Hl("DialogOverlay.RemoveScroll"),DQ=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(wm,n);return c.jsx(SD,{as:jQ,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ve.div,{"data-state":Eb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ca="DialogContent",MD=g.forwardRef((t,e)=>{const n=jD(ca,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=yr(ca,t.__scopeDialog);return c.jsx(Jn,{present:r||i.open,children:i.modal?c.jsx(OQ,{...s,ref:e}):c.jsx(MQ,{...s,ref:e})})});MD.displayName=ca;var OQ=g.forwardRef((t,e)=>{const n=yr(ca,t.__scopeDialog),r=g.useRef(null),s=Ve(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return ND(i)},[]),c.jsx(LD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),MQ=g.forwardRef((t,e)=>{const n=yr(ca,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return c.jsx(LD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),LD=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=yr(ca,n),l=g.useRef(null),u=Ve(e,l);return yD(),c.jsxs(c.Fragment,{children:[c.jsx(xb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Jd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Eb(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(LQ,{titleId:a.titleId}),c.jsx(FQ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),bb="DialogTitle",VD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(bb,n);return c.jsx(ve.h2,{id:s.titleId,...r,ref:e})});VD.displayName=bb;var FD="DialogDescription",$D=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(FD,n);return c.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});$D.displayName=FD;var UD="DialogClose",BD=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=yr(UD,n);return c.jsx(ve.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});BD.displayName=UD;function Eb(t){return t?"open":"closed"}var zD="DialogTitleWarning",[nee,qD]=E3(zD,{contentName:ca,titleName:bb,docsSlug:"dialog"}),LQ=({titleId:t})=>{const e=qD(zD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},VQ="DialogDescriptionWarning",FQ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qD(VQ).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Ib=RD,HD=AD,Tb=DD,yh=OD,wh=MD,Ug=VD,Bg=$D,KD=BD;const $Q=Ib,UQ=HD,BQ=Tb,WD=g.forwardRef(({className:t,...e},n)=>c.jsx(yh,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));WD.displayName=yh.displayName;const zQ=Zd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),GD=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(BQ,{children:[c.jsx(WD,{}),c.jsxs(wh,{ref:s,className:oe(zQ({side:t}),e),...r,children:[n,c.jsxs(KD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(os,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));GD.displayName=wh.displayName;const QD=({className:t,...e})=>c.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",t),...e});QD.displayName="SheetHeader";const YD=g.forwardRef(({className:t,...e},n)=>c.jsx(Ug,{ref:n,className:oe("text-lg font-semibold text-foreground",t),...e}));YD.displayName=Ug.displayName;const qQ=g.forwardRef(({className:t,...e},n)=>c.jsx(Bg,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));qQ.displayName=Bg.displayName;const $o=Ib,lp=HD,HQ=Tb,JD=g.forwardRef(({className:t,...e},n)=>c.jsx(yh,{ref:n,className:oe("fixed inset-0 z-50 bg-gray-900/60  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));JD.displayName=yh.displayName;const Pi=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(HQ,{children:[c.jsx(JD,{}),c.jsxs(wh,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(KD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(os,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pi.displayName=wh.displayName;const Uo=({className:t,...e})=>c.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Uo.displayName="DialogHeader";const XD=({className:t,...e})=>c.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});XD.displayName="DialogFooter";const Bo=g.forwardRef(({className:t,...e},n)=>c.jsx(Ug,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Bo.displayName=Ug.displayName;const KQ=g.forwardRef(({className:t,...e},n)=>c.jsx(Bg,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));KQ.displayName=Bg.displayName;const xh=[{id:25,name:{ru:'Браслет "Рок-Скелет"',en:'Bracelet "Rock Skeleton"',ge:'სამაჯური "როკ-ჩონგური"'},description:{ru:'Этот уникальный браслет состоит из стильного кожаного ремешка и оригинальной подвески в виде скелета, играющего на электрогитаре. Кулон выполнен под состаренную бронзу или латунь, придавая изделию винтажный и брутальный вид. Браслет "Рок-Скелет" — идеальный выбор для любителей рок-музыки, готической эстетики и необычных аксессуаров. Он станет ярким акцентом в повседневном образе, подчеркнет индивидуальность и страсть к неформальному стилю. Также это отличный подарок для музыкантов, фанатов рока и всех, кто ценит креативные и запоминающиеся украшения. Регулируемая застежка обеспечивает комфортное ношение.',en:'This unique bracelet features a stylish leather strap and an original pendant in the shape of a skeleton playing an electric guitar. The pendant is made to resemble aged bronze or brass, giving the piece a vintage and brutal look. The "Rock Skeleton" bracelet is the perfect choice for rock music lovers, gothic aesthetics enthusiasts, and those who appreciate unusual accessories. It will become a striking accent in your everyday look, emphasizing individuality and passion for informal style. Also makes a great gift for musicians, rock fans, and anyone who values creative and memorable jewelry. The adjustable clasp ensures comfortable wear.',ge:'ეს უნიკალური სამაჯური შედგება სტილური ტყავის ზოლისა და ორიგინალური ქანდაკებისგან, რომელიც ელექტრო გიტარაზე დაკვრილ სკელეტს გამოსახავს. ქანდაკება დამზადებულია ძველი ბრინჯაოს ან თითბრის იმიტაციით, რაც ნაწარმს ვინტაჟურსა და უხეშ იერს აძლევს. სამაჯური "როკ-ჩონგური" არის იდეალური არჩევანი როკ-მუსიკის მოყვარულთათვის, გოთური ესთეტიკის მოყვარულთათვის და უჩვეულო აქსესუარების მოყვარულთათვის. ის გახდება ნათელი აქცენტი თქვენს ყოველდღიურ იერსახეს, ხაზს გაუსვამს ინდივიდუალურობასა და ვნებას არაფორმალური სტილის მიმართ. ასევე შესანიშნავი საჩუქარია მუსიკოსებისთვის, როკის გულშემატკივრებისთვის და ყველა მათთვის, ვინც აფასებს კრეატიულ და დამახსოვრებად ნაჭუჭს. რეგულირებადი საკინაფარი უზრუნველყოფს კომფორტულ ტარებას.'},price:30,currency:"₾",images:["/lovable-uploads/494572321_1695262911380497_3159085465488947786_n.jpg","/lovable-uploads/494572321_1695262911380497_3159085465488947786_n_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:["Кожа","Металл"],colors:["Черный","Бронза"]},{id:24,name:{ru:'Браслет "Регги"',en:'Bracelet "Reggae"',ge:'სამაჯური "რეგი"'},description:{ru:'Этот стильный браслет выполнен из кожи и украшен крупной металлической подвеской в виде стилизованного листа. Подвеска имеет винтажный вид под состаренную бронзу, что придает браслету особый шарм и индивидуальность. Браслет "Регги" идеально подойдет для тех, кто ценит свободный дух, любит музыку в стиле регги, хиппи-эстетику или просто ищет оригинальный аксессуар, который подчеркнет его уникальность. Он прекрасно дополнит повседневный образ, добавив ему непринужденности и расслабленности. Регулируемая застежка обеспечивает комфортную посадку на любое запястье. Отличный подарок для друзей и близких, разделяющих схожие интересы.',en:'This stylish bracelet is made of leather and adorned with a large metal pendant in the shape of a stylized leaf. The pendant has a vintage, aged bronze finish that gives the bracelet a special charm and individuality. The "Reggae" bracelet is perfect for those who appreciate a free spirit, love reggae music, hippie aesthetics, or are simply looking for a unique accessory that emphasizes their uniqueness. It will perfectly complement a casual look, adding ease and relaxation. The adjustable clasp ensures a comfortable fit for any wrist. A great gift for friends and loved ones who share similar interests.',ge:'ეს სტილური სამაჯური დამზადებულია ტყავისგან და დეკორირებულია დიდი ზომის მეტალის ქანდაკებით, რომელიც სტილიზებულ ფოთოლს წააგავს. ქანდაკებას აქვს ვინტაჟური, დაძველებული ბრინჯაოს ეფექტი, რაც სამაჯურს განსაკუთრებულ მიმზიდველობასა და ინდივიდუალურობას აძლევს. სამაჯური "რეგი" იდეალურია მათთვის, ვინც აფასებს თავისუფალ სულს, უყვარს რეგის მუსიკა, ჰიპის ესთეტიკა ან უბრალოდ ეძებს ორიგინალურ აქსესუარს, რომელიც მათ უნიკალურობას ხაზს გაუსვამს. ის შესანიშნავად შეავსებს ყოველდღიურ იერს, დაუმატებს მას უსათამაშობობას და დამშვიდობებას. რეგულირებადი საკინაფარი უზრუნველყოფს კომფორტულ მორგებას ნებისმიერი მაჯისთვის. შესანიშნავი საჩუქარი მეგობრებისთვის და ნათესავებისთვის, რომლებიც მსგავს ინტერესებს იზიარებენ.'},price:30,currency:"₾",images:["/lovable-uploads/494573304_1210713720698628_5887406144073799270_n.jpg","/lovable-uploads/494573304_1210713720698628_5887406144073799270_n_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:["Кожа","Металл"],colors:["Коричневый","Бронза"]},{id:23,name:{ru:'Браслет "Крест Защитника"',en:`Bracelet "Defender's Cross"`,ge:'სამაჯური "მცველის ჯვარი"'},price:30,description:{ru:"Этот элегантный и мистический браслет представляет собой широкий ремешок из кожи, к которому прикреплен крупный кулон в виде стилизованного креста с винтажным орнаментом. Металлический кулон выполнен под старинную бронзу или латунь, придавая изделию особую атмосферу таинственности и древности. Идеальный аксессуар для тех, кто ценит необычные детали и хочет подчеркнуть свою индивидуальность.",en:"This elegant and mystical bracelet features a wide leather strap with a large pendant in the form of a stylized cross with a vintage pattern. The metal pendant is made to resemble antique bronze or brass, giving the piece a special atmosphere of mystery and antiquity. A perfect accessory for those who appreciate unusual details and want to emphasize their individuality.",ge:"ეს ელეგანტური და მისტიკური სამაჯური წარმოადგენს ფართო ტყავის ზოლს, რომელზეც მიმაგრებულია დიდი ზომის ქანდაკება სტილიზებული ჯვრის სახით ვინტაჟური ორნამენტით. მეტალის ქანდაკება დამზადებულია ძველი ბრინჯაოს ან თითბრის იმიტაციით, რაც ნაწარმს საიდუმლოებით და უძველესი დროის ატმოსფეროს აძლევს. იდეალური აქსესუარი მათთვის, ვინც აფასებს არაჩვეულებრივ დეტალებს და სურს ხაზი გაუსვას საკუთარ ინდივიდუალურობას."},currency:"₾",images:["/lovable-uploads/494356912_2907248866121505_2657667423894533600_n.jpg","/lovable-uploads/494356912_2907248866121505_2657667423894533600_n_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:["Кожа","Металл"],colors:["Коричневый","Бронза"]},{id:26,name:{ru:'Браслет "Рок-Легенда"',en:'Bracelet "Rock Legend"',ge:'სამაჯური "როკ-ლეგენდა"'},description:{ru:"Этот брутальный и стильный браслет выполнен из высококачественной черной кожи и украшен металлическими люверсами, через которые продеты две изящные цепочки. Дизайн браслета вдохновлен рок-эстетикой и станет идеальным аксессуаром для тех, кто ценит индивидуальность и дерзкий стиль. Он отлично дополнит повседневный образ, добавив ему нотку бунтарства, а также будет уместен на рок-концерте или тематической вечеринке. Надежная застежка обеспечит комфортное ношение. Подходит как мужчинам, так и женщинам.",en:"This brutal and stylish bracelet is made of high-quality black leather and decorated with metal eyelets, through which two elegant chains are threaded. The bracelet design is inspired by rock aesthetics and will be the perfect accessory for those who value individuality and bold style. It will perfectly complement your everyday look, adding a touch of rebellion, and will also be appropriate at a rock concert or themed party. The reliable clasp ensures comfortable wear. Suitable for both men and women.",ge:"ეს უხეში და სტილური სამაჯური დამზადებულია მაღალი ხარისხის შავი ტყავისგან და დეკორირებულია მეტალის ხვრელებით, რომლებშიც ორი ელეგანტური ჯაჭვია გავლებული. სამაჯურის დიზაინი შთაგონებულია როკ-ესთეტიკით და იქნება იდეალური აქსესუარი მათთვის, ვინც ფასობს ინდივიდუალურობას და თამამ სტილს. ის შესანიშნავად შეავსებს თქვენს ყოველდღიურ იერს, დაუმატებს მას აჯანყების შეფერილობას და ასევე შესაფერისი იქნება როკ-კონცერტზე ან თემატურ წვეულებაზე. საიმედო საკინაფარი უზრუნველყოფს კომფორტულ ტარებას. შესაფერისია როგორც ქალების, ისე მამაკაცებისთვის."},price:30,currency:"₾",images:["/lovable-uploads/494358890_1385872359349954_8620536579018894230_n.jpg","/lovable-uploads/494358890_1385872359349954_8620536579018894230_n_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:["Натуральная кожа","Металл"],colors:["Черный","Серебро"]},{id:19,name:{ru:'Серьги "Солнечный свет"',en:'Earrings "Sunlight"',ge:'საყურეები "მზის შუქი"'},description:{ru:`Элегантные серьги с изящными подвесками в форме солнца, воплощающие тепло, свет и утонченную красоту. Их сияние добавит образу изысканности, а лёгкое покачивание при движении создаст эффект живого блеска.

Идеальное украшение для вечернего выхода, романтического свидания или особого события. Несмотря на выразительный дизайн, серьги остаются лёгкими и комфортными, что делает их отличным выбором для длительного ношения.

Позвольте себе блистать, словно солнечный луч, с каждым шагом!`,en:`Elegant earrings with graceful sun-shaped pendants, embodying warmth, light, and refined beauty. Their radiance will add sophistication to your look, while the gentle sway with movement creates a living sparkle effect.

Perfect for evening outings, romantic dates, or special occasions. Despite their expressive design, the earrings remain light and comfortable, making them an excellent choice for extended wear.

Let yourself shine like a sunbeam with every step!`,ge:`ელეგანტური საყურეები დახვეწილი მზის ფორმის ჩამოკიდებულებებით, რომლებიც განასახიერებენ სითბოს, სინათლეს და დახვეწილ სილამაზეს. მათი ბრწყინვალება დაამატებს თქვენს იერსებას დახვეწილობას, ხოლო მსუბუქი ქანაობა მოძრაობისას შექმნის ცოცხალი ბზინვარების ეფექტს.

იდეალურია საღამოს გასვლისთვის, რომანტიკული პაემნისთვის ან განსაკუთრებული ღონისძიებისთვის. გამომხატველი დიზაინის მიუხედავად, საყურეები რჩება მსუბუქი და კომფორტული, რაც მათ შესანიშნავ არჩევანს ხდის ხანგრძლივი ტარებისთვის.

ნება მოგეცეთ საკუთარ თავს ისე ინათოთ, როგორც მზის სხივი, ყოველი ნაბიჯით!`},price:15,currency:"₾",images:["/lovable-uploads/494356262_714391001147663_7135250089724160584_n.jpg","/lovable-uploads/494356262_714391001147663_7135250089724160584_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:["Металл с золотым покрытием"],colors:["Золотой"]},{id:20,name:{ru:'Серьги "Полумесяц Луны"',en:'Earrings "Moon Crescent"',ge:'საყურეები "მთვარის ნახევარმთვარე"'},description:{ru:`Нежные и утончённые серьги, вдохновлённые волшебством ночного неба. Изящная форма полумесяца придаёт образу загадочности и романтики, подчёркивая индивидуальность и внутреннюю гармонию.

Добавят изысканности как повседневному наряду, так и вечернему образу. Лёгкие и удобные, они станут вашим спутником в любой день — от деловых встреч до тихих вечерних прогулок под звёздами.

Пусть лунный свет всегда будет с вами — в каждом движении и каждом взгляде.`,en:`Delicate and sophisticated earrings inspired by the magic of the night sky. The graceful crescent moon shape adds an air of mystery and romance to your look, emphasizing individuality and inner harmony.

They will add elegance to both casual and evening outfits. Lightweight and comfortable, they will become your companion for any occasion — from business meetings to quiet evening walks under the stars.

Let the moonlight always be with you — in every movement and every glance.`,ge:`ნაზი და დახვეწილი საყურეები, შთაგონებული ღამის ცის მაგიით. მოხდენილი ნახევარმთვარის ფორმა თქვენს იმიჯს საიდუმლოებასა და რომანტიკას ამატებს, ხაზს უსვამს ინდივიდუალობასა და შინაგან ჰარმონიას.

დაუმატებს დახვეწილობას როგორც ყოველდღიურ, ისე საღამოს ტანსაცმელს. მსუბუქი და კომფორტული, ისინი გახდება თქვენი თანამგზავრი ნებისმიერ დღეს — ბიზნეს შეხვედრებიდან ვარსკვლავების ქვეშ ჩუმ ღამის ფრიადამდე.

ნება მთვარის შუქმა ყოველთვის იყოს თქვენთან — ყოველ მოძრაობაში და თვალისჩამომშრალი ყოველ შეხედვაში.`},price:15,currency:"₾",images:["/lovable-uploads/494356774_1769263413996811_5281240654920214474_n.jpg","/lovable-uploads/494356774_1769263413996811_5281240654920214474_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:["Сплав металла","Искусственные кристаллы"],colors:["Фиолетовый","Серебро"]},{id:21,name:{ru:'Серьги "Короткая Луна"',en:'Earrings "Short Moon"',ge:'საყურეები "მოკლე მთვარე"'},description:{ru:`Стильные и лаконичные серьги с изящным акцентом в виде полумесяца. Их минималистичный дизайн делает украшение универсальным — они идеально впишутся как в повседневный образ, так и в наряд для особого случая.

Сдержанный блеск и плавные линии луны добавляют утончённости и лёгкой загадочности. Легкие, удобные и почти невесомые — идеально подходят для длительного ношения без дискомфорта.

"Короткая Луна" — когда стиль говорит за тебя.`,en:`Stylish and concise earrings with an elegant crescent moon accent. Their minimalist design makes the jewelry versatile — they will perfectly fit both casual looks and special occasion outfits.

The restrained shine and smooth lines of the moon add sophistication and a touch of mystery. Lightweight, comfortable, and almost weightless — perfect for long-term wear without discomfort.

"Short Moon" — when style speaks for you.`,ge:`სტილური და ლაკონიური საყურეები ელეგანტური ნახევარმთვარის აქცენტით. მათი მინიმალისტური დიზაინი ხდის სამკაულს უნივერსალურს — ისინი იდეალურად ჯდება როგორც ყოველდღიურ, ისე სპეციალური დღისთვის განკუთვნილ ტანსაცმელში.

დაუდგრომელი ბზინვარება და მთვარის გლუვი ხაზები ემატება დახვეწილობას და ნაზ საიდუმლოებას. მსუბუქი, კომფორტული და თითქმის უწონო — იდეალურია ხანგრძლივი ტარებისთვის დისკომფორტის გარეშე.

"მოკლე მთვარე" — როდესაც სტილი შენს ნაცვლად ლაპარაკობს.`},price:15,currency:"₾",images:["/lovable-uploads/494358021_1236477491488223_1113084814910147747_n.jpg","/lovable-uploads/494358021_1236477491488223_1113084814910147747_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:["Металл с золотым покрытием"],colors:["Золотой"]},{id:22,name:{ru:'Серьги "Вестерн"',en:'Earrings "Western"',ge:'საყურეები "ვესტერნი"'},description:{ru:`Роскошные серьги с характером — для тех, кто не боится быть дерзкой. Дизайн с отсылкой к духу дикого запада: револьвер, пыльные дороги, жаркое солнце и свобода в каждом шаге.

Идеальное украшение для тех, кто любит сочетать стиль с огоньком и намёком на бунтарство. Эффектный аксессуар, который привлечёт взгляды и точно не оставит вас без внимания.

"Вестерн" — когда твой стиль стреляет метко.`,en:`Luxurious earrings with character — for those who aren't afraid to be bold. A design that references the spirit of the Wild West: revolvers, dusty roads, hot sun, and freedom in every step.

The perfect accessory for those who love to combine style with a spark of rebellion. A striking piece that will attract attention and ensure all eyes are on you.

"Western" — when your style hits the mark.`,ge:`ფუფუნებისმოყვარე საყურეები ხასიათით — მათთვის, ვინც არ ეშინია თამამი იყოს. დიზაინი, რომელიც მიუთითებს ველური დასავლის სულზე: რევოლვერები, მტვრიანი გზები, ცხელი მზე და თავისუფლება ყოველ ნაბიჯში.

იდეალური სამკაული მათთვის, ვისაც უყვარს სტილის ამბოხებულ ნაპერწკალთან შერწყმა. შთამბეჭდავი აქსესუარი, რომელიც მიიზიდავს ყურადღებას და აუცილებლად არ დატოვებს უყურადღებოდ.

"ვესტერნი" — როცა შენი სტილი ზუსტად ურტყამს სამიზნეს.`},price:15,currency:"₾",images:["/lovable-uploads/494360448_1202980541322821_433259679981194833_n.jpg","/lovable-uploads/494360448_1202980541322821_433259679981194833_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:["Металл","Искусственные кристаллы"],colors:["Розовое золото","Кристаллы"]},{id:27,name:{ru:'Серьги "Снежок"',en:'Earrings "Snowball"',ge:'საყურეები "თოვლის ბურთულა"'},description:{ru:`Элегантные серьги в виде снежка — лёгкие, как первый снег и такие же очаровательные. Их утончённый дизайн придаёт образу свежести и лёгкости, подчёркивая вашу естественную красоту.

Станут идеальным акцентом как в повседневном наряде, так и в вечернем луке. Универсальные и невесомые, они добавят вашему стилю нотку зимней сказки в любое время года.

"Снежок" — когда хочется нежности, блеска и лёгкого мороза по коже.`,en:`Elegant snowball-shaped earrings — light as the first snow and just as charming. Their refined design adds freshness and lightness to your look, highlighting your natural beauty.

They will become the perfect accent in both casual and evening wear. Versatile and weightless, they will add a touch of winter fairy tale to your style at any time of the year.

"Snowball" — when you want tenderness, sparkle, and a light frosty touch.`,ge:`ელეგანტური საყურეები თოვლის ბურთულის ფორმის — მსუბუქი, როგორც პირველი თოვლი და ასეთივე მომხიბვლელი. მათი დახვეწილი დიზაინი აძლევს იმიჯს სიახლესა და სიმსუბუქეს, ხაზს უსვამს თქვენ ბუნებრივ სილამაზეს.

გახდება იდეალური აქცენტი როგორც ყოველდღიურ, ისე საღამოს ტანსამოსში. უნივერსალური და უწონო, ისინი დაუმატებენ თქვენს სტილს ზამთრის ზღაპრის შეფერილობას წლის ნებისმიერ დროს.

"თოვლის ბურთულა" — როცა გინდათ ნაზობა, ბზინვარება და თხელი, ყინულოვანი შეხება.`},price:15,currency:"₾",images:["/lovable-uploads/496514974_486316394509569_7569377168526650890_n.jpg","/lovable-uploads/496514974_486316394509569_7569377168526650890_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:["Серебро 925 пробы"],colors:["Серебро"]},{id:18,name:{ru:'Кулон "Свободное Перо"',en:'Pendant "Free Feather"',ge:"შუბლჭვირის ფორმის ბროლჯვარი"},description:{ru:'Изящный кулон "Свободное Перо" выполнен из двух тонких полосок ткани глубокого коричневого цвета. Кожаные ремешки соединены между собой металлическими заклепками и центральным кольцом, к которому подвешен крупный кулон в виде серебряного пера. Этот аксессуар станет прекрасным дополнением к вашему образу, добавив нотку бохо-шика и индивидуальности. Идеально подходит для повседневной носки, а также для создания стильных образов в стиле кантри, этник или хиппи.',en:'The elegant "Free Feather" pendant is made of two thin strips of deep brown fabric. The leather straps are connected with metal rivets and a central ring, from which hangs a large silver feather pendant. This accessory will be a wonderful addition to your look, adding a touch of boho chic and individuality. Perfect for everyday wear and for creating stylish looks in country, ethnic, or hippie styles.',ge:'ელეგანტური "თავისუფალი ბუმბული" ბროლჯვარი დამზადებულია ორი წვრილი ღრმა ყავისფერი ქსოვილის ზოლისგან. ტყავის სამაჯურები დაკავშირებულია ლითონის მოქლონებითა და ცენტრალური რგოლით, რომელსაც ეკიდება დიდი ვერცხლისფერი ბუმბულის ფორმის ბროლჯვარი. ეს აქსესუარი შესანიშნავი დამატება იქნება თქვენს იმიჯში, რომელიც დაუმატებს ბოჰო-შარმსა და ინდივიდუალურობას. იდეალურია ყოველდღიური ტარებისთვის, ასევე სტილური იმიჯის შესაქმნელად ქანთრი, ეთნიკური ან ჰიპის სტილში.'},price:35,currency:"₾",images:["/lovable-uploads/bumbl_1.jpg","/lovable-uploads/bumbl_2.jpeg"],category:"necklaces",stock:0,featured:!0,materials:["Металлический сплав","Цветные вставки"],colors:["Желтый","Черный"]},{id:17,name:{ru:'Двойное ожерелье "Мистический крест"',en:'Double Necklace "Mystic Cross"',ge:'ორმაგი ყელსაბამი "მისტიკური ჯვარი"'},description:{ru:"Этот уникальный двойное ожерелье сочетает в себе гранж и винтажный стили. Верхняя часть представляет собой простую и элегантную черную эластичную полоску, плотно облегающую шею. Ниже располагается вторая из тонкого ремешка под кожу темно-коричневого цвета, на котором подвешен массивный кулон в виде старинного креста. Крест выполнен в детализированном дизайне, возможно, с элементами в виде черепа или других готических мотивов, что придает ему мистический и таинственный вид. Этот чокер идеально подойдет для создания смелого и выразительного образа, подчеркивая вашу индивидуальность и любовь к неординарным украшениям. Прекрасно сочетается с нарядами в стиле кэжуал, рок или гранж.",en:"This unique double necklace combines grunge and vintage styles. The upper part features a simple and elegant black elastic band that fits snugly around the neck. Below it is a second layer made of a thin dark brown leather strap, from which hangs a massive antique-style cross pendant. The cross is crafted with intricate detailing, possibly featuring skull or other gothic elements, giving it a mystical and mysterious appearance. This choker is perfect for creating a bold and expressive look, highlighting your individuality and love for unique jewelry. Pairs beautifully with casual, rock, or grunge outfits.",ge:"ეს უნიკალური ორმაგი ყელსაბამი აერთიანებს გრანჟისა და ვინტაჟურ სტილებს. ზედა ნაწილი წარმოადგენს მარტივ და ელეგანტურ შავ ელასტიკურ ზოლს, რომელიც მჭიდროდ უჯდება კისერს. ქვემოთ მოთავსებულია მეორე ფენა - წვრილი ტყავის ყავისფერი სამაჯური, რომელზეც დაკიდებულია მასიური ძველი სტილის ჯვრის ფორმის ბროლჯვარი. ჯვარი დამზადებულია დეტალური დიზაინით, შესაძლოა თავის ქალის ან სხვა გოთური ელემენტებით, რაც მას მისტიკურ და იდუმალ იერს აძლევს. ეს ჩოკერი იდეალურია თამამი და გამომხატველი იმიჯის შესაქმნელად, ხაზს უსვამს თქვენ ინდივიდუალურობასა და სიყვარულს უჩვეულო სამკაულების მიმართ. შესანიშნავად ერწყმის კაზუალურ, როკ ან გრანჟ სტილის ტანსაცმელს."},price:35,currency:"₾",images:["/lovable-uploads/jvar_1.jpg","/lovable-uploads/jvar_2.jpg"],category:"necklaces",stock:1,featured:!0,materials:["Металл с покрытием"],colors:["Серебро"]},{id:16,name:{ru:'Чокер "Сердце"',en:'Choker "Heart"',ge:'ჩოკერი "გული"'},description:{ru:"Элегантный и стильный чокер, выполненный из мягкой черной замши. Он состоит из 4 полосок, которые соединяются и крепятся по бокам к крупному металлическому кольцу в форме сердца. Сердце из металла серебристого оттенка расположено по центру, привлекая внимание к области шеи. Этот чокер является выразительным аксессуаром, который добавит нотку романтики и готического шика в любой образ. Идеально подойдет для создания дерзких и женственных нарядов, а также станет отличным подарком для тех, кто ценит уникальные украшения.",en:"An elegant and stylish choker made of soft black suede. It consists of 4 strips that connect and fasten at the sides to a large metal ring in the shape of a heart. The silver-tone metal heart is positioned in the center, drawing attention to the neckline. This choker is a striking accessory that will add a touch of romance and gothic chic to any look. Perfect for creating bold and feminine outfits, it also makes a great gift for those who appreciate unique jewelry.",ge:"ელეგანტური და სტილური ჩოკერი დამზადებული რბილი შავი ხავერდისგან. იგი შედგება 4 ზოლისგან, რომლებიც ერთმანეთთან არის დაკავშირებული და გვერდებზე მიმაგრებულია დიდ ლითონის რგოლზე გულის ფორმის. ვერცხლისფერი ლითონისგან დამზადებული გული განლაგებულია ცენტრში, რაც ყურადღებას ამახვილებს კისრის ხაზზე. ეს ჩოკერი არის გამომხატველი აქსესუარი, რომელიც ნებისმიერ იმიჯს დაუმატებს რომანტიკისა და გოთიკური შარმის ნოტს. იდეალურია თამამი და ქალწულური ტანსაცმლის შესაქმნელად, ასევე გახდება შესანიშნავი საჩუქარი მათთვის, ვინც აფასებს უნიკალურ სამკაულებს."},price:35,currency:"₾",images:["/lovable-uploads/gul_1.jpg","/lovable-uploads/gul_2.jpg"],category:"chokers",stock:0,featured:!0,materials:["Кожа","Металл"],colors:["Черный","Серебро"]},{id:15,name:{ru:'Ожерелье "Бесконечный череп"',en:'Necklace "Infinite Skull"',ge:'საყელური "უსასრულო თავის ქალა"'},description:{ru:"Стильное ожерелье выполненный из тонкого ремешка темно-коричневой кожи. По центру ожерелья расположен оригинальный металлический элемент в виде символа бесконечности, к которому подвешен детализированный кулон в форме черепа. У основания черепа видны элементы, напоминающие цветок или небольшие декоративные детали, что добавляет изысканности и уникальности. Застежка чокера выполнена с использованием металлических заклепок, придающих ему прочный и надежный вид. Это ожерелье является ярким акцентом для тех, кто ценит готическую эстетику, рок-стиль или просто любит необычные и символичные украшения. Он идеально дополнит повседневный образ, придав ему дерзости и индивидуальности.",en:"Stylish necklace made of a thin dark brown leather strap. The centerpiece of the necklace features an original metal infinity symbol, from which hangs a detailed skull pendant. At the base of the skull, you can see elements resembling a flower or small decorative details, adding sophistication and uniqueness. The choker clasp is made with metal rivets, giving it a sturdy and reliable appearance. This necklace is a striking statement piece for those who appreciate gothic aesthetics, rock style, or simply love unusual and symbolic jewelry. It will perfectly complement your everyday look, adding an edge of boldness and individuality.",ge:"სტილური საყელური დამზადებული წვრილი ყავისფერი ტყავის სამაჯურისაგან. საყელურის ცენტრში განთავსებულია ორიგინალური ლითონის უსასრულობის სიმბოლო, რომელსაც ეკიდება დეტალურად შესრულებული თავის ქალის ფორმის ბროლჯვარი. თავის ქალის ძირში ჩანს ყვავილის ან მცირე დეკორატიული დეტალების მსგავსი ელემენტები, რაც ემატება დახვეწილობასა და უნიკალურობას. ჩოკერის საკინძი დამზადებულია ლითონის მოქლონების გამოყენებით, რაც მას აძლევს მტკიცე და საიმედო იერს. ეს საყელური არის მკვეთი აქცენტი მათთვის, ვინც აფასებს გოთიკურ ესთეტიკას, როკ-სტილს ან უბრალოდ უყვარს უჩვეულო და სიმბოლური სამკაულები. ის იდეალურად შეავსებს თქვენ ყოველდღიურ იმიჯს, რაც მას მისცემს თამაზსა და ინდივიდუალურობას."},price:35,currency:"₾",images:["/lovable-uploads/conchx_1.jpg","/lovable-uploads/conchx_2.jpg"],category:"necklaces",stock:1,featured:!0,materials:["Металл с серебряным покрытием"],colors:["Серебро"]},{id:14,name:{ru:"Чокер 'The Walking Dead'",en:"Choker 'The Walking Dead'",ge:"ჩოკერი 'The Walking Dead'"},description:{ru:"Стильный кожаный чокер в тематике The Walking Dead. Идеальный аксессуар для поклонников сериала и постапокалиптического стиля. В комплекте представлены две фотографии с разных ракурсов.",en:"Stylish leather choker inspired by The Walking Dead. Perfect accessory for fans of the series and post-apocalyptic style. Includes two photos from different angles.",ge:"სტილური ტყავის ჩოკერი The Walking Dead-ის სტილში. იდეალური აქსესუარი სერიალის და პოსტ-აპოკალიფსური სტილის მოყვარულებისთვის. შედის ორი ფოტო სხვადასხვა კუთხით."},price:35,currency:"₾",images:["/lovable-uploads/walking_1.jpg","/lovable-uploads/walking_2.jpg"],category:"chokers",stock:1,featured:!0,materials:["Кожа","Металл"],colors:["Черный","Серый"]},{id:12,name:{ru:"Чокер 'Бритва'",en:"Choker 'Razor'",ge:"ჩოკერი 'ბრიტვა'"},description:{ru:"Стильный чокер с металлической подвеской в виде бритвы. Идеально подходит для создания смелого и дерзкого образа.",en:"Stylish choker with a razor-shaped metal pendant. Perfect for creating a bold and edgy look.",ge:"სტილური ჩოკერი ლითონის ბრიტვის ფორმის ქინძისთავით. იდეალური თამამი და თამაზირებული იმიჯის შესაქმნელად."},price:35,currency:"₾",images:["/lovable-uploads/britva_1.jpg","/lovable-uploads/britva_2.jpg"],category:"chokers",stock:1,featured:!0,materials:["Кожа","Металл"],colors:["Черный","Серебро"]},{id:11,name:{ru:"Чокер 'Звезда Давида' из стали",en:"Steel 'Star of David' Choker",ge:"ფოლადის 'დავითის ვარსკვლავი' ჩოკერი"},description:{ru:"Элегантный стальной чокер с подвеской в виде Звезды Давида. Символ иудаизма и еврейской идентичности. Идеально подходит для повседневного ношения и особых случаев. Выполнен из высококачественной хирургической стали, не вызывает аллергии и не темнеет со временем.",en:"Elegant steel choker featuring a Star of David pendant. A symbol of Judaism and Jewish identity. Perfect for both everyday wear and special occasions. Made from high-quality surgical steel, hypoallergenic and tarnish-resistant.",ge:"ელეგანტური ფოლადის ჩოკერი დავითის ვარსკვლავის ქინძისთავით. იუდაიზმისა და ებრაული იდენტობის სიმბოლო. იდეალურია როგორც ყოველდღიური, ასევე სპეციალური დღეებისთვის. დამზადებულია მაღალი ხარისხის ქირურგიული ფოლადისგან, ჰიპოალერგენული და გაუფერულებადი."},price:35,currency:"₾",images:["/lovable-uploads/choker-dvd-1.jpg","/lovable-uploads/choker-dvd-2.jpeg"],category:"chokers",stock:1,featured:!0,materials:["Металл","Стекло"],colors:["Серебро"]},{id:9,name:{ru:"Чокер с подвеской Guns N' Roses",en:"Guns N' Roses Choker",ge:"Guns N' Roses ჩოკერი"},description:{ru:"Стильный чокер с подвеской в виде логотипа Guns N' Roses. Идеальный аксессуар для поклонников рок-музыки.",en:"Stylish choker with a Guns N' Roses logo pendant. Perfect accessory for rock music fans.",ge:"სტილური ჩოკერი Guns N' Roses-ის ლოგოთი. იდეალური აქსესუარი როკ-მუსიკის მოყვარულებისთვის."},price:35,currency:"₾",images:["/lovable-uploads/choker-gnr-1.jpg","/lovable-uploads/choker-gnr-2.jpg"],category:"chokers",stock:1,featured:!0,materials:["Кожа","Металл"],colors:["Черный"]},{id:30,name:{ru:'Чокер "Тайные Реликвии"',en:'Choker "Secret Relics"',ge:'ჩოკერი "საიდუმლო რელიქვიები"'},description:{ru:"Этот стильный кожаный чокер идеально подойдет для поклонников волшебного мира. Выполненный из качественной кожи, он украшен металлической подвеской с культовым символом Даров Смерти. Двойная цепочка добавляет изящества и уникальности. Отличный аксессуар для повседневного образа или для тематической вечеринки.",en:"This stylish leather choker is perfect for fans of the wizarding world. Made of high-quality leather, it features a metal pendant with the iconic Deathly Hallows symbol. The double chain adds elegance and uniqueness. A great accessory for everyday wear or themed parties.",ge:"ეს სტილური ტყავის ჩოკერი იდეალურია ჯადოსნური სამყაროს მოყვარულებისთვის. დამზადებულია მაღალი ხარისხის ტყავისგან, დამშვენებულია ლითონის ქინძისთავით კულტური სიკვდილის საჩუქრების სიმბოლოთი. ორმაგი ჯაჭვი ემატება ელეგანტურობას და უნიკალურობას. შესანიშნავი აქსესუარი ყოველდღიური ტანსაცმლისთვის ან თემატური წვეულებისთვის."},price:45,currency:"₾",images:["/lovable-uploads/494577307_1133697015439922_8487778689865922825_n.jpg","/lovable-uploads/494577307_1133697015439922_8487778689865922825_n_2.jpg"],category:"chokers",stock:1,featured:!0,materials:["Кожа","Металл"],colors:["Черный","Серебро"]},{id:31,name:{ru:'Чокер "Падающая звезда"',en:'Choker "Falling Star"',ge:'ჩოკერი "ჩამავალი ვარსკვლავი"'},description:{ru:'Добавьте немного звездной пыли и бунтарского духа в свой образ с этим уникальным кожаным чокером "Падающая звезда". Изготовленный из высококачественной черной кожи, он эффектно сочетает в себе прочность и стиль. Центральная подвеска в виде потертой или "падающей" металлической звезды, окруженная изящными цепочками, придает аксессуару загадочный и дерзкий вид. Металлические люверсы дополняют его гранж-эстетику. Идеально подойдет для создания выразительного образа на концерте, вечеринке или для тех, кто ищет небанальный акцент в повседневном стиле.',en:'Add some stardust and rebellious spirit to your look with this unique "Falling Star" leather choker. Made from high-quality black leather, it combines durability and style. The centerpiece features a worn or "falling" metal star pendant surrounded by delicate chains, giving the accessory a mysterious and edgy look. Metal eyelets complete its grunge aesthetic. Perfect for making a statement at concerts, parties, or for those seeking a unique accent in their everyday style.',ge:'დაამატეთ ვარსკვლავური მტვერი და ამბოხებული სულისკვეთება თქვენს იმიჯს ამ უნიკალური "ჩამავალი ვარსკვლავის" ტყავის ჩოკერით. დამზადებულია მაღალი ხარისხის შავი ტყავისგან, ის აერთიანებს გამძლეობასა და სტილს. ცენტრში განთავსებული აქვს დაფარული ან "ჩამავალი" ლითონის ვარსკვლავის ქინძისთავი, გარშემორტყმული დელიკატური ჯაჭვებით, რაც აქსესუარს საიდუმლოებით და თამამებას აძლევს. ლითონის რგოლები ავსებს მის გრანჟის ესთეტიკას. იდეალურია გამომხატველი იმიჯის შესაქმნელად კონცერტებზე, წვეულებებზე ან მათთვის, ვინ ეძებს არაბანალურ აქცენტს ყოველდღიურ სტილში.'},price:35,originalPrice:45,currency:"₾",images:["/lovable-uploads/494572202_706432308535630_1694410801192056586_n.jpg","/lovable-uploads/494572202_706432308535630_1694410801192056586_n_2.jpg"],category:"chokers",stock:1,featured:!0,onSale:!0,materials:["Кожа","Металл"],colors:["Черный","Серебро"]}],Pr=()=>xh,xm=t=>{try{console.log(`[getProductById] Looking for product with ID: ${t}`);const e=xh.find(n=>n.id===t);if(!e){console.warn(`[getProductById] Product not found with ID: ${t}`);return}return console.log("[getProductById] Found product:",e),e}catch(e){console.error(`[getProductById] Error finding product with ID ${t}:`,e);return}},Dw=()=>{if(typeof window>"u")return null;try{const{getMostPopularProductId:t}=require("./productViewService"),e=t();if(e===null)return console.log("[getMostPopularProduct] No popular product found in the last 24 hours"),null;const n=xh.find(r=>r.id===e);return n||(console.warn(`[getMostPopularProduct] Product with ID ${e} not found`),null)}catch(t){return console.error("[getMostPopularProduct] Error getting most popular product:",t),null}},WQ=()=>{try{const t=[...xh].sort((e,n)=>n.id-e.id).filter(e=>e.featured);if(t.length===0){const e=Dw();return e?[e]:[]}return t}catch(t){return console.error("[getFeaturedProducts] Error getting featured products:",t),[]}},GQ=t=>{try{return xh.filter(e=>e.category===t)}catch(e){return console.error(`[getProductsByCategory] Error getting products for category ${t}:`,e),[]}},QQ=()=>{const t=localStorage.getItem("discounts");return t?JSON.parse(t):[]},YQ=t=>{localStorage.setItem("discounts",JSON.stringify(t))};let cp=QQ();const JQ=(t,e,n)=>{const r={id:Math.random().toString(36).substr(2,9),type:e,value:n,userId:t,isUsed:!1};return cp=[...cp,r],YQ(cp),r},ZD=t=>cp.filter(e=>e.userId===t&&!e.isUsed),XQ=({isOpen:t,onClose:e})=>{const{t:n,language:r}=$e(),s=i=>{window.open(i,"_blank","noopener,noreferrer")};return c.jsx($o,{open:t,onOpenChange:i=>!i&&e(),children:c.jsxs(Pi,{className:"sm:max-w-[500px] bg-background",children:[c.jsx(Uo,{children:c.jsxs(Bo,{className:"text-2xl font-bold text-center mb-6 text-crimson",children:[r==="ru"&&"Хочешь скидку?",r==="en"&&"Want a discount?",r==="ge"&&"გსურთ მიიღოთ ფასდაკლება?"]})}),c.jsxs("div",{className:"space-y-6 py-2 px-2",children:[c.jsxs("div",{className:"text-center font-medium mb-6",children:[r==="ru"&&"Вот как её получить:",r==="en"&&"Here's how to get it:",r==="ge"&&"აი რამოდენიმე მეთოდი მის მისაღებად:"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-crimson/20 rounded-full flex items-center justify-center text-crimson font-bold",children:"1"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:[r==="ru"&&"Промокоды, которые мы выкладываем в наших соцсетях!",r==="en"&&"Promo codes that we post on our social media!",r==="ge"&&"პრომო კოდები, რომლებსაც ჩვენს სოციალურ ქსელებში ვპოსტავთ!"]}),c.jsxs("div",{className:"flex gap-4 mt-2",children:[c.jsxs(pe,{variant:"outline",size:"sm",className:"gap-2 bg-blue-600 hover:bg-blue-700 text-white border-blue-700",onClick:()=>s("https://www.facebook.com/NekosShopy"),children:[c.jsx(Jm,{className:"w-4 h-4"}),"Facebook"]}),c.jsxs(pe,{variant:"outline",size:"sm",className:"gap-2 bg-pink-600 hover:bg-pink-700 text-white border-pink-700",onClick:()=>s("https://www.instagram.com/nekosshop/"),children:[c.jsx(Bx,{className:"w-4 h-4"}),"Instagram"]})]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-crimson/20 rounded-full flex items-center justify-center text-crimson font-bold",children:"2"}),c.jsx("div",{children:c.jsxs("p",{className:"font-medium",children:[r==="ru"&&"При заказе от 500 лар — получаешь 10% скидку!",r==="en"&&"For orders over 500 lari — get 10% off!",r==="ge"&&"500 ლარიდან ზემოთ შეკვეთებზე — მიიღეთ 10%-იანი ფასდაკლება!"]})})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-crimson/20 rounded-full flex items-center justify-center text-crimson font-bold",children:"3"}),c.jsx("div",{children:c.jsxs("p",{className:"font-medium",children:[r==="ru"&&"При заказе от 200 лар — получаешь 5% скидку!",r==="en"&&"For orders over 200 lari — get 5% off!",r==="ge"&&"200 ლარიდან ზემოთ შეკვეთებზე — მიიღეთ 5%-იანი ფასდაკლება!"]})})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-crimson/20 rounded-full flex items-center justify-center text-crimson font-bold",children:"4"}),c.jsx("div",{children:c.jsxs("p",{className:"font-medium",children:[r==="ru"&&"При заказе от 100 лар — доставка бесплатная!",r==="en"&&"For orders over 100 lari — free delivery!",r==="ge"&&"100 ლარიდან ზემოთ შეკვეთებზე — უფასო მიტანა!"]})})]})]})]})]})})};var ZQ=g.createContext(void 0);function zg(t){const e=g.useContext(ZQ);return t||e||"ltr"}var by="rovingFocusGroup.onEntryFocus",eY={bubbles:!1,cancelable:!0},_h="RovingFocusGroup",[Ow,e4,tY]=Wm(_h),[nY,qg]=On(_h,[tY]),[rY,sY]=nY(_h),t4=g.forwardRef((t,e)=>c.jsx(Ow.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Ow.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(iY,{...t,ref:e})})}));t4.displayName=_h;var iY=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,p=g.useRef(null),m=Ve(e,p),_=zg(i),[w,y]=Ki({prop:o,defaultProp:a??null,onChange:l,caller:_h}),[x,b]=g.useState(!1),E=xn(u),C=e4(n),j=g.useRef(!1),[O,S]=g.useState(0);return g.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(by,E),()=>I.removeEventListener(by,E)},[E]),c.jsx(rY,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:w,onItemFocus:g.useCallback(I=>y(I),[y]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(I=>I+1),[]),onFocusableItemRemove:g.useCallback(()=>S(I=>I-1),[]),children:c.jsx(ve.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{j.current=!0}),onFocus:se(t.onFocus,I=>{const P=!j.current;if(I.target===I.currentTarget&&P&&!x){const k=new CustomEvent(by,eY);if(I.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=C().filter(K=>K.focusable),N=D.find(K=>K.active),R=D.find(K=>K.id===w),Q=[N,R,...D].filter(Boolean).map(K=>K.ref.current);s4(Q,f)}}j.current=!1}),onBlur:se(t.onBlur,()=>b(!1))})})}),n4="RovingFocusGroupItem",r4=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ii(),u=i||l,f=sY(n4,n),h=f.currentTabStopId===u,p=e4(n),{onFocusableItemAdd:m,onFocusableItemRemove:_,currentTabStopId:w}=f;return g.useEffect(()=>{if(r)return m(),()=>_()},[r,m,_]),c.jsx(Ow.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(ve.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:se(t.onMouseDown,y=>{r?f.onItemFocus(u):y.preventDefault()}),onFocus:se(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:se(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=lY(y,f.orientation,f.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let E=p().filter(C=>C.focusable).map(C=>C.ref.current);if(x==="last")E.reverse();else if(x==="prev"||x==="next"){x==="prev"&&E.reverse();const C=E.indexOf(y.currentTarget);E=f.loop?cY(E,C+1):E.slice(C+1)}setTimeout(()=>s4(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});r4.displayName=n4;var oY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lY(t,e,n){const r=aY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oY[r]}function s4(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var i4=t4,o4=r4,Mw=["Enter"," "],uY=["ArrowDown","PageUp","Home"],a4=["ArrowUp","PageDown","End"],dY=[...uY,...a4],hY={ltr:[...Mw,"ArrowRight"],rtl:[...Mw,"ArrowLeft"]},fY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bh="Menu",[Rd,pY,mY]=Wm(bh),[wa,l4]=On(bh,[mY,tg,qg]),Hg=tg(),c4=qg(),[gY,xa]=wa(bh),[vY,Eh]=wa(bh),u4=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Hg(e),[l,u]=g.useState(null),f=g.useRef(!1),h=xn(i),p=zg(s);return g.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),c.jsx(Kk,{...a,children:c.jsx(gY,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:c.jsx(vY,{scope:e,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:p,modal:o,children:r})})})};u4.displayName=bh;var yY="MenuAnchor",Sb=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hg(n);return c.jsx(Wk,{...s,...r,ref:e})});Sb.displayName=yY;var Cb="MenuPortal",[wY,d4]=wa(Cb,{forceMount:void 0}),h4=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=xa(Cb,e);return c.jsx(wY,{scope:e,forceMount:n,children:c.jsx(Jn,{present:n||i.open,children:c.jsx(Gm,{asChild:!0,container:s,children:r})})})};h4.displayName=Cb;var Kn="MenuContent",[xY,Nb]=wa(Kn),f4=g.forwardRef((t,e)=>{const n=d4(Kn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=xa(Kn,t.__scopeMenu),o=Eh(Kn,t.__scopeMenu);return c.jsx(Rd.Provider,{scope:t.__scopeMenu,children:c.jsx(Jn,{present:r||i.open,children:c.jsx(Rd.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(_Y,{...s,ref:e}):c.jsx(bY,{...s,ref:e})})})})}),_Y=g.forwardRef((t,e)=>{const n=xa(Kn,t.__scopeMenu),r=g.useRef(null),s=Ve(e,r);return g.useEffect(()=>{const i=r.current;if(i)return ND(i)},[]),c.jsx(kb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bY=g.forwardRef((t,e)=>{const n=xa(Kn,t.__scopeMenu);return c.jsx(kb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),EY=Hl("MenuContent.ScrollLock"),kb=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:_,...w}=t,y=xa(Kn,n),x=Eh(Kn,n),b=Hg(n),E=c4(n),C=pY(n),[j,O]=g.useState(null),S=g.useRef(null),I=Ve(e,S,y.onContentChange),P=g.useRef(0),k=g.useRef(""),D=g.useRef(0),N=g.useRef(null),R=g.useRef("right"),U=g.useRef(0),Q=_?SD:g.Fragment,K=_?{as:EY,allowPinchZoom:!0}:void 0,Z=$=>{var Ie,wt;const W=k.current+$,q=C().filter(nt=>!nt.disabled),H=document.activeElement,X=(Ie=q.find(nt=>nt.ref.current===H))==null?void 0:Ie.textValue,de=q.map(nt=>nt.textValue),le=OY(de,W,X),ue=(wt=q.find(nt=>nt.textValue===le))==null?void 0:wt.ref.current;(function nt(xt){k.current=xt,window.clearTimeout(P.current),xt!==""&&(P.current=window.setTimeout(()=>nt(""),1e3))})(W),ue&&setTimeout(()=>ue.focus())};g.useEffect(()=>()=>window.clearTimeout(P.current),[]),yD();const F=g.useCallback($=>{var q,H;return R.current===((q=N.current)==null?void 0:q.side)&&LY($,(H=N.current)==null?void 0:H.area)},[]);return c.jsx(xY,{scope:n,searchRef:k,onItemEnter:g.useCallback($=>{F($)&&$.preventDefault()},[F]),onItemLeave:g.useCallback($=>{var W;F($)||((W=S.current)==null||W.focus(),O(null))},[F]),onTriggerLeave:g.useCallback($=>{F($)&&$.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:g.useCallback($=>{N.current=$},[]),children:c.jsx(Q,{...K,children:c.jsx(xb,{asChild:!0,trapped:s,onMountAutoFocus:se(i,$=>{var W;$.preventDefault(),(W=S.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:c.jsx(i4,{asChild:!0,...E,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:O,onEntryFocus:se(l,$=>{x.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Gk,{role:"menu","aria-orientation":"vertical","data-state":k4(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:se(w.onKeyDown,$=>{const q=$.target.closest("[data-radix-menu-content]")===$.currentTarget,H=$.ctrlKey||$.altKey||$.metaKey,X=$.key.length===1;q&&($.key==="Tab"&&$.preventDefault(),!H&&X&&Z($.key));const de=S.current;if($.target!==de||!dY.includes($.key))return;$.preventDefault();const ue=C().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);a4.includes($.key)&&ue.reverse(),jY(ue)}),onBlur:se(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(P.current),k.current="")}),onPointerMove:se(t.onPointerMove,Pd($=>{const W=$.target,q=U.current!==$.clientX;if($.currentTarget.contains(W)&&q){const H=$.clientX>U.current?"right":"left";R.current=H,U.current=$.clientX}}))})})})})})})});f4.displayName=Kn;var IY="MenuGroup",Rb=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{role:"group",...r,ref:e})});Rb.displayName=IY;var TY="MenuLabel",p4=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});p4.displayName=TY;var _m="MenuItem",GS="menu.itemSelect",Kg=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=Eh(_m,t.__scopeMenu),a=Nb(_m,t.__scopeMenu),l=Ve(e,i),u=g.useRef(!1),f=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(GS,{bubbles:!0,cancelable:!0});h.addEventListener(GS,m=>r==null?void 0:r(m),{once:!0}),Lx(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(m4,{...s,ref:l,disabled:n,onClick:se(t.onClick,f),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),u.current=!0},onPointerUp:se(t.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:se(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Mw.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Kg.displayName=_m;var m4=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Nb(_m,n),a=c4(n),l=g.useRef(null),u=Ve(e,l),[f,h]=g.useState(!1),[p,m]=g.useState("");return g.useEffect(()=>{const _=l.current;_&&m((_.textContent??"").trim())},[i.children]),c.jsx(Rd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:c.jsx(o4,{asChild:!0,...a,focusable:!r,children:c.jsx(ve.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:se(t.onPointerMove,Pd(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,Pd(_=>o.onItemLeave(_))),onFocus:se(t.onFocus,()=>h(!0)),onBlur:se(t.onBlur,()=>h(!1))})})})}),SY="MenuCheckboxItem",g4=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx(_4,{scope:t.__scopeMenu,checked:n,children:c.jsx(Kg,{role:"menuitemcheckbox","aria-checked":bm(n)?"mixed":n,...s,ref:e,"data-state":Ab(n),onSelect:se(s.onSelect,()=>r==null?void 0:r(bm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});g4.displayName=SY;var v4="MenuRadioGroup",[CY,NY]=wa(v4,{value:void 0,onValueChange:()=>{}}),y4=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=xn(r);return c.jsx(CY,{scope:t.__scopeMenu,value:n,onValueChange:i,children:c.jsx(Rb,{...s,ref:e})})});y4.displayName=v4;var w4="MenuRadioItem",x4=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=NY(w4,t.__scopeMenu),i=n===s.value;return c.jsx(_4,{scope:t.__scopeMenu,checked:i,children:c.jsx(Kg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Ab(i),onSelect:se(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});x4.displayName=w4;var Pb="MenuItemIndicator",[_4,kY]=wa(Pb,{checked:!1}),b4=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=kY(Pb,n);return c.jsx(Jn,{present:r||bm(i.checked)||i.checked===!0,children:c.jsx(ve.span,{...s,ref:e,"data-state":Ab(i.checked)})})});b4.displayName=Pb;var RY="MenuSeparator",E4=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});E4.displayName=RY;var PY="MenuArrow",I4=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hg(n);return c.jsx(Qk,{...s,...r,ref:e})});I4.displayName=PY;var AY="MenuSub",[ree,T4]=wa(AY),wu="MenuSubTrigger",S4=g.forwardRef((t,e)=>{const n=xa(wu,t.__scopeMenu),r=Eh(wu,t.__scopeMenu),s=T4(wu,t.__scopeMenu),i=Nb(wu,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},f=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>f,[f]),g.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),c.jsx(Sb,{asChild:!0,...u,children:c.jsx(m4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":k4(n.open),...t,ref:Km(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,Pd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:se(t.onPointerLeave,Pd(h=>{var m,_;f();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const w=(_=n.content)==null?void 0:_.dataset.side,y=w==="right",x=y?-5:5,b=p[y?"left":"right"],E=p[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:b,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:b,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,h=>{var m;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||hY[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});S4.displayName=wu;var C4="MenuSubContent",N4=g.forwardRef((t,e)=>{const n=d4(Kn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=xa(Kn,t.__scopeMenu),o=Eh(Kn,t.__scopeMenu),a=T4(C4,t.__scopeMenu),l=g.useRef(null),u=Ve(e,l);return c.jsx(Rd.Provider,{scope:t.__scopeMenu,children:c.jsx(Jn,{present:r||i.open,children:c.jsx(Rd.Slot,{scope:t.__scopeMenu,children:c.jsx(kb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:se(t.onFocusOutside,f=>{f.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:se(t.onKeyDown,f=>{var m;const h=f.currentTarget.contains(f.target),p=fY[o.dir].includes(f.key);h&&p&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),f.preventDefault())})})})})})});N4.displayName=C4;function k4(t){return t?"open":"closed"}function bm(t){return t==="indeterminate"}function Ab(t){return bm(t)?"indeterminate":t?"checked":"unchecked"}function jY(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function DY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function OY(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=DY(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function MY(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,f=a.y,h=l.x,p=l.y;f>r!=p>r&&n<(h-u)*(r-f)/(p-f)+u&&(s=!s)}return s}function LY(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return MY(n,e)}function Pd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var VY=u4,FY=Sb,$Y=h4,UY=f4,BY=Rb,zY=p4,qY=Kg,HY=g4,KY=y4,WY=x4,GY=b4,QY=E4,YY=I4,JY=S4,XY=N4,Wg="DropdownMenu",[ZY,see]=On(Wg,[l4]),an=l4(),[eJ,R4]=ZY(Wg),P4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=an(e),u=g.useRef(null),[f,h]=Ki({prop:s,defaultProp:i??!1,onChange:o,caller:Wg});return c.jsx(eJ,{scope:e,triggerId:Ii(),triggerRef:u,contentId:Ii(),open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:a,children:c.jsx(VY,{...l,open:f,onOpenChange:h,dir:r,modal:a,children:n})})};P4.displayName=Wg;var A4="DropdownMenuTrigger",j4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=R4(A4,n),o=an(n);return c.jsx(FY,{asChild:!0,...o,children:c.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Km(e,i.triggerRef),onPointerDown:se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});j4.displayName=A4;var tJ="DropdownMenuPortal",D4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=an(e);return c.jsx($Y,{...r,...n})};D4.displayName=tJ;var O4="DropdownMenuContent",M4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=R4(O4,n),i=an(n),o=g.useRef(!1);return c.jsx(UY,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M4.displayName=O4;var nJ="DropdownMenuGroup",rJ=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(BY,{...s,...r,ref:e})});rJ.displayName=nJ;var sJ="DropdownMenuLabel",L4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(zY,{...s,...r,ref:e})});L4.displayName=sJ;var iJ="DropdownMenuItem",V4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(qY,{...s,...r,ref:e})});V4.displayName=iJ;var oJ="DropdownMenuCheckboxItem",F4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(HY,{...s,...r,ref:e})});F4.displayName=oJ;var aJ="DropdownMenuRadioGroup",lJ=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(KY,{...s,...r,ref:e})});lJ.displayName=aJ;var cJ="DropdownMenuRadioItem",$4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(WY,{...s,...r,ref:e})});$4.displayName=cJ;var uJ="DropdownMenuItemIndicator",U4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(GY,{...s,...r,ref:e})});U4.displayName=uJ;var dJ="DropdownMenuSeparator",B4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(QY,{...s,...r,ref:e})});B4.displayName=dJ;var hJ="DropdownMenuArrow",fJ=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(YY,{...s,...r,ref:e})});fJ.displayName=hJ;var pJ="DropdownMenuSubTrigger",z4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(JY,{...s,...r,ref:e})});z4.displayName=pJ;var mJ="DropdownMenuSubContent",q4=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=an(n);return c.jsx(XY,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});q4.displayName=mJ;var gJ=P4,vJ=j4,yJ=D4,H4=M4,K4=L4,W4=V4,G4=F4,Q4=$4,Y4=U4,J4=B4,X4=z4,Z4=q4;const wJ=gJ,xJ=vJ,_J=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>c.jsxs(X4,{ref:s,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,c.jsx(Ux,{className:"ml-auto h-4 w-4"})]}));_J.displayName=X4.displayName;const bJ=g.forwardRef(({className:t,...e},n)=>c.jsx(Z4,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));bJ.displayName=Z4.displayName;const eO=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(yJ,{children:c.jsx(H4,{ref:r,sideOffset:e,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));eO.displayName=H4.displayName;const tO=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(W4,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));tO.displayName=W4.displayName;const EJ=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>c.jsxs(G4,{ref:s,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Y4,{children:c.jsx(ck,{className:"h-4 w-4"})})}),e]}));EJ.displayName=G4.displayName;const IJ=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Q4,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Y4,{children:c.jsx(xV,{className:"h-2 w-2 fill-current"})})}),e]}));IJ.displayName=Q4.displayName;const TJ=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(K4,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));TJ.displayName=K4.displayName;const SJ=g.forwardRef(({className:t,...e},n)=>c.jsx(J4,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));SJ.displayName=J4.displayName;const Ey=[{code:"ru",name:"Русский",displayCode:"RU"},{code:"en",name:"English",displayCode:"EN"},{code:"ge",name:"ქართული",displayCode:"GE"}],CJ=({currentLanguage:t,onLanguageChange:e})=>{const n=Ey.find(r=>r.code===t)||Ey[0];return c.jsxs(wJ,{children:[c.jsx(xJ,{asChild:!0,children:c.jsx(pe,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-transparent",children:c.jsx("div",{className:"flex items-center justify-center w-8 h-8 border border-crimson/50 hover:border-crimson",children:c.jsx("span",{className:"text-sm font-medium text-crimson",children:n.displayCode})})})}),c.jsx(eO,{align:"end",className:"bg-black/95 border border-crimson/20 p-1 min-w-[60px]",children:Ey.map(r=>c.jsx(tO,{className:`flex justify-center p-2 text-sm cursor-pointer ${t===r.code?"text-crimson":"text-gray-200 hover:text-white"}`,onClick:()=>e(r.code),children:r.displayCode},r.code))})]})},Lw=({isOpen:t,onClose:e})=>{const{t:n,language:r}=$e();return c.jsx($o,{open:t,onOpenChange:s=>!s&&e(),children:c.jsxs(Pi,{className:"sm:max-w-[500px] bg-background",children:[c.jsx(Uo,{children:c.jsx(Bo,{className:"text-2xl font-bold text-center mb-6 text-crimson",children:n("delivery.title")})}),c.jsxs("div",{className:"space-y-6 py-2 px-2",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(T0,{className:"w-6 h-6 mt-1 text-crimson flex-shrink-0"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg mb-1",children:[r==="ru"&&"Доставка по всему Тбилиси",r==="en"&&"Delivery throughout Tbilisi",r==="ge"&&"მიტანა მთელ თბილისში"]}),c.jsxs("p",{className:"text-foreground/90",children:[r==="ru"&&"Цена: 5 лари",r==="en"&&"Price: 5 GEL",r==="ge"&&"ფასი: 5 ლარი"]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(_V,{className:"w-6 h-6 mt-1 text-crimson flex-shrink-0"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg mb-1",children:[r==="ru"&&"Сроки доставки",r==="en"&&"Delivery time",r==="ge"&&"მიტანის ვადები"]}),c.jsxs("p",{className:"text-foreground/90",children:[r==="ru"&&"от 1 до 5 дней",r==="en"&&"1 to 5 days",r==="ge"&&"1 დღიდან 5 დღემდე"]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(pk,{className:"w-6 h-6 mt-1 text-crimson flex-shrink-0"}),c.jsxs("p",{className:"text-foreground/90",children:[r==="ru"&&"Курьер свяжется с вами заранее по указанному номеру телефона",r==="en"&&"The courier will contact you in advance using the provided phone number",r==="ge"&&"კურიერი წინასწარ დაგიკავშირდებათ თქვენს მიერ მითითებულ ტელეფონის ნომერზე"]})]}),c.jsxs("div",{className:"flex items-start gap-4 bg-crimson/10 p-4 rounded-lg border border-crimson/20",children:[c.jsx(fk,{className:"w-6 h-6 mt-1 text-crimson flex-shrink-0"}),c.jsxs("p",{className:"text-foreground/90 font-medium",children:[r==="ru"&&"При заказе от 100 лари - доставка бесплатная!",r==="en"&&"Free delivery for orders over 100 GEL!",r==="ge"&&"100 ლარიდან ზემოთ შეკვეთებზე - მიტანა უფასოა!"]})]})]})]})})},NJ=({onClose:t})=>{const{t:e}=$e(),n=la();return c.jsx("div",{className:"p-4",children:c.jsxs(pe,{type:"button",variant:"outline",className:"w-full bg-white hover:bg-gray-100 text-gray-800 hover:text-gray-900",onClick:async()=>{try{await n.signInWithGoogle(),t()}catch(r){console.error("Google sign in failed:",r)}},children:[c.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",children:c.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[c.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.28426 53.749 C -8.52426 55.229 -9.24426 56.479 -10.4643 57.329 L -10.4643 60.609 L -6.39927 60.609 C -4.15927 58.619 -3.264 55.409 -3.264 51.509 Z"}),c.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.86 60.609 L -10.465 57.329 C -11.425 58.049 -12.745 58.489 -14.254 58.489 C -17.204 58.489 -19.654 56.379 -20.424 53.529 L -24.464 53.529 L -24.464 56.958 C -22.514 60.819 -18.924 63.239 -14.754 63.239 Z"}),c.jsx("path",{fill:"#FBBC05",d:"M -20.424 53.529 C -20.814 52.249 -21.024 50.879 -21.024 49.499 C -21.024 48.119 -20.814 46.749 -20.324 45.469 L -20.324 42.04 L -24.464 42.04 C -25.934 44.98 -26.664 48.199 -26.664 51.499 C -26.664 54.799 -25.934 58.019 -24.464 60.958 L -20.424 57.499 C -20.814 56.249 -21.024 54.879 -21.024 53.499"}),c.jsx("path",{fill:"#EA4335",d:"M -14.754 44.509 C -12.984 44.509 -11.404 45.069 -10.084 46.099 L -6.768 42.819 C -8.898 40.889 -11.664 39.759 -14.754 39.759 C -18.924 39.759 -22.514 42.179 -24.464 46.04 L -20.324 49.469 C -19.554 46.619 -17.104 44.509 -14.754 44.509 Z"})]})}),e("auth.google")||"Sign in with Google"]})})},Br=()=>{var D;const{t,language:e,setLanguage:n}=$e(),{cart:r,calculateTotal:s,calculateDiscount:i,isFreeDelivery:o,calculateTotalWithDiscount:a,addToCart:l}=Gi(),[u,f]=g.useState(!1);g.useState(!1);const[h,p]=g.useState(!1);g.useState(!1);const[m,_]=g.useState(!1),[w,y]=g.useState(!1),[x,b]=g.useState(!1);s(),i();const{favorites:E,removeFromFavorites:C}=Vg(),j=Pr(),O=la(),{user:S}=O,I=yc();l_(),g.useEffect(()=>{if(S){const R=ZD(S.uid).find(U=>U.type==="review"&&!U.isUsed);_(!!R)}},[S]);const P=E.map(N=>j.find(U=>U.id===N.productId)).filter(N=>N!==void 0),k=r.reduce((N,R)=>N+R.quantity,0);return c.jsxs("nav",{className:"sticky top-0 z-50 w-full border-b bg-black shadow-sm h-[5.5rem]",children:[c.jsxs("div",{className:"container flex h-full items-center",children:[c.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[c.jsxs(De,{to:"/",className:"group relative flex items-center gap-3 focus:outline-none","aria-label":t("nav.home"),children:[c.jsxs("div",{className:"relative overflow-hidden rounded-full transition-all duration-300 group-hover:shadow-[0_0_20px_rgba(234,56,76,0.6)] transform-gpu",children:[c.jsx("img",{src:"/lovable-uploads/nekos-logo.jpeg",alt:"NEKOSHOP Logo",className:"h-[4.4rem] w-[4.4rem] object-cover rounded-full transition-all duration-500 group-hover:scale-110 group-hover:rotate-2","aria-hidden":"true"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent group-hover:border-crimson/60 transition-all duration-300 group-hover:shadow-inner"}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-transparent via-transparent to-crimson/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("h1",{className:"text-[2.2rem] md:text-4xl font-bold tracking-tight relative font-medieval",children:[c.jsx("span",{className:"text-crimson transition-all duration-300 group-hover:text-red-400","aria-hidden":"true",children:"NEKO"}),c.jsx("span",{className:"text-white transition-all duration-300 group-hover:text-gray-200","aria-hidden":"true",children:"SHOP"}),c.jsxs("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:[c.jsx("span",{className:"text-crimson animate-[pulse_1.5s_ease-in-out_infinite] drop-shadow-[0_0_8px_rgba(234,56,76,0.7)]",children:"NEKO"}),c.jsx("span",{className:"text-white animate-[pulse_1.5s_ease-in-out_0.2s_infinite] drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]",children:"SHOP"})]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-crimson transition-all duration-300 group-hover:w-full"}),c.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-crimson/20"}),c.jsx("span",{className:"sr-only",children:"Home"})]})]}),c.jsx("nav",{"aria-label":t("nav.main"),children:c.jsx("ul",{className:"hidden md:flex items-center list-none p-0 m-0 space-x-1",children:[{type:"link",to:"/shop",icon:c.jsx(Uv,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("nav.shop")},{type:"button",onClick:()=>f(!0),icon:c.jsx(T0,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("cart.delivery").replace(":","")},{type:"link",to:"/about",icon:c.jsx(SV,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("home.our_story")},{type:"link",to:"/contact",icon:c.jsx(pk,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("nav.contact")},{type:"link",to:"/faq",icon:c.jsx(RV,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("nav.faq")}].map((N,R)=>c.jsx("li",{className:"relative",children:N.type==="link"?c.jsxs(De,{to:N.to,className:"relative flex items-center gap-2 px-5 py-4 text-[1.05em] font-medium group",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-2 text-white/90 group-hover:text-white transition-colors duration-200",children:[N.icon,c.jsx("span",{className:"font-sans",style:{fontFamily:'"Noto Sans Georgian", sans-serif'},children:N.text})]}),c.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-crimson/20"}),c.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-crimson transition-all duration-300 group-hover:w-full"})]}):c.jsxs("button",{onClick:N.onClick,className:"relative flex items-center gap-2 px-5 py-4 text-[1.05em] font-medium group w-full text-left",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-2 text-white/90 group-hover:text-white transition-colors duration-200",children:[N.icon,c.jsx("span",{className:"font-sans",style:{fontFamily:'"Noto Sans Georgian", sans-serif'},children:N.text})]}),c.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-crimson/20"}),c.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-crimson transition-all duration-300 group-hover:w-full"})]})},R))})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(CJ,{currentLanguage:e,onLanguageChange:N=>n(N)}),c.jsxs($o,{open:w,onOpenChange:y,children:[c.jsx(lp,{asChild:!0,children:c.jsxs(pe,{variant:"ghost",className:"relative group/promo h-12 px-4 py-3 focus:outline-none transition-all duration-300 overflow-hidden","aria-label":t("promo.have_code"),children:[c.jsxs("div",{className:"absolute inset-0 rounded-lg overflow-hidden p-[1.5px]",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-crimson via-pink-500 to-crimson bg-[length:200%_100%] animate-gradient-xy rounded-lg opacity-100 transition-all duration-500 group-hover:opacity-90"}),c.jsx("div",{className:"absolute inset-[1.5px] bg-gray-950/95 rounded-lg backdrop-blur-sm transition-all duration-300 group-hover:bg-gray-900/95"})]}),c.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(fk,{className:"w-5 h-5 flex-shrink-0 relative z-10 transition-all duration-300 group-hover/promo:scale-110 group-hover/promo:rotate-[-15deg] text-crimson-300"}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-crimson/40 animate-pulse blur-[2px]"})]}),c.jsxs("span",{className:"text-sm font-medium whitespace-nowrap hidden md:inline-block relative",children:[c.jsx("span",{className:"relative z-10 text-crimson-200 group-hover/promo:text-white transition-all duration-300 text-xl font-bold",children:"!"}),c.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[2px] bg-gradient-to-r from-crimson to-pink-500 transition-all duration-300 group-hover/promo:w-full"})]})]}),c.jsxs("div",{className:"absolute inset-0 -z-10 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-crimson/10 via-pink-500/10 to-crimson/10 opacity-0 group-hover/promo:opacity-100 transition-opacity duration-300"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(220,38,38,0.15)_70%,transparent_100%)] opacity-0 group-hover/promo:opacity-100 transition-opacity duration-500"})]}),c.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full bg-crimson blur-[2px] animate-ping-slow"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-crimson/5 to-transparent opacity-0 group-hover/promo:opacity-100 transition-opacity duration-300"})]})}),c.jsxs(Pi,{className:"sm:max-w-[500px] bg-gradient-to-br from-gray-900 to-black border border-crimson/50 overflow-hidden shadow-2xl",children:[c.jsx("div",{className:"absolute -top-20 -right-20 w-60 h-60 bg-crimson/10 rounded-full filter blur-3xl animate-pulse"}),c.jsx("div",{className:"absolute -bottom-20 -left-20 w-60 h-60 bg-crimson/5 rounded-full filter blur-3xl animate-pulse",style:{animationDelay:"1s",animationDuration:"4s"}}),c.jsx(Uo,{children:c.jsx(Bo,{className:"text-2xl font-bold bg-gradient-to-r from-crimson to-pink-500 bg-clip-text text-transparent",children:t("promo.want_discount")})}),c.jsxs("div",{className:"relative z-10 space-y-6 py-2",children:[c.jsx("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-xl border border-crimson/30",children:c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{type:"text",placeholder:t("nav.enter_promo"),className:"flex-1 px-4 py-3 bg-gray-900/80 border border-crimson/30 rounded-lg text-white placeholder-crimson-200/50 focus:outline-none focus:ring-2 focus:ring-crimson/50 focus:border-crimson/50 transition-all duration-300"}),c.jsx(pe,{className:"ml-3 bg-gradient-to-r from-crimson to-crimson/80 hover:from-crimson hover:to-crimson/90 transition-all duration-300 transform hover:scale-105 active:scale-95 px-6 font-medium shadow-lg shadow-crimson/20",children:t("common.apply")})]})}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"p-5 bg-black/30 rounded-xl border border-crimson/20 hover:border-crimson/30 transition-colors",children:[c.jsx("h3",{className:"text-lg font-semibold text-crimson-200 mb-3",children:t("promo.social_codes")}),c.jsx("p",{className:"text-crimson-100/90 mb-4 text-sm leading-relaxed",children:t("promo.follow_us_for_discounts")}),c.jsxs("div",{className:"flex gap-4 mt-4",children:[c.jsxs("a",{href:"https://www.facebook.com/NekosShopy",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-blue-600/20 hover:bg-blue-600/30 transition-all duration-300 group border border-blue-500/30","aria-label":t("promo.facebook"),target:"_blank",rel:"noopener noreferrer",children:[c.jsx("svg",{className:"w-5 h-5 text-blue-300 group-hover:text-blue-200 transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium text-white",children:t("promo.facebook")})]}),c.jsxs("a",{href:"https://www.instagram.com/nekosshop/",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-gradient-to-br from-pink-600/20 to-purple-600/20 hover:from-pink-600/30 hover:to-purple-600/30 transition-all duration-300 group border border-pink-500/30","aria-label":t("promo.instagram"),target:"_blank",rel:"noopener noreferrer",children:[c.jsx("svg",{className:"w-5 h-5 text-pink-300 group-hover:text-pink-200 transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.415-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.067-.06-1.407-.06-4.123v-.08c0-2.643.012-2.987.06-4.043.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.976.045-1.505.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.352-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.976.207 1.505.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.352.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.352.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium text-white",children:t("promo.instagram")})]})]})]}),c.jsxs("div",{className:"p-5 bg-black/30 rounded-xl border border-crimson/20 hover:border-crimson/30 transition-colors",children:[c.jsxs("h3",{className:"text-lg font-semibold text-crimson-200 mb-4 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-crimson-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"})}),t("promo.discount_info_title")]}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("p",{className:"text-crimson-100 flex items-start",children:[c.jsx("span",{className:"text-crimson-300 font-medium mr-2",children:"•"}),c.jsx("span",{children:t("promo.over_500")})]}),c.jsxs("p",{className:"text-crimson-100 flex items-start",children:[c.jsx("span",{className:"text-crimson-300 font-medium mr-2",children:"•"}),c.jsx("span",{children:t("promo.over_200")})]}),c.jsxs("p",{className:"text-crimson-100 flex items-start",children:[c.jsx("span",{className:"text-crimson-300 font-medium mr-2",children:"•"}),c.jsx("span",{children:t("promo.over_100")})]})]})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 w-16 h-16 bg-crimson/10 rounded-full filter blur-xl opacity-70"}),c.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-24 h-24 bg-crimson/5 rounded-full filter blur-xl opacity-50"})]})]}),c.jsxs($o,{children:[c.jsx(lp,{asChild:!0,children:c.jsxs(pe,{variant:"ghost",className:"h-12 px-4 py-3 relative rounded-sm border-r text-white/90 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-crimson focus:ring-offset-2 focus:ring-offset-gray-900","aria-label":`${t("nav.cart")} (${k} ${t(k===1?"cart.item":"cart.items")})`,"aria-expanded":!1,children:[c.jsx(fi,{className:"w-5 h-5","aria-hidden":"true"}),k>0&&c.jsx(MS,{variant:"secondary",className:"absolute -top-2 -right-2 bg-crimson text-white","aria-hidden":"true",children:k}),c.jsx("span",{className:"sr-only",children:k>0?`${k} ${t(k===1?"cart.item":"cart.items")} in cart`:t("nav.cart")})]})}),c.jsxs(Pi,{className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[95vw] max-w-4xl max-h-[90vh] overflow-hidden bg-gradient-to-br from-gray-900 to-black border-2 border-crimson/30 rounded-xl shadow-2xl shadow-crimson/20 backdrop-blur-sm",children:[c.jsxs("div",{className:"absolute inset-0 -z-10",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-crimson/10 rounded-full filter blur-3xl -translate-y-1/3 translate-x-1/3"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-black/30 rounded-full filter blur-3xl translate-y-1/3 -translate-x-1/3"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(220,38,38,0.1)_0%,rgba(0,0,0,0.8)_100%)] opacity-50"})]}),c.jsx(Uo,{className:"border-b border-crimson/20 pb-4 px-6 relative z-10",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(fi,{className:"w-6 h-6 text-crimson mr-2"}),c.jsx(Bo,{className:"text-2xl font-bold bg-gradient-to-r from-crimson to-rose-500 bg-clip-text text-transparent",children:t("cart.title")}),r.length>0&&c.jsxs("span",{className:"ml-3 text-sm font-medium px-2.5 py-0.5 rounded-full bg-crimson/10 text-crimson-300 border border-crimson/20",children:[k," ",t(k===1?"cart.item":"cart.items")]})]})}),c.jsx("div",{className:"overflow-y-auto max-h-[60vh] pr-2 -mr-2 relative z-10",children:r.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-6 text-center relative overflow-hidden rounded-xl m-4 bg-gradient-to-br from-gray-900/80 to-black/70 border border-gray-800/50",children:[c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(220,38,38,0.1)_0%,transparent_70%)] opacity-60"}),c.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-crimson/5 rounded-full filter blur-3xl"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"relative inline-flex",children:[c.jsx("div",{className:"absolute inset-0 bg-crimson/20 rounded-full blur-md animate-pulse"}),c.jsx("div",{className:"relative p-4 bg-black/50 border border-crimson/30 rounded-full backdrop-blur-sm",children:c.jsx(fi,{className:"w-10 h-10 text-crimson/80"})})]}),c.jsx("h3",{className:"text-2xl font-bold text-white mt-6 mb-3 bg-gradient-to-r from-crimson to-rose-400 bg-clip-text text-transparent",children:t("cart.empty")}),c.jsx("p",{className:"text-gray-400 max-w-md mb-8 leading-relaxed",children:t("cart.empty_description")}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(pe,{className:"bg-gradient-to-r from-crimson to-rose-600 hover:from-crimson/90 hover:to-rose-600/90 text-white shadow-lg hover:shadow-xl shadow-crimson/20 hover:shadow-crimson/30 transition-all duration-300 transform hover:-translate-y-0.5 group",onClick:()=>{const N=document.querySelector('[role="dialog"]');N&&N.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape"})),I("/shop")},children:[c.jsx(Uv,{className:"w-4 h-4 mr-2 group-hover:scale-110 transition-transform"}),t("cart.continue_shopping")]}),c.jsxs(pe,{variant:"outline",className:"border-gray-700 text-gray-300 hover:bg-gray-800/50 hover:text-white hover:border-gray-600 transition-colors duration-200 group",onClick:()=>{const N=document.querySelector('[role="dialog"]');N&&N.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape"})),I("/deals")},children:[c.jsx(LV,{className:"w-4 h-4 mr-2 text-amber-400 group-hover:rotate-12 transition-transform"}),t("nav.deals")]})]})]})]}):c.jsx("div",{className:"space-y-3 p-2",children:r.map(N=>c.jsx("div",{className:"transition-all duration-200 hover:shadow-lg hover:shadow-crimson/5",children:c.jsx(FG,{item:N})},N.product.id))})}),r.length>0&&c.jsxs("div",{className:"relative z-10 border-t border-crimson/20 pt-6 pb-1 px-6 bg-gradient-to-b from-gray-900/80 to-black/80 rounded-b-xl",children:[c.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-crimson/30 to-transparent"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("span",{className:"text-gray-400",children:[t("cart.subtotal"),":"]}),c.jsxs("span",{className:"font-medium text-white",children:[r.reduce((N,R)=>N+R.product.price*R.quantity,0).toFixed(2)," ","₾"]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("div",{className:"group flex items-center gap-2 px-4 py-2 h-auto bg-gradient-to-r from-gray-900/70 to-black/70 border border-crimson/20 rounded-lg w-full justify-between cursor-default",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(T0,{className:"w-4 h-4 text-crimson-300"}),c.jsx("span",{className:"text-gray-200",children:t("cart.delivery")})]}),c.jsx("span",{className:`font-medium ${r.reduce((N,R)=>N+R.product.price*R.quantity,0)>=100?"text-green-400":"text-amber-400"}`,children:r.reduce((N,R)=>N+R.product.price*R.quantity,0)>=100?t("cart.free"):"5 ₾"})]}),(()=>{const N=r.reduce((R,U)=>R+U.product.price*U.quantity,0);if(N>=500){const R=N*.1;return c.jsxs("div",{className:"flex justify-between items-center text-sm bg-gradient-to-r from-green-900/20 to-transparent p-2 rounded-lg border border-green-900/30",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(HE,{className:"w-3.5 h-3.5 text-green-400"}),c.jsx("span",{className:"text-green-300",children:"Premium Discount (10%)"})]}),c.jsxs("span",{className:"font-medium text-green-300",children:["-",R.toFixed(2)," ₾"]})]})}else if(N>=200){const R=N*.05;return c.jsxs("div",{className:"flex justify-between items-center text-sm bg-gradient-to-r from-green-900/20 to-transparent p-2 rounded-lg border border-green-900/30",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(HE,{className:"w-3.5 h-3.5 text-green-400"}),c.jsx("span",{className:"text-green-300",children:"Loyalty Discount (5%)"})]}),c.jsxs("span",{className:"font-medium text-green-300",children:["-",R.toFixed(2)," ₾"]})]})}return null})()]})]}),c.jsxs("div",{className:"flex justify-between items-center pt-4 mt-2 border-t border-gray-800/70",children:[c.jsxs("span",{className:"text-lg font-bold text-white",children:[t("cart.total"),":"]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("span",{className:"text-2xl font-extrabold bg-gradient-to-r from-crimson via-rose-500 to-pink-500 bg-clip-text text-transparent",children:[(()=>{const N=r.reduce((U,Q)=>U+Q.product.price*Q.quantity,0);let R=N;return N<100?R+=5:N>=500?R=N*.9:N>=200&&(R=N*.95),Math.round(R*100)/100})().toFixed(2)," ","₾"]}),r.reduce((N,R)=>N+R.product.price*R.quantity,0)<100&&c.jsxs("span",{className:"text-xs text-amber-400 mt-1",children:["+5₾ ",t("cart.delivery_fee")," (Free over 100₾)"]})]})]}),c.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[c.jsxs(pe,{className:"group w-full bg-gradient-to-r from-crimson to-rose-600 hover:from-crimson/90 hover:to-rose-600/90 text-white py-3.5 text-base font-bold shadow-lg hover:shadow-xl shadow-crimson/20 hover:shadow-crimson/30 transition-all duration-300 transform hover:-translate-y-0.5",size:"lg",onClick:()=>{const N=document.querySelector('[role="dialog"]');N&&N.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape"})),I("/checkout")},children:[c.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[c.jsx("span",{className:"mr-2",children:t("cart.checkout")}),c.jsx(lk,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),c.jsx("span",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(255,255,255,0.1)_70%,transparent_100%)] opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),c.jsxs(pe,{variant:"outline",className:"group w-full bg-gray-900/50 border-gray-800 text-gray-300 hover:bg-gray-800/80 hover:text-white hover:border-crimson/40 transition-all duration-200 flex items-center justify-center",onClick:()=>{const N=document.querySelector('[role="dialog"]');N&&N.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape"})),I("/shop")},children:[c.jsx(Uv,{className:"w-4 h-4 mr-2 text-crimson-300 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"text-gray-200",children:t("checkout.continue_shopping")})]})]})]})]})]})]}),c.jsxs($Q,{children:[c.jsx(UQ,{asChild:!0,children:c.jsxs(pe,{variant:"ghost",className:"h-12 px-4 py-3 relative rounded-sm border-l text-white/90 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-crimson focus:ring-offset-2 focus:ring-offset-gray-900","aria-label":`${t("nav.favorites")} (${E.length} ${E.length===1?t("favorites.item"):t("favorites.items")})`,"aria-expanded":!1,children:[c.jsx(hl,{className:"w-5 h-5","aria-hidden":"true"}),E.length>0&&c.jsx(MS,{variant:"secondary",className:"ml-2 bg-crimson text-white","aria-hidden":"true",children:E.length}),c.jsx("span",{className:"sr-only",children:E.length>0?`${E.length} ${E.length===1?t("favorites.item"):t("favorites.items")} in ${t("nav.favorites").toLowerCase()}`:t("nav.favorites")})]})}),c.jsxs(GD,{className:"w-full sm:max-w-xl bg-gradient-to-b from-gray-950 via-black/95 to-gray-950 border-l border-crimson/20 flex flex-col h-screen max-h-screen",children:[c.jsx(QD,{className:"border-b border-crimson/20 pb-4",children:c.jsxs(YD,{className:"text-white text-2xl font-bold",children:[c.jsx("span",{className:"text-crimson",children:t("favorites.title")}),E.length>0&&c.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",E.length," ",E.length===1?t("favorites.item"):t("favorites.items"),")"]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 favorites-scrollbar",style:{scrollBehavior:"smooth",msOverflowStyle:"none",scrollbarWidth:"thin",scrollbarColor:"rgba(220, 38, 38, 0.4) rgba(220, 38, 38, 0.1)",height:"100%",padding:"1.5rem 0.5rem 1rem 0",WebkitOverflowScrolling:"touch"},children:[c.jsx("style",{children:`
                  @keyframes fadeInUp {
                    0% {
                      opacity: 0;
                      transform: translateY(10px);
                    }
                    100% {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                  
                  /* Custom scrollbar for WebKit browsers */
                  .favorites-scrollbar::-webkit-scrollbar {
                    width: 6px;
                    height: 6px;
                  }
                  .favorites-scrollbar::-webkit-scrollbar-track {
                    background: rgba(220, 38, 38, 0.1);
                    border-radius: 3px;
                  }
                  .favorites-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(220, 38, 38, 0.4);
                    border-radius: 3px;
                  }
                  .favorites-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(220, 38, 38, 0.6);
                  }
                  
                  /* For Firefox */
                  .favorites-scrollbar {
                    scrollbar-width: thin;
                    scrollbar-color: rgba(220, 38, 38, 0.4) rgba(220, 38, 38, 0.1);
                  }`}),E.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[c.jsx(hl,{className:"w-12 h-12 text-crimson/30 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:t("favorites.empty_title",{defaultValue:"Your favorites list is empty"})}),c.jsx("p",{className:"text-gray-400 max-w-xs mb-6",children:t("favorites.empty_description",{defaultValue:"Add items to your favorites and they will appear here"})}),c.jsx(De,{to:"/shop",children:c.jsx(pe,{variant:"outline",className:"border-crimson/30 text-crimson hover:bg-crimson/10 hover:border-crimson/50",onClick:()=>document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape"})),children:t("favorites.browse_shop",{defaultValue:"Browse Shop"})})})]}):c.jsx("div",{className:"flex flex-col h-full -mt-1 -mx-1",children:P.map((N,R)=>c.jsxs("div",{className:"group relative flex gap-2 p-0 rounded-lg bg-gradient-to-r from-gray-900/90 via-gray-900/80 to-gray-900/60 hover:from-gray-900 hover:via-gray-900/90 hover:to-gray-900/70 transition-all duration-300 border border-crimson/10 hover:border-crimson/30 backdrop-blur-sm h-[calc(6rem*1.05)] m-0.5",style:{opacity:0,transform:"translateY(10px)",animation:`fadeInUp 0.3s ease-out forwards ${R*.05}s`,willChange:"opacity, transform",transition:"opacity 0.3s ease, transform 0.3s ease, border-color 0.3s ease",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},onClick:U=>{U.target.closest("button")||I(`/product/${N.id}`)},children:[c.jsx(De,{to:`/product/${N.id}`,className:"flex-shrink-0 w-24 h-full rounded-l-md overflow-hidden bg-gray-700/50",children:N.images&&N.images.length>0?c.jsx("img",{src:N.images[0],alt:N.name[e],className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:U=>{const Q=U.target;Q.src="/placeholder-product.jpg"}}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 p-2",children:c.jsx("span",{className:"text-xs text-gray-400 text-center",children:t("product.no_image")})})}),c.jsxs("div",{className:"flex-1 min-w-0 p-2 flex flex-col h-full justify-between",children:[c.jsxs("div",{children:[c.jsx(De,{to:`/product/${N.id}`,className:"block font-semibold text-white hover:text-crimson transition-colors text-[1.1rem] leading-tight line-clamp-2 mb-1",title:N.name[e],style:{fontSize:"calc(1rem * 1.1)"},onClick:U=>U.stopPropagation(),children:N.name[e]}),c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsxs("span",{className:"text-crimson font-bold whitespace-nowrap",style:{fontSize:"calc(1.125rem * 1.1)"},children:[N.price," ₾"]}),N.stock===0&&c.jsx("span",{className:"text-xs text-amber-400 bg-amber-900/30 px-2 py-0.5 rounded-full",children:t("product.out_of_stock")})]})]}),c.jsxs("div",{className:"mt-auto flex justify-between items-end",children:[c.jsxs(pe,{variant:"outline",size:"sm",className:"h-8 text-xs border-crimson/20 text-crimson hover:bg-crimson/10 hover:border-crimson/40 transition-colors group/remove",onClick:U=>{U.preventDefault(),U.stopPropagation(),C(N.id)},children:[c.jsx(hl,{className:"w-3.5 h-3.5 mr-1.5 fill-current group-hover/remove:hidden"}),c.jsx(EV,{className:"w-3.5 h-3.5 mr-1.5 hidden group-hover/remove:block text-red-400"}),t("favorites.remove")]}),c.jsxs(pe,{variant:"outline",size:"sm",className:"h-8 text-xs border-crimson/20 text-crimson hover:bg-crimson/10 hover:border-crimson/40 transition-colors group/add",onClick:U=>{U.preventDefault(),U.stopPropagation(),l(N)},disabled:N.stock===0,children:[c.jsx(fi,{className:"w-3.5 h-3.5 mr-1.5"}),t("product.add_to_cart")]})]})]})]},N.id))})]})]})]}),O.user?c.jsxs(De,{to:"/profile",className:"flex items-center gap-2 group p-1 pr-4 rounded-full transition-colors hover:bg-gray-800/50",children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-black border-2 border-crimson/50 overflow-hidden flex items-center justify-center group-hover:border-crimson transition-all duration-300 shadow-[0_0_10px_rgba(220,38,38,0.3)] hover:shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:(D=O.user)!=null&&D.photoURL?c.jsxs(c.Fragment,{children:[c.jsx("img",{src:O.user.photoURL,alt:"",className:"w-full h-full object-cover",onError:N=>{var Q;console.error("Error loading user photo:",{photoURL:(Q=O.user)==null?void 0:Q.photoURL,user:O.user,error:N});const R=N.target;R.style.display="none";const U=R.nextElementSibling;U&&(U.style.display="flex")},onLoad:N=>{var R;console.log("Successfully loaded user photo:",{photoURL:(R=O.user)==null?void 0:R.photoURL,naturalWidth:N.target.naturalWidth,naturalHeight:N.target.naturalHeight})},crossOrigin:"anonymous","aria-hidden":"true"}),c.jsx("div",{className:"absolute inset-0 hidden items-center justify-center bg-gray-800",children:c.jsx(Bf,{className:"w-5 h-5 text-crimson"})})]}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(Bf,{className:"w-5 h-5 text-gray-300"})})})}),c.jsx("div",{className:"hidden md:flex items-center",children:c.jsx("span",{className:"text-sm font-medium text-white group-hover:text-crimson transition-colors tracking-wider",children:t("nav.profile").toUpperCase()})})]}):c.jsxs($o,{open:x,onOpenChange:N=>b(N),children:[c.jsx(lp,{asChild:!0,children:c.jsx(pe,{variant:"ghost",size:"icon",className:"relative h-10 w-10 p-0 rounded-full border-2 border-crimson/50 hover:border-crimson focus:outline-none focus:ring-2 focus:ring-crimson focus:ring-offset-2 focus:ring-offset-gray-900 overflow-hidden transition-all duration-300 shadow-[0_0_10px_rgba(220,38,38,0.3)] hover:shadow-[0_0_15px_rgba(220,38,38,0.5)]","aria-label":t("auth.sign_in"),children:c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black rounded-full group-hover:bg-gray-900 transition-colors duration-300",children:c.jsx(Bf,{className:"w-5 h-5 text-crimson group-hover:scale-110 transition-transform duration-300"})})})}),c.jsxs(Pi,{className:"sm:max-w-[425px] bg-black/95 border-crimson/20",children:[c.jsx(Uo,{children:c.jsx(Bo,{className:"text-white",children:t("auth.sign_in")})}),c.jsx(NJ,{onClose:()=>b(!1)}),c.jsx(XD,{})]})]})]})]}),c.jsx(XQ,{isOpen:h,onClose:()=>p(!1)}),c.jsx(Lw,{isOpen:u,onClose:()=>f(!1)}),c.jsx(Lw,{isOpen:u,onClose:()=>f(!1)})]})},zr=()=>{const{t}=$e(),[e,n]=g.useState(!1);return c.jsxs("footer",{className:"bg-card border-t border-border mt-16",children:[c.jsxs("div",{className:"container mx-auto py-10 px-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/lovable-uploads/nekos-logo.jpeg",alt:"Neko mini logo",className:"h-8 w-8"}),c.jsxs("h3",{className:"text-xl font-bold tracking-tighter",children:[c.jsx("span",{className:"text-crimson",children:"NEKO"}),c.jsx("span",{className:"text-black",children:"."}),c.jsx("span",{className:"text-white",children:"shop"})]})]}),c.jsx("p",{className:"text-sm text-foreground/80",children:t("footer.alternative_jewelry")})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-bold",children:t("footer.shop")}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(De,{to:"/shop",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.all_products")})}),c.jsx("li",{children:c.jsx(De,{to:"/category/bracelets",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.bracelets")})}),c.jsx("li",{children:c.jsx(De,{to:"/category/necklaces",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.necklaces")})}),c.jsx("li",{children:c.jsx(De,{to:"/category/rings",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.rings")})}),c.jsx("li",{children:c.jsx(De,{to:"/category/candles",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.candles")})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-bold",children:t("footer.company")}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(De,{to:"/about",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.about_us")})}),c.jsx("li",{children:c.jsx(De,{to:"/contact",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.contact")})}),c.jsx("li",{children:c.jsx(De,{to:"/faq",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.faq")})}),c.jsx("li",{children:c.jsx("button",{type:"button",onClick:()=>n(!0),className:"text-foreground/80 hover:text-crimson transition w-full text-left",children:t("footer.shipping")})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-bold",children:t("footer.info")}),c.jsx("div",{className:"space-y-2 text-foreground/80",children:c.jsx("p",{children:t("footer.handmade")})})]})]}),c.jsx("div",{className:"border-t border-border mt-8 pt-6 text-center text-sm text-foreground/60",children:c.jsxs("p",{children:["© ",new Date().getFullYear()," NEKO.shop. All rights reserved."]})})]}),c.jsx(Lw,{isOpen:e,onClose:()=>n(!1)})]})},Bu=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Bu.displayName="Card";const up=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));up.displayName="CardHeader";const dp=g.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));dp.displayName="CardTitle";const hp=g.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));hp.displayName="CardDescription";const fp=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));fp.displayName="CardContent";const kJ=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));kJ.displayName="CardFooter";const nO="productViews",rO=()=>{if(typeof window>"u")return[];try{const t=localStorage.getItem(nO);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading from localStorage:",t),[]}},sO=t=>{if(!(typeof window>"u"))try{localStorage.setItem(nO,JSON.stringify(t))}catch(e){console.error("Error saving to localStorage:",e)}},RJ=t=>{if(typeof window>"u")return;const e=Date.now(),n=e-24*60*60*1e3;let r=rO();r=r.filter(i=>i.timestamp>n);let s=r.find(i=>i.productId===t);s?(s.count+=1,s.timestamp=e):(s={productId:t,timestamp:e,count:1},r.push(s)),sO(r)},QS=()=>{if(typeof window>"u")return;const t=Date.now()-24*60*60*1e3,e=rO(),n=e.filter(r=>r.timestamp>t);n.length!==e.length&&sO(n)};typeof window<"u"&&(QS(),setInterval(QS,60*60*1e3));const Em=({category:t="",featured:e=!1,id:n,name:r,materials:s=[],colors:i=[],description:o,price:a,currency:l,images:u,stock:f,onAddToCart:h,originalPrice:p})=>{const{t:m,language:_}=$e(),{cart:w,addToCart:y}=Gi(),{isInFavorites:x,addToFavorites:b,removeFromFavorites:E}=Vg(),C=w.find(k=>k.product.id===n),j=(C==null?void 0:C.quantity)||0,O=f-j,S=O<=0,[I,P]=g.useState(!1);return g.useEffect(()=>{RJ(n)},[n]),g.useEffect(()=>{const k=()=>{P(gl.checkInterest(n))};k();const D=setInterval(k,3e4);return()=>clearInterval(D)},[n]),c.jsx("div",{className:"h-full",children:c.jsx(Bu,{className:`product-card bg-card border-2 border-border overflow-hidden h-full flex flex-col ${S?"opacity-75":""}`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(De,{to:`/product/${n}`,className:"block flex-shrink-0",children:c.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted group",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-5 z-0",children:c.jsx(ws,{className:"w-40 h-40"})}),c.jsx("div",{className:"relative w-full h-full",children:c.jsx("img",{src:u[0],alt:r[_],className:`object-cover w-full h-full transition-transform duration-300 ${S?"":"group-hover:scale-105"} relative z-1`})}),c.jsx("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),x(n)?E(n):b(n)},className:"absolute top-2 left-2 z-10 p-2 rounded-full bg-background/80 backdrop-blur-sm hover:bg-background/90 transition-colors",children:c.jsx(hl,{className:`w-5 h-5 ${x(n)?"fill-crimson text-crimson":"text-foreground/60"}`})}),c.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col gap-2",children:[S?c.jsx("span",{className:"bg-background/80 backdrop-blur-sm text-foreground/80 text-xs px-2 py-1 rounded",children:m("product.out_of_stock")}):c.jsxs("span",{className:"bg-background/80 backdrop-blur-sm text-crimson text-xs px-2 py-1 rounded",children:[m("product.in_stock")," ",O]}),I&&!S&&c.jsx("span",{className:"bg-background/80 backdrop-blur-sm text-amber-500 text-xs px-2 py-1 rounded animate-pulse",children:m("product.in_cart")})]})]})}),c.jsx("div",{className:"p-4 pb-2",children:c.jsx(De,{to:`/product/${n}`,className:"block",children:c.jsx("h3",{className:"text-xl font-bold text-crimson",children:r[_]})})}),c.jsx("div",{className:"px-4 py-2 flex-grow",children:c.jsx("p",{className:"text-sm text-foreground/80 line-clamp-3",children:o[_]})}),c.jsxs("div",{className:"p-4 pt-2 flex flex-col gap-3",children:[c.jsx("div",{className:"flex items-center gap-2",children:p&&p>a?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-xl font-bold text-crimson",children:`${a} ₾`}),c.jsx("span",{className:"text-sm text-muted-foreground line-through",children:`${p} ₾`}),c.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-1.5 py-0.5 rounded",children:[Math.round((p-a)/p*100),"% OFF"]})]}):c.jsx("span",{className:"text-xl font-bold text-crimson",children:`${a} ₾`})}),c.jsxs(pe,{className:`w-full relative ${S?"bg-muted text-muted-foreground cursor-not-allowed":"bg-crimson hover:bg-crimson/90 text-black font-medium"}`,onClick:()=>!S&&h({id:n,name:r,description:o,price:a,currency:l,images:u,stock:f,category:t,featured:e,materials:s||[],colors:i||[]}),disabled:S,children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10 z-0",children:c.jsx(fi,{className:"w-8 h-8"})}),c.jsxs("span",{className:"relative z-1 flex items-center",children:[c.jsx(fi,{className:"mr-2 h-4 w-4"}),m(S?"product.out_of_stock":"product.add_to_cart")]})]})]})]})})})},jb=({reviews:t,showTitle:e=!0,showOnlyVerified:n=!0})=>{const r=n?t.filter(u=>u.isVerifiedPurchase):t,{t:s}=$e();if(r.length===0)return c.jsx("div",{className:"text-center py-6 text-foreground/70",children:c.jsx("p",{children:s("reviews.no_reviews")})});const i=u=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(u)),o=u=>{if(!u)return null;const f={"🥰":s("reactions.love"),"😅":s("reactions.funny"),"🤯":s("reactions.mind_blown")};return{emoji:u,label:f[u]||""}},a=u=>({"💸":s("reviews.categories.price"),"⚙️":s("reviews.categories.quality"),"🎨":s("reviews.categories.design"),"🚀":s("reviews.categories.delivery"),"📦":s("reviews.categories.packaging"),"🛠":s("reviews.categories.usability")})[u]||u,l=u=>{const f=[],h=Math.floor(u),p=u%1>=.5,m=5-h-(p?1:0);for(let _=0;_<h;_++)f.push(c.jsx(ws,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},`full-${_}`));p&&f.push(c.jsx(DV,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},"half"));for(let _=0;_<m;_++)f.push(c.jsx(OV,{className:"h-4 w-4 text-gray-300"},`empty-${_}`));return f};return c.jsxs("div",{className:"space-y-6",children:[e&&c.jsxs("h3",{className:"text-lg font-medium",children:[s("reviews.customer_reviews")," (",r.length,")"]}),c.jsx("div",{className:"space-y-6",children:r.map(u=>{const f=o(u.reaction);return c.jsxs("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:u.userName}),c.jsxs("div",{className:"flex items-center mt-1",children:[c.jsx("div",{className:"flex",children:l(u.rating)}),c.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:i(u.date)})]})]}),u.isVerifiedPurchase&&c.jsxs("span",{className:"inline-flex items-center text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[c.jsx(yV,{className:"h-3 w-3 mr-1"}),s("reviews.verified_purchase")]})]}),f&&c.jsx("div",{className:"mt-2",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:[c.jsx("span",{className:"text-base mr-1",children:f.emoji}),f.label]})}),c.jsx("p",{className:"text-foreground mt-3",children:u.comment}),u.feedbackCategories&&u.feedbackCategories.length>0&&c.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:u.feedbackCategories.map(h=>c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:[c.jsx("span",{className:"mr-1",children:h}),a(h)]},h))}),u.likedFeatures&&c.jsx("div",{className:"mt-3 p-3 bg-muted/30 rounded-md",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.jsx("span",{className:"font-medium",children:u.userName.split(" ")[0]})," ",s("reviews.liked"),": ",u.likedFeatures]})}),u.photoUrl&&c.jsx("div",{className:"mt-3",children:c.jsx("img",{src:u.photoUrl,alt:"Review",className:"h-32 w-32 object-cover rounded-md border"})})]},u.id)})})]})},PJ=()=>{const t=localStorage.getItem("orders");return t?JSON.parse(t).map(n=>({...n,date:new Date(n.date)})):[]};let AJ=PJ();const jJ=(t,e)=>AJ.some(n=>n.userId===t&&n.productId===e&&n.status==="completed"),DJ=()=>{if(typeof window>"u")return[];try{const t=localStorage.getItem("reviews");return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load reviews:",t),[]}},OJ=t=>{localStorage.setItem("reviews",JSON.stringify(t))};let us=DJ();const MJ=()=>[...us].sort((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime()),iO=t=>us.filter(e=>e.productId===t).sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime()),LJ=(t=3)=>[...us].sort((e,n)=>n.rating-e.rating).slice(0,t),VJ=(t,e)=>us.some(n=>n.userId===t&&n.productId===e),oO=(t,e)=>VJ(t,e)?{canReview:!1,reason:"reviews.already_reviewed"}:jJ(t,e)?{canReview:!0}:{canReview:!1,reason:"reviews.must_purchase"},FJ=t=>{if(!t.userId||!t.userName||!t.comment)return console.error("Invalid review data: Missing required fields"),null;const e=t.comment.trim();if(e.length<10||e.length>1e3)return console.error("Invalid review: Comment must be between 10 and 1000 characters"),null;if(!Number.isInteger(t.rating)||t.rating<1||t.rating>5)return console.error("Invalid review: Rating must be an integer between 1 and 5"),null;const n=["test","admin","user","reviewer","tester","fake","example","sample"],r=t.userName.toLowerCase(),s=e.toLowerCase();if([r,s].some(h=>n.some(p=>h.includes(p))))return console.error("Suspicious content detected in review"),null;if(["great","good","nice","excellent","perfect","awesome","amazing","love it","super","wow","cool","best","recommend","5 stars"].some(h=>s===h||s.split(/\s+/).length<3))return console.error("Review is too generic or lacks detail"),null;const{canReview:l,reason:u}=oO(t.userId,t.productId);if(!l)throw new Error(u);const f={...t,id:Math.max(0,...us.map(h=>h.id))+1,isVerifiedPurchase:!0};return us=[f,...us],OJ(us),t.rating===5&&(ZD(t.userId).some(m=>m.type==="review")||(aO(t.userId),JQ(t.userId,"review",5))),f},$J=t=>{const e=iO(t);if(e.length===0)return 0;const n=e.reduce((r,s)=>r+s.rating,0);return Math.round(n/e.length*10)/10},YS=t=>us.filter(e=>e.userId===t).sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime()),JS=t=>(t||"").toLowerCase().trim(),UJ=(t,e)=>t.filter(n=>{if(e.priceRange&&(n.price<e.priceRange[0]||n.price>e.priceRange[1]))return!1;if(e.categories&&e.categories.length>0){const s=JS(n.category);if(!e.categories.some(o=>JS(o)===s))return!1}const r=n.stock>0;return!(e.inStock&&!r||e.outOfStock&&r||e.onSale&&!n.onSale)}),aO=t=>{},BJ=async(t,e,n)=>new Promise(r=>{let s=0;const i=setInterval(()=>{if(s+=10+Math.random()*20,s>=100){s=100,clearInterval(i);const o=URL.createObjectURL(t);r(o)}n==null||n(s)},200)}),zJ=()=>{const{t}=$e(),e=LJ(3);return c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"flex flex-col space-y-4 mb-6 bg-card border border-border rounded-lg p-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4 relative z-10 font-medieval",children:[c.jsx("span",{className:"text-crimson",children:t("reviews.title_part1")})," ",c.jsx("span",{className:"text-white",children:t("reviews.title_part2")})]}),c.jsxs(De,{to:"/reviews",className:"inline-flex items-center justify-center gap-2 px-6 py-3 text-base font-medium bg-crimson/10 hover:bg-crimson/20 text-crimson border border-crimson/20 rounded-md transition-colors group",children:[t("reviews.view_all"),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-right h-4 w-4 transition-transform group-hover:translate-x-1",children:[c.jsx("path",{d:"M5 12h14"}),c.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})}),c.jsx(jb,{reviews:e,showTitle:!1})]})};function El({className:t,...e}){return c.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",t),...e})}const co={recently_viewed:{ru:"Недавно просмотренные",en:"Recently Viewed",ge:"თქვენ ბოლოს ნახეთ"},empty_state:{ru:"Здесь будут отображаться недавно просмотренные товары",en:"Your recently viewed products will appear here",ge:"თქვენი ბოლოს ნანახი პროდუქცია გამოჩნდება აქ"},view_shop:{ru:"В магазин",en:"View Shop",ge:"მაღაზიაში"},product_not_found:{ru:"Информация о товаре недоступна",en:"Product information not available",ge:"პროდუქტის ინფორმაცია ხელმიუწვდომელია"},product:{ru:"Товар",en:"Product",ge:"პროდუქტი"},no_description:{ru:"Нет описания",en:"No description",ge:"აღწერა არ არის"},error_loading:{ru:"Ошибка при загрузке",en:"Error loading",ge:"შეცდომა ჩატვირთვისას"},remove:{ru:"Удалить",en:"Remove",ge:"წაშლა"},favorites:{add:{ru:"Добавить в избранное",en:"Add to favorites",ge:"რჩეულებში დამატება"},remove:{ru:"Удалить из избранного",en:"Remove from favorites",ge:"რჩეულებიდან ამოშლა"},added:{ru:"Добавлено в избранное",en:"Added to favorites",ge:"დაემატა რჩეულებში"},removed:{ru:"Удалено из избранного",en:"Removed from favorites",ge:"წაიშალა რჩეულებიდან"}},common:{error_occurred:{ru:"Произошла ошибка",en:"An error occurred",ge:"დაფიქსირდა შეცდომა"}}},qJ=({className:t=""})=>{const[e,n]=g.useState([]),[r,s]=g.useState(!0),[i,o]=g.useState(null),[a,l]=g.useState(!0),[u,f]=g.useState(!1),{language:h,t:p}=$e(),m=g.useRef(null),_=g.useCallback(()=>{m.current&&m.current.scrollBy({left:-300,behavior:"smooth"})},[]),w=g.useCallback(()=>{m.current&&m.current.scrollBy({left:300,behavior:"smooth"})},[]),{toast:y}=ha(),{isInFavorites:x,addToFavorites:b,removeFromFavorites:E}=Vg(),C=g.useCallback(I=>{const P=typeof I.name=="object"?I.name[h]||I.name.en||"":I.name||"",k=typeof I.description=="object"?I.description[h]||I.description.en||"":I.description||"";return{name:P,description:k}},[h]),j=g.useCallback(async()=>{console.log("Fetching recently viewed items..."),s(!0),o(null);try{const I=await _l.getRecent(20);if(console.log("Recently viewed items:",I),!I||I.length===0){console.log("No recently viewed items found"),n([]);return}const P=new Map;[...I].reverse().forEach(R=>{P.has(R.productId)||P.set(R.productId,R)});const k=Array.from(P.values()).slice(0,12),N=(await Promise.all(k.map(async R=>{try{const U=await xm(R.productId);if(U){const Q=await x(R.productId),{name:K,description:Z}=C(U);return{...U,id:R.productId,viewCount:R.viewCount||1,isFavorite:R.isFavorite||Q,displayName:K,displayDescription:Z,rating:U.rating||0}}return null}catch(U){return console.error(`Error fetching product ${R.productId}:`,U),null}}))).filter(R=>R!==null).filter((R,U,Q)=>U===Q.findIndex(K=>K.id===R.id));console.log("Fetched unique recently viewed products:",N),n(N)}catch(I){console.error("Error fetching recently viewed items:",I),o(p("error_loading_products"))}finally{s(!1)}},[p,x,C]);g.useEffect(()=>{console.log("RecentlyViewed component mounted"),j();const I=P=>{var k;console.log("Storage event detected:",P),(P.key==="recently_viewed_removed"||(k=P.key)!=null&&k.startsWith("recently_viewed_products")&&P.newValue===null)&&(console.log("Relevant storage change detected, refreshing..."),j())};return window.addEventListener("storage",I),()=>{console.log("RecentlyViewed component unmounting"),window.removeEventListener("storage",I)}},[j]),g.useEffect(()=>{const I=m.current;if(!I)return;const P=()=>{if(!I)return;const{scrollLeft:k,scrollWidth:D,clientWidth:N}=I,R=k<10,U=k+N>=D-10;l(R),f(U)};return P(),I.addEventListener("scroll",P,{passive:!0}),()=>{I.removeEventListener("scroll",P)}},[e]);const O=async(I,P)=>{P.preventDefault(),P.stopPropagation();try{const k=!I.isFavorite;n(D=>D.map(N=>N.id===I.id?{...N,isFavorite:k}:N)),k?await b(I.id):await E(I.id),await _l.updateFavoriteStatus(I.id,k),y({title:p(k?"favorites.added":"favorites.removed"),variant:"default"})}catch(k){console.error("Error toggling favorite:",k),y({title:p("common.error_occurred"),variant:"destructive"}),n(D=>D.map(N=>N.id===I.id?{...N,isFavorite:!I.isFavorite}:N))}},S=async(I,P)=>{P.preventDefault(),P.stopPropagation();const k=[...e];n(D=>D.filter(N=>N.id!==I));try{await _l.removeProduct(I),typeof window<"u"&&(localStorage.setItem("recently_viewed_removed",Date.now().toString()),window.dispatchEvent(new Event("storage")))}catch(D){console.error("Error removing item:",D),n(k),y({title:p("common.error_occurred"),variant:"destructive"})}};return console.log("Render - Loading:",r,"Error:",i,"Items:",e.length),r&&e.length===0?c.jsx("section",{className:oe("py-12",t),children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:p("recently_viewed")}),c.jsx("div",{className:"flex overflow-x-auto pb-4 -mx-2 px-2 scrollbar-hide",children:c.jsx("div",{className:"flex space-x-4 min-w-max",children:[...Array(5)].map((I,P)=>c.jsx("div",{className:"w-[200px] flex-shrink-0",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx(El,{className:"h-48 w-full rounded-lg"}),c.jsx(El,{className:"h-4 w-3/4"}),c.jsx(El,{className:"h-4 w-1/2"})]})},P))})})]})}):i?c.jsx("section",{className:oe("py-12",t),children:c.jsx("div",{className:"container mx-auto px-4 text-center",children:c.jsx("p",{className:"text-red-500",children:i})})}):e.length===0?c.jsx("section",{className:oe("py-16",t),children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 font-medieval tracking-tight",children:c.jsx("span",{className:"text-crimson",children:co.recently_viewed[h]})}),c.jsx("p",{className:"text-xl text-gray-300/90 mb-8 max-w-lg mx-auto leading-relaxed",children:co.empty_state[h]}),c.jsxs(De,{to:"/shop",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"inline-flex items-center justify-center px-8 py-4 border-2 border-crimson bg-crimson/10 hover:bg-crimson/20 text-white text-lg font-medium rounded-md transition-all duration-300 hover:shadow-lg hover:shadow-crimson/20 hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-crimson focus:ring-offset-2 focus:ring-offset-gray-900",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-crimson",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),co.view_shop[h]]})]})})})}):c.jsx("section",{className:oe("py-16",t),children:c.jsxs("div",{className:"w-full overflow-hidden",children:[c.jsxs("div",{className:"container mx-auto px-4 mb-10",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-center font-medieval tracking-tight mb-3",children:c.jsx("span",{className:"text-crimson bg-clip-text text-transparent bg-gradient-to-r from-crimson to-rose-600",children:co.recently_viewed[h]})}),c.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-crimson to-transparent mx-auto mb-12 rounded-full"})]}),c.jsxs("div",{className:"relative px-4",children:[c.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-24 z-10 bg-gradient-to-r from-background via-background/90 to-transparent pointer-events-none transition-opacity duration-300 ${a?"opacity-0":"opacity-100"}`}),c.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-24 z-10 bg-gradient-to-l from-background via-background/90 to-transparent pointer-events-none transition-opacity duration-300 ${u?"opacity-0":"opacity-100"}`}),c.jsx("button",{onClick:_,className:`absolute left-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 flex items-center justify-center bg-background/80 backdrop-blur-sm text-foreground/70 hover:text-foreground rounded-full shadow-lg border border-gray-800 hover:border-crimson/50 transition-all duration-300 group ${a?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Scroll left",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:w,className:`absolute right-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 flex items-center justify-center bg-background/80 backdrop-blur-sm text-foreground/70 hover:text-foreground rounded-full shadow-lg border border-gray-800 hover:border-crimson/50 transition-all duration-300 group ${u?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Scroll right",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),c.jsx("div",{ref:m,className:"flex overflow-x-auto pb-10 scrollbar-hide",style:{scrollBehavior:"smooth",scrollbarWidth:"none",msOverflowStyle:"none",padding:"0 calc((100% - 1280px) / 2)"},children:c.jsx("div",{className:"flex space-x-6 transition-all duration-300 px-4",children:e.map(I=>{var P;return c.jsx("div",{className:"w-[260px] flex-shrink-0 group",children:c.jsx(De,{to:`/product/${I.id}`,className:"relative block h-full",children:c.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-black border border-gray-800 shadow-2xl transition-all duration-500 group-hover:shadow-[0_10px_30px_-5px_rgba(220,38,38,0.3)] group-hover:border-crimson/60 h-full flex flex-col group-hover:-translate-y-1.5",children:[c.jsxs("div",{className:"aspect-square overflow-hidden bg-black relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-10"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-70 group-hover:opacity-100 transition-opacity duration-300 z-5"}),c.jsx("img",{src:((P=I.images)==null?void 0:P[0])||"/placeholder-product.jpg",alt:I.displayName,className:"h-full w-full object-cover transition-all duration-700 group-hover:scale-105",loading:"lazy",onError:k=>{const D=k.target;D.src="/placeholder-product.jpg"}}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/90 to-transparent z-10"})]}),c.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20",children:c.jsxs("div",{className:"absolute top-3 right-3 flex flex-col space-y-2",children:[c.jsx("button",{type:"button",onClick:k=>O(I,k),className:oe("p-2 rounded-full backdrop-blur-sm shadow-lg transition-all duration-200 transform hover:scale-110",I.isFavorite?"bg-red-900/60 text-red-400 hover:bg-red-900/80":"bg-gray-900/70 text-gray-300 hover:bg-gray-800/90 hover:text-white"),"aria-label":I.isFavorite?co.favorites.remove[h]:co.favorites.add[h],children:c.jsx(hl,{className:oe("h-5 w-5",I.isFavorite?"fill-current":"fill-none"),strokeWidth:1.5})}),c.jsx("button",{type:"button",onClick:k=>S(I.id,k),className:"p-2 rounded-full bg-gray-900/70 backdrop-blur-sm text-gray-300 hover:bg-gray-800/90 hover:text-white transition-all duration-200 transform hover:scale-110","aria-label":co.remove[h],children:c.jsx(os,{className:"h-5 w-5"})})]})}),c.jsxs("div",{className:"p-5 pt-3 mt-auto bg-black",children:[c.jsx("h3",{className:"font-medium text-base line-clamp-2 mb-2.5 text-gray-200 group-hover:text-crimson transition-colors duration-300",children:I.displayName}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-lg font-bold text-white",children:[I.price," ",I.currency]}),typeof I.rating=="number"&&c.jsxs("div",{className:"flex items-center space-x-1 bg-black/80 backdrop-blur-sm px-2.5 py-1 rounded-full border border-gray-800 group-hover:border-crimson/50 transition-colors",children:[c.jsx(ws,{className:"h-3.5 w-3.5 text-yellow-400 fill-current"}),c.jsx("span",{className:"text-xs font-semibold text-gray-300",children:I.rating.toFixed(1)})]})]})]})]})})},I.id)})})})]})]})})};document.head.insertAdjacentHTML("beforeend",`
  <style>
    @keyframes slowPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    @keyframes slowPing {
      75%, 100% {
        transform: scale(1.8);
        opacity: 0;
      }
    }
    .animate-slow-pulse {
      animation: slowPulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    .animate-slow-ping {
      animation: slowPing 3s cubic-bezier(0, 0, 0.2, 1) infinite;
    }
    .animate-ping-slow {
      animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
    }
    .animate-pulse-slow {
      animation: pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    @keyframes move-right {
      0% { transform: translateX(-100%); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateX(100vw); opacity: 0; }
    }
    .animate-float {
      animation: float 4s ease-in-out infinite;
    }
    .animate-move-right {
      animation: move-right 8s linear infinite;
    }
    .delay-500 {
      animation-delay: 0.5s;
    }
    .delay-1000 {
      animation-delay: 1s;
    }
    .animate-spin-slow {
      animation: spin 3s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes spin-reverse {
      from { transform: rotate(0deg); }
      to { transform: rotate(-360deg); }
    }
    .animate-spin-slow-reverse {
      animation: spin-reverse 4s linear infinite;
    }
  </style>
`);const HJ=()=>{const{t,language:e}=$e(),{addToCart:n}=Gi(),[r,s]=g.useState(null),[i,o]=g.useState(!1);g.useState(!1);const[a,l]=g.useState(!1),[u,f]=g.useState(null),[h,p]=g.useState(!0);WQ();const m=Pr().slice(0,4),_=Pr(),w=Array.from(new Set(["chokers","earrings","bracelets","rings","hairpins","candles","necklaces",..._.map(S=>S.category)].filter(Boolean))).sort();g.useEffect(()=>{(async()=>{try{p(!0);const I=Pr(),P=I.filter(D=>D.featured);P.length>0?s(P[0]):s(I[0]||null);const k=Dw();f(k)}catch(I){console.error("Error loading products:",I)}finally{p(!1)}})()},[]);const y=S=>{if(o(S),l(!1),!S){const I=Dw();f(I)}};g.useEffect(()=>{var P;(new URLSearchParams(window.location.search).get("categories")==="true"||(P=window.history.state)!=null&&P.openCategoriesModal)&&l(!0);const I=k=>{var D;if((D=k.state)!=null&&D.openCategoriesModal)l(!0);else{const N=new URLSearchParams(window.location.search);l(N.get("categories")==="true")}};return window.addEventListener("popstate",I),()=>window.removeEventListener("popstate",I)},[]);const x=()=>{const S=new URLSearchParams(window.location.search);S.set("categories","true"),window.history.pushState({openCategoriesModal:!0},"",`?${S.toString()}`),l(!0)},b=()=>{window.history.replaceState({},"",window.location.pathname),l(!1)},E=S=>{S.stopPropagation(),a?b():x()},C=()=>{b()},j=S=>{const I=Pr().find(P=>P.id===S);I&&n(I)},O=J.useMemo(()=>{const S=Pr(),I=[31];return[...S.filter(k=>I.includes(k.id)&&k.originalPrice&&k.originalPrice>k.price)].sort((k,D)=>k.id-D.id)},[]);return h?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-crimson"})}):c.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[c.jsx(Br,{}),c.jsxs("section",{className:"relative overflow-hidden",children:[c.jsxs("div",{className:"relative flex items-start justify-center h-[calc(70vh-64px)] -mt-[6%]",children:[c.jsx("div",{className:"relative w-[65%] h-full",children:c.jsx("img",{src:"/lovable-uploads/backgrnd.jpeg",alt:"Background",className:"w-full h-full object-cover object-center",style:{objectPosition:"center 30%",opacity:.37}})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/80 via-background/30 to-background/90"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("div",{className:"container mx-auto text-center relative z-10",children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:"absolute -top-12 -left-12 w-32 h-32 rounded-full bg-crimson/10 blur-3xl animate-pulse-slow"}),c.jsx("div",{className:"absolute -bottom-8 -right-8 w-24 h-24 rounded-full bg-crimson/5 blur-2xl animate-pulse-slow delay-1000"}),c.jsxs("h1",{className:"text-6xl md:text-8xl font-bold tracking-tight mb-6 relative z-10 font-medieval",children:[c.jsx("div",{className:"absolute -left-16 -top-8 w-8 h-8 rounded-full bg-crimson/20 blur-md animate-float"}),c.jsx("div",{className:"absolute -right-12 -bottom-4 w-6 h-6 rounded-full bg-crimson/15 blur-sm animate-float delay-500"}),c.jsxs("div",{className:"relative inline-block",children:[c.jsxs("span",{className:"relative",children:[c.jsx("span",{className:"relative z-10 text-crimson drop-shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"Pawmade"})," ",c.jsx("span",{className:"text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"Oddities"})]}),c.jsx("span",{className:"absolute -bottom-2 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-crimson/60 to-transparent",children:c.jsx("span",{className:"absolute top-0 left-0 w-8 h-full bg-crimson/80 blur-sm animate-move-right"})})]})]})]}),c.jsx("p",{className:"text-xl text-foreground/80 max-w-2xl mx-auto mb-8",children:t("home.subtitle")}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-900 via-crimson to-red-800 rounded-xl blur opacity-75 group-hover:opacity-100 group-hover:duration-200 transition-all duration-700"}),c.jsxs(De,{to:"/shop",className:"relative flex items-center justify-center bg-gradient-to-br from-gray-900 to-black text-white font-bold px-14 py-6 text-lg rounded-xl border-2 border-red-900/60 hover:border-crimson/80 shadow-2xl hover:shadow-[0_0_25px_rgba(185,28,28,0.4)] transition-all duration-300 transform group-hover:scale-105 overflow-hidden",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-3 tracking-wider",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-bounce",style:{animationDuration:"2s"},children:[c.jsx("circle",{cx:"8",cy:"21",r:"1"}),c.jsx("circle",{cx:"19",cy:"21",r:"1"}),c.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),t("home.shop_now")]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-red-900/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"})]})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-900/80 via-red-800/60 to-red-900/80 rounded-xl blur opacity-75 group-hover:opacity-100 group-hover:duration-200 transition-all duration-700"}),c.jsxs("button",{onClick:E,className:"relative flex items-center justify-center bg-gradient-to-br from-gray-900 to-black text-white/90 hover:text-white font-bold px-14 py-6 text-lg rounded-xl border-2 border-red-900/60 hover:border-red-800/70 shadow-2xl hover:shadow-[0_0_25px_rgba(153,27,27,0.25)] transition-all duration-300 transform group-hover:scale-105 overflow-hidden",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-3 tracking-wider",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:rotate-12 transition-transform duration-300",children:[c.jsx("rect",{x:"3",y:"4",width:"18",height:"4",rx:"1"}),c.jsx("rect",{x:"3",y:"10",width:"18",height:"4",rx:"1"}),c.jsx("rect",{x:"3",y:"16",width:"18",height:"4",rx:"1"})]}),t("product.categories")]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-red-900/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"})]})]})]})]})})]}),c.jsx("section",{className:"py-12 px-4 bg-background relative z-20",children:c.jsx("div",{className:"container mx-auto",children:c.jsx("div",{className:"w-[101%] -mx-[0.5%] relative",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -top-20 left-0 right-0 flex items-center",children:c.jsxs("div",{className:"flex gap-8",children:[c.jsx("div",{className:"relative group",children:c.jsxs("button",{onClick:()=>y(!1),className:"relative z-10 px-4 py-3 text-[1.65rem] font-medium cursor-pointer uppercase tracking-wider flex items-center gap-2 font-medieval transition-all duration-500 transform hover:scale-105 border-0 outline-none focus:outline-none focus:ring-0 focus:ring-offset-0 overflow-hidden rounded-lg",style:{background:"linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.03) 50%, rgba(0,0,0,0) 100%)",boxShadow:`${!i&&!a?"0 0 15px rgba(220, 38, 38, 0.3)":"none"}`},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-crimson/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{animation:"shimmer 3s infinite linear",backgroundImage:"linear-gradient(90deg, transparent, rgba(220, 38, 38, 0.2) 50%, transparent)"}}),c.jsx("span",{className:`relative z-10 transition-all duration-300 ${!i&&!a?"text-crimson font-bold":"text-foreground/80 group-hover:text-crimson"}`,children:t("home.most_popular").split(" ")[0]}),c.jsx("span",{className:`relative z-10 transition-all duration-300 ${!i&&!a?"text-crimson font-bold":"text-foreground/80 group-hover:text-crimson"}`,children:t("home.most_popular").split(" ").slice(1).join(" ")}),c.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-crimson to-transparent ${!i&&!a?"opacity-100":"opacity-0 group-hover:opacity-70"} transition-opacity duration-500`})]})}),c.jsx("div",{className:"relative group",children:c.jsxs("button",{onClick:()=>y(!0),className:"relative z-10 px-4 py-3 text-[1.65rem] font-medium cursor-pointer uppercase tracking-wider flex items-center gap-2 font-medieval transition-all duration-500 transform hover:scale-105 border-0 outline-none focus:outline-none focus:ring-0 focus:ring-offset-0 overflow-hidden rounded-lg",style:{background:"linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.03) 50%, rgba(0,0,0,0) 100%)",boxShadow:`${i&&!a?"0 0 15px rgba(220, 38, 38, 0.3)":"none"}`},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-crimson/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{animation:"shimmer 3s infinite linear",backgroundImage:"linear-gradient(90deg, transparent, rgba(220, 38, 38, 0.2) 50%, transparent)"}}),c.jsx("span",{className:`relative z-10 transition-all duration-300 ${i&&!a?"text-crimson font-bold":"text-foreground/80 group-hover:text-crimson"}`,children:t("product.discounts")}),O.length>0&&c.jsxs("span",{className:"relative z-10 bg-red-900/80 text-white text-sm font-bold px-2.5 py-0.5 rounded-full flex items-center justify-center min-w-6 h-6 transform transition-all duration-300 group-hover:scale-110 animate-slow-pulse",children:[O.length,c.jsx("span",{className:"absolute inset-0 rounded-full bg-red-900/80 opacity-70 animate-slow-ping"})]}),c.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-crimson to-transparent ${i&&!a?"opacity-100":"opacity-0 group-hover:opacity-70"} transition-opacity duration-500`})]})})]})}),c.jsxs("div",{className:"mt-12",children:[!i&&r&&c.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[c.jsxs("div",{className:"relative aspect-square max-w-md mx-auto md:mx-0 rounded-xl overflow-hidden border-2 border-crimson/20",children:[c.jsx("a",{className:"block h-full w-full",href:`/product/${r.id}`,children:c.jsx("img",{src:r.images[0],alt:r.name[e],className:"w-full h-full object-cover"})}),c.jsx("div",{className:"absolute top-3 right-3 bg-crimson/90 text-white text-xs font-bold px-2 py-1 rounded-full",children:t("most_popular")})]}),c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-3xl font-bold text-crimson",children:r.name[e]})}),c.jsx("div",{className:"flex-grow",children:c.jsx("p",{className:"text-lg text-foreground/90 leading-relaxed mb-6",children:r.description[e]})}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border",children:[c.jsxs("p",{className:"text-3xl font-bold text-crimson",children:[r.price," ",r.currency]}),c.jsxs("button",{onClick:()=>j(r.id),className:"bg-crimson hover:bg-crimson/90 text-white font-medium py-3 px-8 rounded-full transition-all flex items-center gap-2 hover:scale-105",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shopping-cart",children:[c.jsx("circle",{cx:"8",cy:"21",r:"1"}),c.jsx("circle",{cx:"19",cy:"21",r:"1"}),c.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),t("product.add_to_cart")]})]})]})]}),i&&O.length>0&&c.jsx("div",{className:"mt-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"flex overflow-x-auto pb-6 -mx-4 px-4 scrollbar-thin scrollbar-thumb-crimson/50 scrollbar-track-transparent hover:scrollbar-thumb-crimson/70 scrollbar-thumb-rounded-full",children:c.jsx("div",{className:"flex space-x-6 pr-4",children:O.map(S=>c.jsx("div",{className:"w-80 flex-shrink-0",children:c.jsx(Em,{...S,originalPrice:S.originalPrice,onAddToCart:()=>j(S.id)})},`discounted-${S.id}`))})}),c.jsx("div",{className:"absolute left-0 right-0 bottom-0 h-1 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-crimson/70 transition-all duration-300",style:{width:"30%"}})})]})})]})]})})})}),c.jsx("section",{className:"py-12 px-4 bg-background relative z-20",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h2",{className:"text-4xl md:text-6xl font-bold tracking-tight relative z-10 font-medieval",children:[c.jsx("span",{className:"text-crimson",children:t("home.popular_products").split(" ")[0]}),t("home.popular_products").split(" ").length>1&&c.jsxs("span",{className:"text-white",children:[" ",t("home.popular_products").split(" ").slice(1).join(" ")]})]}),c.jsx("div",{className:"w-16 h-0.5 bg-crimson/60 mt-2"})]}),c.jsxs(De,{to:"/shop",className:"inline-flex items-center justify-center gap-2 px-6 py-3 text-base font-medium bg-crimson/10 hover:bg-crimson/20 text-crimson border border-crimson/20 rounded-md transition-colors group",children:[t("home.view_all"),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-right h-4 w-4 transition-transform group-hover:translate-x-1",children:[c.jsx("path",{d:"M5 12h14"}),c.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map(S=>c.jsx(Em,{...S,onAddToCart:()=>j(S.id)},S.id))}),c.jsx("div",{className:"col-span-full mt-12",children:c.jsx(qJ,{className:"bg-muted/30"})})]})}),c.jsx("div",{className:"w-[94%] mx-auto",children:c.jsx("div",{className:"mx-0.5",children:c.jsx(zJ,{})})}),c.jsx(zr,{}),a&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all duration-300",onClick:C,children:c.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-crimson/50 shadow-2xl shadow-crimson/10 transform transition-all duration-300 scale-95 hover:scale-100",onClick:S=>S.stopPropagation(),style:{animation:"fadeInUp 0.4s ease-out forwards",opacity:0,transform:"translateY(20px)"},children:[c.jsxs("div",{className:"relative p-8",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-crimson/90 via-crimson/70 to-crimson/90"}),c.jsxs("div",{className:"flex flex-col items-center mb-8",children:[c.jsx("h3",{className:"text-3xl font-bold text-white font-medieval tracking-wider mb-2",children:t("product.categories")}),c.jsx("div",{className:"w-24 h-1 bg-crimson/70 rounded-full"})]}),c.jsx("button",{onClick:C,className:"absolute top-6 right-6 text-gray-300 hover:text-white transition-colors duration-200","aria-label":"Close",children:c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12",className:"transition-transform duration-200 hover:scale-110"})})}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:w.map((S,I)=>{var N,R;const P=GQ(S),k=P.length,D=P[0];return c.jsxs(De,{to:`/shop?category=${encodeURIComponent(S)}`,className:"group relative overflow-hidden rounded-xl bg-black/50 backdrop-blur-sm border border-crimson/30 p-5 transition-all duration-300 hover:border-crimson/70 hover:shadow-lg hover:shadow-crimson/20 hover:scale-105 hover:z-10 h-48 flex flex-col justify-center",onClick:C,style:{animation:`fadeIn 0.4s ease-out ${I*.05}s forwards`,opacity:0,transform:"translateY(10px)",...(N=D==null?void 0:D.images)!=null&&N[0]?{backgroundImage:`url(${D.images[0]})`,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay",backgroundColor:"rgba(0, 0, 0, 0.7)"}:{}},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-crimson/5 to-crimson/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[(R=D==null?void 0:D.images)!=null&&R[0]?c.jsxs("div",{className:"mb-4 w-16 h-16 flex items-center justify-center rounded-full bg-black/70 backdrop-blur-sm border border-crimson/50 group-hover:border-crimson/70 transition-all duration-300 relative overflow-hidden",children:[c.jsx("img",{src:D.images[0],alt:D.name[e]||S,className:"w-full h-full object-cover opacity-90"}),c.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/30 transition-colors duration-300"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent group-hover:border-crimson/30 transition-all duration-500 group-hover:animate-ping"})]}):c.jsxs("div",{className:"mb-4 w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 group-hover:border-crimson/50 transition-all duration-300 relative",children:[c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent group-hover:border-crimson/30 transition-all duration-500 group-hover:animate-ping"}),c.jsx("svg",{className:"w-7 h-7 text-gray-300 group-hover:text-crimson transition-all duration-300 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})]}),c.jsx("span",{className:"text-base font-semibold text-white group-hover:text-crimson transition-colors duration-300 mb-1 drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]",children:t(`category.${S.toLowerCase()}`)}),c.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-crimson/80 backdrop-blur-sm text-white group-hover:bg-crimson transition-colors duration-300",children:[k," ",k===1?t("products.one"):k<5?t("products.few"):t("products.many")]})]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"})]},I)})}),c.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-crimson/90 via-crimson/70 to-crimson/90"})]}),c.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @keyframes fadeInUp {
                  from {
                    opacity: 0;
                    transform: translateY(20px);
                  }
                  to {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
                
                @keyframes fadeIn {
                  from {
                    opacity: 0;
                    transform: translateY(10px);
                  }
                  to {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
              `}})]})})]})};function lO(t,[e,n]){return Math.min(n,Math.max(e,t))}function cO(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var uO=["PageUp","PageDown"],dO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hO={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Sc="Slider",[Vw,KJ,WJ]=Wm(Sc),[fO,iee]=On(Sc,[WJ]),[GJ,Gg]=fO(Sc),pO=g.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:_,...w}=t,y=g.useRef(new Set),x=g.useRef(0),E=o==="horizontal"?QJ:YJ,[C=[],j]=Ki({prop:f,defaultProp:u,onChange:D=>{var R;(R=[...y.current][x.current])==null||R.focus(),h(D)}}),O=g.useRef(C);function S(D){const N=tX(C,D);k(D,N)}function I(D){k(D,x.current)}function P(){const D=O.current[x.current];C[x.current]!==D&&p(C)}function k(D,N,{commit:R}={commit:!1}){const U=iX(i),Q=oX(Math.round((D-r)/i)*i+r,U),K=lO(Q,[r,s]);j((Z=[])=>{const F=ZJ(Z,K,N);if(sX(F,l*i)){x.current=F.indexOf(K);const $=String(F)!==String(Z);return $&&R&&p(F),$?F:Z}else return Z})}return c.jsx(GJ,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:C,orientation:o,form:_,children:c.jsx(Vw.Provider,{scope:t.__scopeSlider,children:c.jsx(Vw.Slot,{scope:t.__scopeSlider,children:c.jsx(E,{"aria-disabled":a,"data-disabled":a?"":void 0,...w,ref:e,onPointerDown:se(w.onPointerDown,()=>{a||(O.current=C)}),min:r,max:s,inverted:m,onSlideStart:a?void 0:S,onSlideMove:a?void 0:I,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(s,C.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:N})=>{if(!a){const Q=uO.includes(D.key)||D.shiftKey&&dO.includes(D.key)?10:1,K=x.current,Z=C[K],F=i*Q*N;k(Z+F,K,{commit:!0})}}})})})})});pO.displayName=Sc;var[mO,gO]=fO(Sc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),QJ=g.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...f}=t,[h,p]=g.useState(null),m=Ve(e,E=>p(E)),_=g.useRef(void 0),w=zg(s),y=w==="ltr",x=y&&!i||!y&&i;function b(E){const C=_.current||h.getBoundingClientRect(),j=[0,C.width],S=Db(j,x?[n,r]:[r,n]);return _.current=C,S(E-C.left)}return c.jsx(mO,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(vO,{dir:w,"data-orientation":"horizontal",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const C=b(E.clientX);o==null||o(C)},onSlideMove:E=>{const C=b(E.clientX);a==null||a(C)},onSlideEnd:()=>{_.current=void 0,l==null||l()},onStepKeyDown:E=>{const j=hO[x?"from-left":"from-right"].includes(E.key);u==null||u({event:E,direction:j?-1:1})}})})}),YJ=g.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,f=g.useRef(null),h=Ve(e,f),p=g.useRef(void 0),m=!s;function _(w){const y=p.current||f.current.getBoundingClientRect(),x=[0,y.height],E=Db(x,m?[r,n]:[n,r]);return p.current=y,E(w-y.top)}return c.jsx(mO,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(vO,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const y=_(w.clientY);i==null||i(y)},onSlideMove:w=>{const y=_(w.clientY);o==null||o(y)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:w=>{const x=hO[m?"from-bottom":"from-top"].includes(w.key);l==null||l({event:w,direction:x?-1:1})}})})}),vO=g.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,f=Gg(Sc,n);return c.jsx(ve.span,{...u,ref:e,onKeyDown:se(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):uO.concat(dO).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:se(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(p)?p.focus():r(h)}),onPointerMove:se(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:se(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),i(h))})})}),yO="SliderTrack",wO=g.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Gg(yO,n);return c.jsx(ve.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});wO.displayName=yO;var Fw="SliderRange",xO=g.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Gg(Fw,n),i=gO(Fw,n),o=g.useRef(null),a=Ve(e,o),l=s.values.length,u=s.values.map(p=>EO(p,s.min,s.max)),f=l>1?Math.min(...u):0,h=100-Math.max(...u);return c.jsx(ve.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:f+"%",[i.endEdge]:h+"%"}})});xO.displayName=Fw;var $w="SliderThumb",_O=g.forwardRef((t,e)=>{const n=KJ(t.__scopeSlider),[r,s]=g.useState(null),i=Ve(e,a=>s(a)),o=g.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(JJ,{...t,ref:i,index:o})}),JJ=g.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Gg($w,n),a=gO($w,n),[l,u]=g.useState(null),f=Ve(e,b=>u(b)),h=l?o.form||!!l.closest("form"):!0,p=Jx(l),m=o.values[r],_=m===void 0?0:EO(m,o.min,o.max),w=eX(r,o.values.length),y=p==null?void 0:p[a.size],x=y?nX(y,_,a.direction):0;return g.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${_}% + ${x}px)`},children:[c.jsx(Vw.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(ve.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:f,style:m===void 0?{display:"none"}:t.style,onFocus:se(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&c.jsx(bO,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});_O.displayName=$w;var XJ="RadioBubbleInput",bO=g.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=g.useRef(null),i=Ve(s,r),o=cO(e);return g.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&f){const h=new Event("input",{bubbles:!0});f.call(a,e),a.dispatchEvent(h)}},[o,e]),c.jsx(ve.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});bO.displayName=XJ;function ZJ(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function EO(t,e,n){const i=100/(n-e)*(t-e);return lO(i,[0,100])}function eX(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function tX(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function nX(t,e,n){const r=t/2,i=Db([0,50],[0,r]);return(r-i(e)*n)*n}function rX(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function sX(t,e){if(e>0){const n=rX(t);return Math.min(...n)>=e}return!0}function Db(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function iX(t){return(String(t).split(".")[1]||"").length}function oX(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var IO=pO,aX=wO,lX=xO,XS=_O;const TO=g.forwardRef(({className:t,...e},n)=>c.jsxs(IO,{ref:n,className:oe("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(aX,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(lX,{className:"absolute h-full bg-primary"})}),c.jsx(XS,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),c.jsx(XS,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));TO.displayName=IO.displayName;var Qg="Checkbox",[cX,oee]=On(Qg),[uX,Ob]=cX(Qg);function dX(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:u,value:f="on",internal_do_not_use_render:h}=t,[p,m]=Ki({prop:n,defaultProp:s??!1,onChange:l,caller:Qg}),[_,w]=g.useState(null),[y,x]=g.useState(null),b=g.useRef(!1),E=_?!!o||!!_.closest("form"):!0,C={checked:p,disabled:i,setChecked:m,control:_,setControl:w,name:a,form:o,value:f,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ai(s)?!1:s,isFormControl:E,bubbleInput:y,setBubbleInput:x};return c.jsx(uX,{scope:e,...C,children:hX(h)?h(C):r})}var SO="CheckboxTrigger",CO=g.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:u,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:_}=Ob(SO,t),w=Ve(s,f),y=g.useRef(l);return g.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const b=()=>h(y.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[i,h]),c.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":Ai(l)?"mixed":l,"aria-required":u,"data-state":AO(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:w,onKeyDown:se(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:se(n,x=>{h(b=>Ai(b)?!0:!b),_&&m&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});CO.displayName=SO;var Mb=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:u,form:f,...h}=t;return c.jsx(dX,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:u,name:r,form:f,value:l,internal_do_not_use_render:({isFormControl:p})=>c.jsxs(c.Fragment,{children:[c.jsx(CO,{...h,ref:e,__scopeCheckbox:n}),p&&c.jsx(PO,{__scopeCheckbox:n})]})})});Mb.displayName=Qg;var NO="CheckboxIndicator",kO=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Ob(NO,n);return c.jsx(Jn,{present:r||Ai(i.checked)||i.checked===!0,children:c.jsx(ve.span,{"data-state":AO(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});kO.displayName=NO;var RO="CheckboxBubbleInput",PO=g.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:u,value:f,form:h,bubbleInput:p,setBubbleInput:m}=Ob(RO,t),_=Ve(n,m),w=cO(i),y=Jx(r);g.useEffect(()=>{const b=p;if(!b)return;const E=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(E,"checked").set,O=!s.current;if(w!==i&&j){const S=new Event("click",{bubbles:O});b.indeterminate=Ai(i),j.call(b,Ai(i)?!1:i),b.dispatchEvent(S)}},[p,w,i,s]);const x=g.useRef(Ai(i)?!1:i);return c.jsx(ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:a,disabled:l,name:u,value:f,form:h,...e,tabIndex:-1,ref:_,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});PO.displayName=RO;function hX(t){return typeof t=="function"}function Ai(t){return t==="indeterminate"}function AO(t){return Ai(t)?"indeterminate":t?"checked":"unchecked"}const xu=g.forwardRef(({className:t,...e},n)=>c.jsx(Mb,{ref:n,className:oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(kO,{className:oe("flex items-center justify-center text-current"),children:c.jsx(ck,{className:"h-4 w-4"})})}));xu.displayName=Mb.displayName;var fX="Label",jO=g.forwardRef((t,e)=>c.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jO.displayName=fX;var DO=jO;const pX=Zd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lr=g.forwardRef(({className:t,...e},n)=>c.jsx(DO,{ref:n,className:oe(pX(),t),...e}));lr.displayName=DO.displayName;const mX=({onFilterChange:t,categories:e,initialFilters:n,activeCategory:r})=>{const{t:s}=$e(),o=Pr().map(C=>C.price),a=Math.min(...o),l=Math.max(...o),[u,f]=g.useState(n||{priceRange:[a,l],categories:[],inStock:!1,outOfStock:!1,onSale:!1});g.useEffect(()=>{r?f(C=>({...C,categories:[r]})):u.categories.length>0&&f(C=>({...C,categories:[]}))},[r]);const[h,p]=g.useState(!1);u.categories.includes("bracelets"),console.log("Active category:",r);const m=C=>{C.length>=2&&f(j=>{const O={...j,priceRange:[C[0],C[1]]};return t(O),O})},_=C=>C.toLowerCase().trim(),w=C=>{f(j=>{if(j.categories.includes(C)){const S={...j,categories:[]};return t(S),S}const O={...j,categories:[C]};return t(O),O})},y=()=>{f(C=>{const j={...C,inStock:!C.inStock,...C.outOfStock&&{outOfStock:!1}};return t(j),j})},x=()=>{f(C=>{const j={...C,outOfStock:!C.outOfStock,...C.inStock&&{inStock:!1}};return t(j),j})},b=()=>{f(C=>{const j={...C,onSale:!C.onSale};return t(j),j})},E=()=>{const C={priceRange:[0,1e3],categories:[],inStock:!1,outOfStock:!1,onSale:!1};t({...C,categories:[]}),f(C)};return c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[c.jsx("div",{className:"flex flex-col space-y-2 mb-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[c.jsx(hk,{className:"mr-2 h-5 w-5"})," ",s("filters.title")]}),c.jsx(pe,{variant:"outline",size:"sm",onClick:()=>p(!h),className:"md:hidden",children:s(h?"filters.hide":"filters.show")})]})}),c.jsxs("div",{className:`space-y-6 ${h?"block":"hidden md:block"}`,children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:s("filters.price")}),c.jsxs("div",{className:"px-2",children:[c.jsx(TO,{defaultValue:[u.priceRange[0],u.priceRange[1]],min:a,max:l,step:5,value:[u.priceRange[0],u.priceRange[1]],onValueChange:m,className:"mb-2"}),c.jsxs("div",{className:"flex justify-between text-sm text-foreground/80 mb-3",children:[c.jsxs("span",{children:[u.priceRange[0]," ₾"]}),c.jsxs("span",{children:[u.priceRange[1]," ₾"]})]}),c.jsx("button",{onClick:E,className:`text-[1.1em] text-crimson hover:text-crimson/80 font-medium transition-colors 
                         flex items-center justify-center w-full py-2 px-3 rounded-md 
                         border border-crimson/30 hover:border-crimson/50 hover:bg-crimson/5`,children:s("filters.reset")})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:s("filters.categories")}),c.jsx("div",{className:"space-y-2",children:e.map(C=>{const j=r?_(C.id)===_(r):u.categories.some(S=>_(S)===_(C.id)),O=s(`category.${C.id.toLowerCase()}`).startsWith("category.")?C.name:s(`category.${C.id.toLowerCase()}`);return c.jsxs("div",{className:"flex items-center",children:[c.jsx(xu,{id:`category-${C.id}`,checked:j,onCheckedChange:()=>w(C.id),className:"data-[state=checked]:bg-crimson data-[state=checked]:border-crimson"}),c.jsx(lr,{htmlFor:`category-${C.id}`,className:`ml-2 text-sm font-normal cursor-pointer ${j?"text-crimson font-medium":""}`,children:O})]},C.id)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-medium",children:s("filters.availability")}),c.jsxs("div",{className:"space-y-2 pl-2",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(xu,{id:"in-stock",checked:u.inStock,onCheckedChange:y,className:"data-[state=checked]:bg-crimson data-[state=checked]:border-crimson"}),c.jsx(lr,{htmlFor:"in-stock",className:"text-sm font-normal cursor-pointer",children:s("filters.in_stock")})]})}),c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(xu,{id:"out-of-stock",checked:u.outOfStock,onCheckedChange:x,className:"data-[state=checked]:bg-crimson data-[state=checked]:border-crimson"}),c.jsx(lr,{htmlFor:"out-of-stock",className:"text-sm font-normal cursor-pointer",children:s("filters.out_of_stock")})]})})]})]}),c.jsxs("div",{className:"space-y-2 pt-4 mt-4 border-t border-border",children:[c.jsx("h4",{className:"text-sm font-medium",children:s("filters.special_offers")}),c.jsx("div",{className:"space-y-2 pl-2",children:c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(xu,{id:"on-sale",checked:u.onSale,onCheckedChange:b,className:"data-[state=checked]:bg-crimson data-[state=checked]:border-crimson"}),c.jsx(lr,{htmlFor:"on-sale",className:"ml-2 text-sm font-normal cursor-pointer",children:s("filters.on_sale")})]})})})]})]})]})})},ji=g.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ji.displayName="Input";const gX=({isOpen:t,onClose:e})=>{const{t:n}=$e(),r=[{name:"Telegram",icon:c.jsx(mk,{className:"w-5 h-5"}),link:"https://t.me/not_even_here",color:"bg-[#0088cc] hover:bg-[#0088cc]/90"},{name:"Instagram",icon:c.jsx(Bx,{className:"w-5 h-5"}),link:"https://www.instagram.com/nekosshop/",color:"bg-[#E4405F] hover:bg-[#E4405F]/90"},{name:"Facebook",icon:c.jsx(Jm,{className:"w-5 h-5"}),link:"https://www.facebook.com/NekosShopy",color:"bg-[#1877F2] hover:bg-[#1877F2]/90"}];return c.jsx($o,{open:t,onOpenChange:e,children:c.jsxs(Pi,{className:"sm:max-w-[490px] bg-card p-8",children:[c.jsx(Uo,{children:c.jsx(Bo,{className:"text-3xl font-bold text-crimson",children:n("custom_order.title")})}),c.jsxs("div",{className:"mt-4 space-y-4",children:[c.jsx("p",{className:"text-foreground/80 text-lg leading-relaxed",children:n("custom_order.description")}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("p",{className:"text-foreground font-semibold text-lg mb-2",children:[n("custom_order.social_links"),":"]}),c.jsx("div",{className:"flex gap-3",children:r.map(s=>c.jsxs(pe,{variant:"default",className:`flex-1 ${s.color}`,onClick:()=>window.open(s.link,"_blank"),children:[s.icon,c.jsx("span",{className:"ml-2",children:s.name})]},s.name))})]})]})]})})},vX=()=>{var D;const{t}=$e(),[e]=l$(),n=e.get("category"),{addToCart:r}=Gi(),[s,i]=g.useState(n),o=[0,1e3],[a,l]=g.useState({priceRange:o,categories:n?[n]:[],inStock:!1,outOfStock:!1,onSale:!1}),[u,f]=g.useState(""),[h,p]=g.useState(!1),[m,_]=g.useState(!1),w=Pr(),y=N=>(N||"").toLowerCase().trim(),b=Array.from(new Set(["chokers","earrings","bracelets","rings","hairpins","candles","necklaces",...w.map(N=>N.category)].filter(Boolean))).reduce((N,R)=>{const U=y(R);return N[U]||(N[U]=R),N},{}),E=Object.values(b);console.log("All categories:",E),console.log("Active filters:",a),console.log("Active category:",s),console.log("Current filters:",a),console.log("Active category:",s);const C=UJ(w,{priceRange:a.priceRange,categories:s?[s]:(D=a.categories)!=null&&D.length?a.categories:void 0,inStock:a.inStock,outOfStock:a.outOfStock,onSale:a.onSale});console.log("Filtered products count:",C.length),console.log("All products categories:",[...new Set(w.map(N=>N.category))]),console.log("Filtered products count:",C.length),a.categories.length>0&&console.log("Products in selected categories:",C.map(N=>({id:N.id,name:N.name,category:N.category,price:N.price})));const O=[...u.trim()?C.filter(N=>{var U,Q;const R=t("language");return((U=N.name[R])==null?void 0:U.toLowerCase().includes(u.toLowerCase()))||((Q=N.description[R])==null?void 0:Q.toLowerCase().includes(u.toLowerCase()))}):C].sort((N,R)=>N.stock<=0&&R.stock>0?1:N.stock>0&&R.stock<=0?-1:0),S=h?[...O].sort((N,R)=>R.price-N.price):O,I=N=>{N.categories&&N.categories.length===0?i(null):N.categories&&N.categories.length>0&&i(N.categories[0]);const R={...N,priceRange:[Math.max(0,N.priceRange[0]),Math.min(1e3,N.priceRange[1])]};l(R)};g.useEffect(()=>{n?(i(n),l(N=>({...N,categories:[n],inStock:!1,outOfStock:!1,onSale:!1}))):(i(null),l(N=>({...N,categories:[]})))},[n]);const P=N=>{const R=t(`category.${N}`);return R===`category.${N}`?N.charAt(0).toUpperCase()+N.slice(1):R},k=E.map(N=>({id:N,name:P(N)}));return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Br,{}),c.jsx("section",{className:"py-12 px-4 bg-background",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsx(gX,{isOpen:m,onClose:()=>_(!1)}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[c.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 space-y-4",children:[c.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[c.jsx(jV,{className:"mr-2 h-5 w-5"})," ",t("shop.search_title")]}),c.jsx(ji,{type:"search",placeholder:t("home.search_placeholder"),className:"w-full bg-background",value:u,onChange:N=>f(N.target.value)})]}),c.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium flex items-center",children:c.jsx("span",{className:"text-crimson",children:t("shop.custom_design_title")})}),c.jsx(pe,{variant:"default",className:"bg-red-900/80 hover:bg-red-900/70 w-full text-sm py-1.5 font-bold text-white transition-colors",onClick:()=>_(!0),children:t("shop.custom_design_button")})]}),c.jsx(mX,{onFilterChange:I,categories:k,initialFilters:a,activeCategory:s})]}),c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("div",{className:"mb-6 flex justify-end",children:c.jsxs(pe,{variant:"outline",className:`flex items-center gap-2 ${h?"bg-accent":"bg-card"} hover:bg-accent transition-colors border border-gray-300 dark:border-gray-600`,onClick:()=>p(!h),"aria-label":t(h?"sort.by_price_low_high":"sort.by_price_high_low"),children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:t(h?"sort.by_price_low_high":"sort.by_price_high_low")}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-200 ${h?"rotate-180":""}`,"aria-hidden":"true",children:c.jsx("path",{d:"M6 9l6 6 6-6"})})]})}),S.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-foreground/80 text-xl font-semibold",children:t("product.no_products_found")||"Нет товаров, соответствующих фильтрам."})}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(N=>{const{id:R,name:U,description:Q,price:K,originalPrice:Z,currency:F,images:$,stock:W}=N;return c.jsx(Em,{id:R,category:s||"",name:U,description:Q,price:K,originalPrice:Z,currency:F,images:$,stock:W,onAddToCart:q=>r(q),materials:[],colors:[]},R)})})]})]})]})}),c.jsx(zr,{})]})},yX=()=>{const{t,language:e}=$e();return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Br,{}),c.jsx("section",{className:"py-16 px-4 bg-background",children:c.jsxs("div",{className:"container mx-auto max-w-4xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-2 tracking-tight",children:[t("about.title")," ",c.jsx("span",{className:"text-crimson",children:"NEKO"})," ",c.jsx("span",{className:"text-white",children:"SHOP"})]}),c.jsx("div",{className:"w-24 h-1 bg-crimson mx-auto mt-6"})]}),c.jsxs("div",{className:"space-y-10 text-gray-300",children:[c.jsx("p",{className:"text-lg leading-relaxed text-center max-w-3xl mx-auto",children:t("about.intro")}),c.jsx("div",{className:"my-12 bg-card/50 border border-border/30 p-8 rounded-xl backdrop-blur-sm",children:c.jsxs("blockquote",{className:"text-2xl italic font-medium text-center text-white leading-relaxed",children:['"',t("about.quote"),'"']})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-crimson/30 pb-2 inline-block",children:t("about.philosophy_title")}),c.jsx("p",{className:"text-lg leading-relaxed",children:t("about.philosophy_text")})]}),c.jsxs("div",{className:"space-y-6 pt-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-crimson/30 pb-2 inline-block",children:t("about.craftsmanship_title")}),c.jsx("p",{className:"text-lg leading-relaxed",children:t("about.craftsmanship_text")})]}),c.jsxs("div",{className:"space-y-6 pt-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-crimson/30 pb-2 inline-block",children:t("about.join_title")}),c.jsx("p",{className:"text-lg leading-relaxed",children:t("about.join_text")})]}),c.jsx("p",{className:"text-base font-medium text-center mb-8 text-red-900 dark:text-red-800",children:t("about.closing")}),c.jsxs("div",{className:"flex justify-center space-x-6 mt-10",children:[c.jsx("a",{href:"https://www.facebook.com/NekosShopy",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center hover:bg-crimson/20 transition-colors","aria-label":"Facebook",children:c.jsx(Jm,{className:"w-6 h-6 text-crimson"})}),c.jsx("a",{href:"https://www.instagram.com/nekosshop/",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center hover:bg-crimson/20 transition-colors","aria-label":"Instagram",children:c.jsx("svg",{className:"w-6 h-6 text-crimson",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"})})}),c.jsx("a",{href:"https://t.me/not_even_here",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center hover:bg-crimson/20 transition-colors","aria-label":"Telegram",children:c.jsx(mk,{className:"w-6 h-6 text-crimson"})})]})]})]})}),c.jsx(zr,{})]})};class Ih{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const wX=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Dt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:wX()},Lb=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},xX=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Lb(t);Dt.publicKey=n.publicKey,Dt.blockHeadless=n.blockHeadless,Dt.storageProvider=n.storageProvider,Dt.blockList=n.blockList,Dt.limitRate=n.limitRate,Dt.origin=n.origin||e},OO=async(t,e,n={})=>{const r=await fetch(Dt.origin+t,{method:"POST",headers:n,body:e}),s=await r.text(),i=new Ih(r.status,s);if(r.ok)return i;throw i},MO=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},_X=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},LO=t=>t.webdriver||!t.languages||t.languages.length===0,VO=()=>new Ih(451,"Unavailable For Headless Browser"),bX=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},EX=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},IX=(t,e)=>t instanceof FormData?t.get(e):t[e],FO=(t,e)=>{if(EX(t))return!1;bX(t.list,t.watchVariable);const n=IX(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},$O=()=>new Ih(403,"Forbidden"),TX=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},SX=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},UO=async(t,e,n)=>{if(!e.throttle||!n)return!1;TX(e.throttle,e.id);const r=e.id||t;return await SX(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},BO=()=>new Ih(429,"Too Many Requests"),CX=async(t,e,n,r)=>{const s=Lb(r),i=s.publicKey||Dt.publicKey,o=s.blockHeadless||Dt.blockHeadless,a=s.storageProvider||Dt.storageProvider,l={...Dt.blockList,...s.blockList},u={...Dt.limitRate,...s.limitRate};return o&&LO(navigator)?Promise.reject(VO()):(MO(i,t,e),_X(n),n&&FO(l,n)?Promise.reject($O()):await UO(location.pathname,u,a)?Promise.reject(BO()):OO("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},NX=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},kX=t=>typeof t=="string"?document.querySelector(t):t,RX=async(t,e,n,r)=>{const s=Lb(r),i=s.publicKey||Dt.publicKey,o=s.blockHeadless||Dt.blockHeadless,a=Dt.storageProvider||s.storageProvider,l={...Dt.blockList,...s.blockList},u={...Dt.limitRate,...s.limitRate};if(o&&LO(navigator))return Promise.reject(VO());const f=kX(n);MO(i,t,e),NX(f);const h=new FormData(f);return FO(l,h)?Promise.reject($O()):await UO(location.pathname,u,a)?Promise.reject(BO()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",i),OO("/api/v1.0/email/send-form",h))},PX={init:xX,send:CX,sendForm:RX,EmailJSResponseStatus:Ih},Ad=g.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ad.displayName="Textarea";const AX=()=>{const{toast:t}=ha(),{t:e}=$e(),[n,r]=g.useState(!1),[s,i]=g.useState({first_name:"",last_name:"",email:"",message:""}),o=u=>{const{id:f,value:h}=u.target;i(p=>({...p,[f]:h}))},a=()=>s.first_name.trim()?!s.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?(t({title:e("contact.error"),description:e("contact.error_email_invalid"),variant:"destructive"}),!1):s.message.trim()?!0:(t({title:e("contact.error"),description:e("contact.error_message_required"),variant:"destructive"}),!1):(t({title:e("contact.error"),description:e("contact.error_name_required"),variant:"destructive"}),!1),l=async u=>{if(u.preventDefault(),!!a()){r(!0);try{const f="service_q9aooyp",h="template_tm4v6kc",p="dSrGPvQ4YvKySD9Iu",m={to_name:"Neko Team",from_name:`${s.first_name} ${s.last_name}`.trim(),from_email:s.email,message:s.message,reply_to:s.email,to_email:"grge339@gmail.com",subject:`New Contact Form Submission from ${s.first_name} ${s.last_name}`};if((await PX.send(f,h,m,p)).status===200)t({title:e("contact.success"),description:e("contact.success_message")}),i({first_name:"",last_name:"",email:"",message:""});else throw new Error("Failed to send email")}catch(f){console.error("Error sending email:",f),t({title:e("contact.error"),description:e("contact.error_sending"),variant:"destructive"})}finally{r(!1)}}};return c.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[c.jsx(Br,{}),c.jsxs("main",{className:"flex-1 container mx-auto py-12 px-4",children:[c.jsxs("h1",{className:"text-4xl font-bold mb-8 text-center",children:[c.jsx("span",{className:"text-crimson",children:e("contact.title")})," ",c.jsx("span",{className:"text-white",children:e("contact.us")})]}),c.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-6",children:c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"first_name",className:"text-sm font-medium text-white",children:e("contact.first_name")}),c.jsx(ji,{id:"first_name",value:s.first_name,onChange:o,className:"bg-black/50 border-crimson/20 text-white",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"last_name",className:"text-sm font-medium text-white",children:e("contact.last_name")}),c.jsx(ji,{id:"last_name",value:s.last_name,onChange:o,className:"bg-black/50 border-crimson/20 text-white"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-white",children:e("contact.email")}),c.jsx(ji,{id:"email",type:"email",value:s.email,onChange:o,className:"bg-black/50 border-crimson/20 text-white",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"message",className:"text-sm font-medium text-white",children:e("contact.message")}),c.jsx(Ad,{id:"message",value:s.message,onChange:o,className:"h-32 bg-black/50 border-crimson/20 text-white",required:!0})]}),c.jsx(pe,{type:"submit",disabled:n,className:"w-full bg-crimson hover:bg-crimson/90 text-white",children:n?c.jsxs(c.Fragment,{children:[c.jsx(I0,{className:"mr-2 h-4 w-4 animate-spin"}),e("contact.sending")]}):e("contact.submit")})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"space-y-4 p-6 rounded-lg border border-crimson/20 bg-gradient-to-r from-crimson/10 to-transparent",children:[c.jsx("p",{className:"text-gray-300",children:e("contact.collaboration")}),c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(NV,{className:"w-5 h-5 text-crimson"}),c.jsx("a",{href:"mailto:grge339@gmail.com",className:"hover:text-white transition-colors",children:"grge339@gmail.com"})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:e("contact.social_media")}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("a",{href:"https://www.facebook.com/NekosShopy",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 rounded-lg border border-crimson/20 bg-gradient-to-r from-crimson/10 to-transparent hover:bg-crimson/20 transition-colors",children:[c.jsx(Jm,{className:"w-6 h-6 text-crimson flex-shrink-0"}),c.jsx("span",{className:"text-white",children:"Facebook"})]}),c.jsxs("a",{href:"https://www.instagram.com/nekosshop/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 rounded-lg border border-crimson/20 bg-gradient-to-r from-crimson/10 to-transparent hover:bg-crimson/20 transition-colors",children:[c.jsx(Bx,{className:"w-6 h-6 text-crimson flex-shrink-0"}),c.jsx("span",{className:"text-white",children:"Instagram"})]}),c.jsxs("a",{href:"https://t.me/not_even_here",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 rounded-lg border border-crimson/20 bg-gradient-to-r from-crimson/10 to-transparent hover:bg-crimson/20 transition-colors","aria-label":e("contact.telegram"),children:[c.jsx(kV,{className:"w-6 h-6 text-crimson flex-shrink-0"}),c.jsx("span",{className:"text-white",children:"Telegram"})]})]})]})]})]})]}),c.jsx(zr,{})]})},jX=()=>{const t=pa();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var Vb="Progress",Fb=100,[DX,aee]=On(Vb),[OX,MX]=DX(Vb),zO=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=LX,...o}=t;(s||s===0)&&!ZS(s)&&console.error(VX(`${s}`,"Progress"));const a=ZS(s)?s:Fb;r!==null&&!eC(r,a)&&console.error(FX(`${r}`,"Progress"));const l=eC(r,a)?r:null,u=Im(l)?i(l,a):void 0;return c.jsx(OX,{scope:n,value:l,max:a,children:c.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Im(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":KO(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});zO.displayName=Vb;var qO="ProgressIndicator",HO=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=MX(qO,n);return c.jsx(ve.div,{"data-state":KO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});HO.displayName=qO;function LX(t,e){return`${Math.round(t/e*100)}%`}function KO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Im(t){return typeof t=="number"}function ZS(t){return Im(t)&&!isNaN(t)&&t>0}function eC(t,e){return Im(t)&&!isNaN(t)&&t<=e&&t>=0}function VX(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fb}\`.`}function FX(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WO=zO,$X=HO;const GO=g.forwardRef(({className:t,value:e,...n},r)=>c.jsx(WO,{ref:r,className:oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:c.jsx($X,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));GO.displayName=WO.displayName;const UX=({productId:t,onReviewAdded:e})=>{const{t:n}=$e(),{toast:r}=ha(),s=la(),[i,o]=g.useState(5),[a,l]=g.useState(""),[u,f]=g.useState(null),[h,p]=g.useState(null),[m,_]=g.useState(""),[w,y]=g.useState(!1),[x,b]=g.useState(0),[E,C]=g.useState(!1),[j,O]=g.useState(""),[S,I]=g.useState(null),[P,k]=g.useState([]),[D,N]=g.useState(""),[R,U]=g.useState(!1),Q=[{type:"🥰",label:n("reviews.reactions.love")},{type:"😅",label:n("reviews.reactions.funny")},{type:"🤯",label:n("reviews.reactions.mind_blown")}],K=[{type:"💸",label:n("reviews.categories.price")},{type:"⚙️",label:n("reviews.categories.quality")},{type:"🎨",label:n("reviews.categories.design")},{type:"🚀",label:n("reviews.categories.delivery")},{type:"📦",label:n("reviews.categories.packaging")},{type:"🛠",label:n("reviews.categories.usability")}];g.useEffect(()=>{if(s.isLoggedIn&&s.user){const le=oO(s.user.uid,t);C(le.canReview),O(le.reason?n(le.reason):"")}else C(!1),O(n("reviews.login_required"))},[s.isLoggedIn,s.user,t,n]);const Z=g.useRef(null),F=1e3,$=5*1024*1024,W=["image/jpeg","image/png","image/webp"],q=le=>{var wt;const ue=(wt=le.target.files)==null?void 0:wt[0];if(!ue)return;if(!W.includes(ue.type)){r({title:n("reviews.invalid_file_type_title"),description:n("reviews.invalid_file_type",{types:"JPEG, PNG, WebP"}),variant:"destructive"});return}if(ue.size>$){r({title:n("reviews.file_too_large_title"),description:n("reviews.file_too_large",{size:"5MB"}),variant:"destructive"});return}p(ue);const Ie=new FileReader;Ie.onloadend=()=>{_(Ie.result)},Ie.readAsDataURL(ue)},H=()=>{p(null),_(""),Z.current&&(Z.current.value="")},X=async le=>{if(le.preventDefault(),!s.isLoggedIn||!s.user){r({title:n("reviews.error"),description:n("reviews.login_required"),variant:"destructive"});return}if(!a.trim()){r({title:n("reviews.error"),description:n("reviews.comment_required"),variant:"destructive"});return}U(!0);let ue="";try{if(h){y(!0),b(0);const nt=xt=>{b(xt)};ue=await BJ(h,s.user.uid,nt),y(!1)}const Ie={productId:t,userId:s.user.uid,userName:s.user.displayName||n("reviews.anonymous"),rating:i,comment:a.trim(),date:new Date,photoUrl:ue||void 0,isVerifiedPurchase:!1,reaction:S||void 0,feedbackCategories:P.length>0?P:void 0,likedFeatures:D.trim()||void 0};await FJ(Ie)&&(i===5&&await aO(s.user.uid),r({title:n("reviews.success_title"),description:n("reviews.success_message")}),o(5),l(""),p(null),_(""),I(null),k([]),N(""),b(0),Z.current&&(Z.current.value=""),e==null||e())}catch(Ie){console.error("Error submitting review:",Ie),r({title:n("reviews.error"),description:Ie instanceof Error?Ie.message:n("reviews.submit_error"),variant:"destructive"})}finally{U(!1),y(!1)}},de=le=>{k(ue=>ue.includes(le)?ue.filter(Ie=>Ie!==le):[...ue,le])};return c.jsx(sR,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-medium",children:n("reviews.write_review")}),!E&&j&&c.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg flex items-start gap-3",children:[c.jsx(CV,{className:"h-5 w-5 mt-0.5 flex-shrink-0 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:j})]}),c.jsxs("form",{onSubmit:X,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(lr,{htmlFor:"rating",className:"block mb-2",children:n("reviews.your_rating")}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(le=>c.jsx("button",{type:"button",className:"p-1",onClick:()=>o(le),onMouseEnter:()=>f(le),onMouseLeave:()=>f(null),disabled:!E,children:c.jsx(ws,{className:`h-8 w-8 ${(u||i)>=le?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},le))})]}),c.jsxs("div",{children:[c.jsx(lr,{className:"block mb-2",children:n("reviews.how_was_it")}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(({type:le,label:ue})=>c.jsxs("button",{type:"button",onClick:()=>I(le===S?null:le),className:oe("flex items-center gap-2 px-4 py-2 rounded-full border transition-colors",S===le?"bg-primary/10 border-primary text-primary":"border-muted-foreground/30 hover:bg-muted/50",!E&&"opacity-50 cursor-not-allowed"),disabled:!E,children:[c.jsx("span",{className:"text-xl",children:le}),c.jsx("span",{className:"text-sm",children:ue})]},le))})]}),c.jsxs("div",{children:[c.jsx(lr,{className:"block mb-2",children:n("reviews.what_did_you_like")}),c.jsx("div",{className:"flex flex-wrap gap-2",children:K.map(({type:le,label:ue})=>c.jsxs("button",{type:"button",onClick:()=>de(le),className:oe("flex items-center gap-2 px-3 py-1.5 rounded-full border transition-colors text-sm",P.includes(le)?"bg-primary/10 border-primary text-primary":"border-muted-foreground/30 hover:bg-muted/50",!E&&"opacity-50 cursor-not-allowed"),disabled:!E,children:[c.jsx("span",{children:le}),c.jsx("span",{children:ue})]},le))}),P.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx(lr,{htmlFor:"likedFeatures",className:"block mb-2",children:n("reviews.tell_us_more")}),c.jsx(Ad,{id:"likedFeatures",value:D,onChange:le=>N(le.target.value),placeholder:n("reviews.features_placeholder"),rows:2,disabled:!E}),c.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[n("reviews.example"),' "',n("reviews.example_text"),'"']})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs(lr,{htmlFor:"comment",children:[n("reviews.comment"),c.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),c.jsxs("span",{className:`text-xs ${a.length>F?"text-destructive":"text-muted-foreground"}`,children:[a.length,"/",F]})]}),c.jsx(Ad,{id:"comment",value:a,onChange:le=>l(le.target.value),placeholder:n("reviews.comment_placeholder"),rows:4,required:!0,disabled:!E||w,className:oe("min-h-[120px]",a.length>F&&"border-destructive focus-visible:ring-destructive"),maxLength:F}),a.length>F&&c.jsx("p",{className:"mt-1 text-sm text-destructive",children:n("reviews.comment_too_long")}),c.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:n("reviews.comment_help")})]}),c.jsxs("div",{children:[c.jsxs(lr,{htmlFor:"photo-upload",className:"block mb-2",children:[n("reviews.add_photo")," (",n("common.optional"),")",c.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",n("reviews.max_size",{size:"5MB"}),")"]})]}),c.jsx("input",{type:"file",id:"photo-upload",ref:Z,accept:"image/jpeg, image/png, image/webp",onChange:q,className:"hidden",disabled:!E||w}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(pe,{type:"button",variant:"outline",onClick:()=>{var le;return(le=Z.current)==null?void 0:le.click()},disabled:!E||w,className:"flex items-center gap-2",children:[w?c.jsx(I0,{className:"h-4 w-4 animate-spin"}):c.jsx(IV,{className:"h-4 w-4"}),n("reviews.choose_photo")]}),h&&c.jsx("span",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:h.name})]}),w&&c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx(GO,{value:x,className:"h-2"}),c.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[Math.round(x),"% ",n("common.uploading")]})]}),m&&c.jsx("div",{className:"mt-3 relative inline-block group",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:m,alt:n("reviews.photo_preview"),className:"h-32 w-32 object-cover rounded-md border shadow-sm"}),c.jsx("button",{type:"button",onClick:H,className:"absolute -top-2 -right-2 bg-background rounded-full p-1.5 shadow-md border hover:bg-destructive hover:text-destructive-foreground transition-colors","aria-label":n("common.remove"),children:c.jsx(os,{className:"h-3.5 w-3.5"})})]})})]}),c.jsxs("div",{className:"pt-2 flex flex-col sm:flex-row gap-3",children:[c.jsx(pe,{type:"submit",disabled:!E||!a.trim()||R||w||a.length>F,className:"w-full sm:w-auto",children:R||w?c.jsxs(c.Fragment,{children:[c.jsx(I0,{className:"mr-2 h-4 w-4 animate-spin"}),n("common.submitting")]}):n("reviews.submit")}),c.jsxs(I9,{children:[c.jsx(T9,{asChild:!0,children:c.jsx(pe,{type:"button",variant:"outline",onClick:()=>{o(5),l(""),p(null),_(""),I(null),k([]),N(""),Z.current&&(Z.current.value="")},disabled:R||w||!a&&!m&&i===5&&!S&&P.length===0,className:"w-full sm:w-auto",children:n("common.clear")})}),c.jsx(iR,{children:c.jsx("p",{children:n("reviews.clear_form")})})]})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:c.jsxs("p",{className:"flex items-start gap-1",children:[c.jsx("span",{className:"text-destructive",children:"*"}),c.jsx("span",{children:n("common.required_fields")})]})})]})]})})};function BX({images:t,currentIndex:e,onClose:n,onIndexChange:r}){const s=i=>{i.key==="ArrowLeft"?r((e-1+t.length)%t.length):i.key==="ArrowRight"?r((e+1)%t.length):i.key==="Escape"&&n()};return c.jsx(Ib,{open:!0,onOpenChange:i=>!i&&n(),children:c.jsxs(Tb,{children:[c.jsx(yh,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 cursor-zoom-out",onClick:n}),c.jsx(wh,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-[90vw] max-w-4xl max-h-[90vh] focus:outline-none",onKeyDown:s,tabIndex:-1,onClick:i=>i.stopPropagation(),children:c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:c.jsx("img",{src:t[e],alt:`Product view ${e+1}`,className:"max-h-[80vh] max-w-full object-contain cursor-zoom-out",onClick:n})}),t.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:i=>{i.stopPropagation(),r((e-1+t.length)%t.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors","aria-label":"Previous image",children:c.jsx(dk,{className:"w-6 h-6"})}),c.jsx("button",{onClick:i=>{i.stopPropagation(),r((e+1)%t.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors","aria-label":"Next image",children:c.jsx(Ux,{className:"w-6 h-6"})})]}),t.length>1&&c.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 overflow-x-auto px-4 py-2",onClick:i=>i.stopPropagation(),children:t.map((i,o)=>c.jsx("button",{onClick:a=>{a.stopPropagation(),r(o)},className:`w-16 h-16 rounded overflow-hidden border-2 transition-all ${e===o?"border-primary":"border-transparent"}`,"aria-label":`View image ${o+1}`,children:c.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover"})},o))})]})})]})})}function zX({currentProductId:t,category:e,className:n}){const{t:r,language:s}=$e(),i=g.useRef(null),[o,a]=g.useState(!0),[l,u]=g.useState(!1),{data:f,isLoading:h,isError:p}=o8({queryKey:["similarProducts",e,t],queryFn:async()=>(await Pr()).filter(x=>x.category===e&&x.id!==t).slice(0,12),enabled:!!e}),m=g.useCallback(()=>{i.current&&i.current.scrollBy({left:-300,behavior:"smooth"})},[]),_=g.useCallback(()=>{i.current&&i.current.scrollBy({left:300,behavior:"smooth"})},[]);if(g.useEffect(()=>{const y=i.current;if(!y)return;const x=()=>{if(!y)return;const{scrollLeft:b,scrollWidth:E,clientWidth:C}=y,j=b<10,O=b+C>=E-10;a(j),u(O)};return x(),y.addEventListener("scroll",x,{passive:!0}),()=>{y.removeEventListener("scroll",x)}},[f]),h)return c.jsx("section",{className:oe("relative py-12 w-full",n),children:c.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4",children:[c.jsxs("div",{className:"mb-8 -mt-3 w-full",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold break-words w-full",children:r("similar.products")}),c.jsx("div",{className:"w-16 h-0.5 bg-crimson/60 mt-2"})]}),c.jsx("div",{className:"relative w-full",children:c.jsx("div",{className:"flex space-x-6 overflow-x-auto pb-6 scrollbar-hide w-full pr-4",children:[...Array(4)].map((y,x)=>c.jsxs("div",{className:"min-w-[200px] flex-shrink-0",children:[c.jsx(El,{className:"aspect-square w-full rounded-lg"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx(El,{className:"h-4 w-3/4"}),c.jsx(El,{className:"h-4 w-1/2"})]})]},x))})})]})});if(p)return console.error("Error loading similar products"),null;if(!h&&(!f||f.length===0))return null;const w=y=>typeof y.name=="string"?y.name:y.name[s]||y.name.en;return c.jsx("section",{className:oe("relative pt-2 pb-12 w-full",n),children:c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"mb-2 -mt-3 w-full pl-[1.5%]",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold break-words w-full",children:r("similar.products")}),c.jsx("div",{className:"w-16 h-0.5 bg-crimson/60 mt-2"})]}),c.jsxs("div",{className:"relative w-full",children:[c.jsx("button",{onClick:m,className:`absolute left-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 flex items-center justify-center bg-background/80 hover:bg-background text-foreground/70 hover:text-foreground rounded-full shadow-lg transition-all duration-300 group ${o?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Scroll left",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:_,className:`absolute right-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 flex items-center justify-center bg-background/80 hover:bg-background text-foreground/70 hover:text-foreground rounded-full shadow-lg transition-all duration-300 group ${l?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Scroll right",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),c.jsx("div",{ref:i,className:"w-full overflow-x-auto pb-6 scrollbar-hide",style:{scrollBehavior:"smooth",scrollbarWidth:"none",msOverflowStyle:"none",paddingLeft:"calc((100% - 1280px) / 2)",paddingRight:"calc((100% - 1280px) / 2)"},children:c.jsx("div",{className:"flex space-x-6 px-4",children:f==null?void 0:f.map(y=>{var x;return c.jsx("div",{className:"w-[200px] flex-shrink-0",children:c.jsxs(De,{to:`/product/${y.id}`,className:"group block h-full","aria-label":`View ${w(y)}`,children:[c.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg mb-2",children:[c.jsx("img",{src:((x=y.images)==null?void 0:x[0])||"/placeholder.svg",alt:w(y),className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",onError:b=>{const E=b.target;E.src="/placeholder.svg"}}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"font-medium text-sm md:text-base line-clamp-2 text-foreground mb-1",children:w(y)}),c.jsxs("p",{className:"text-sm font-semibold text-primary",children:[y.price.toLocaleString("ka-GE")," ₾"]})]})]})},y.id)})})})]})]})})}const qX=()=>{const{id:t}=a_(),{t:e,language:n}=$e(),r=g.useRef(null),s=g.useRef(null),i=yc(),o=parseInt(t||"0"),a=xm(o),l=iO(o),u=$J(o),{addToCart:f,cart:h}=Gi(),{isInFavorites:p,addToFavorites:m,removeFromFavorites:_}=Vg(),w=la(),[y,x]=g.useState(0),[b,E]=g.useState(!1),[C,j]=g.useState(!1),[O,S]=g.useState(!1),[I,P]=g.useState(null),[k,D]=g.useState(!1);w.hasUserPurchasedProduct(o),g.useEffect(()=>{a!=null&&a.id&&_l.addProduct(a.id,p(a.id))},[a==null?void 0:a.id,p]),g.useEffect(()=>{if(!a){i("/",{replace:!0});return}window.location.hash&&window.history.replaceState(null,""," ");const H=setTimeout(()=>{s.current?s.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo(0,0)},100);return()=>clearTimeout(H)},[t,a,i]),g.useEffect(()=>{if(!(a!=null&&a.id))return;gl.addInterest(a.id);const H=()=>{const de=gl.checkInterest(a.id);D(de)};H();const X=setInterval(H,3e4);return()=>clearInterval(X)},[a==null?void 0:a.id]);const N=H=>{console.error(`Failed to load image: ${a.images[H]}`),P(H)},R=()=>{var H;(H=a==null?void 0:a.images)!=null&&H.length&&(x(X=>(X+1)%a.images.length),P(null))},U=()=>{var H;(H=a==null?void 0:a.images)!=null&&H.length&&(x(X=>(X-1+a.images.length)%a.images.length),P(null))};if(!a)return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx("div",{className:"fixed top-4 left-4 z-50",children:c.jsxs("button",{onClick:()=>window.history.back(),className:"group flex items-center gap-1.5 px-4 py-2.5 bg-white/90 hover:bg-white text-crimson rounded-full shadow-lg border border-crimson/20 hover:border-crimson/40 transition-all duration-300 hover:shadow-crimson/20","aria-label":"Вернуться в магазин",children:[c.jsx(qE,{className:"w-5 h-5 transition-transform duration-200 group-hover:-translate-x-0.5"}),c.jsx("span",{className:"text-base font-medium",children:"Назад в магазин"})]})}),c.jsx(Br,{}),c.jsx("div",{ref:r,className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("product.not_found")}),c.jsx("p",{className:"mb-8",children:e("product.not_found_message")}),c.jsx(pe,{asChild:!0,children:c.jsx(De,{to:"/shop",children:e("product.back_to_shop")})})]})}),c.jsx(zr,{})]});const Q=h.find(H=>H.product.id===a.id),K=(Q==null?void 0:Q.quantity)||0,Z=a.stock-K,F=()=>{f(a)},$=H=>{const X=e(`category.${H.toLowerCase()}`);return X&&X!==`category.${H.toLowerCase()}`?X:H.charAt(0).toUpperCase()+H.slice(1)},W=()=>{S(!O)},q=H=>{const X=[];for(let de=0;de<5;de++)X.push(c.jsx(ws,{className:`h-5 w-5 ${de<H?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},de));return X};return c.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[c.jsx(Br,{}),c.jsxs("div",{className:"flex-grow container mx-auto py-12 px-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"space-y-4 relative -translate-x-[2.5%]",ref:s,children:[c.jsx("div",{className:"absolute -top-10 left-0 z-10",children:c.jsxs(De,{to:"/shop",className:"group flex items-center gap-1.5 px-4 py-2 bg-red-500/90 hover:bg-red-500 text-white rounded-full shadow-lg border border-red-600/50 hover:border-red-600/70 transition-all duration-300 hover:shadow-red-500/20","aria-label":e("product.back_to_shop"),children:[c.jsx(qE,{className:"w-5 h-5 transition-transform duration-200 group-hover:-translate-x-0.5"}),c.jsx("span",{className:"text-base font-medium",children:e("product.back_to_shop")})]})}),c.jsx("div",{className:"relative bg-transparent",children:c.jsxs("div",{className:"relative inline-block max-w-full border-2 border-crimson/30 rounded-lg overflow-hidden bg-transparent",children:[k&&c.jsxs("div",{className:"absolute top-2 right-2 z-20 bg-amber-500/90 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[c.jsx(bV,{className:"w-3 h-3"}),c.jsx("span",{children:e("product.in_cart")})]}),c.jsx("div",{className:"relative w-full h-full flex items-center justify-center bg-transparent cursor-zoom-in p-0 m-0",onClick:()=>E(!0),children:!I||I!==y?c.jsx("img",{src:a.images[y],alt:a.name[n],className:"block w-auto h-auto max-h-[550px]",style:{imageRendering:"-webkit-optimize-contrast"},onError:()=>N(y)}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center p-4",children:[c.jsx("div",{className:"text-gray-500 mb-2",children:"Не удалось загрузить изображение"}),c.jsx("button",{onClick:H=>{H.stopPropagation(),P(null)},className:"text-sm text-crimson hover:underline",children:"Попробовать снова"})]})})}),a.images.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:U,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/70 hover:bg-black text-white p-2.5 rounded-full shadow-lg z-10 transition-all duration-200","aria-label":"Предыдущее изображение",children:c.jsx(dk,{className:"w-6 h-6"})}),c.jsx("button",{onClick:R,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/70 hover:bg-black text-white p-2.5 rounded-full shadow-lg z-10 transition-all duration-200","aria-label":"Следующее изображение",children:c.jsx(Ux,{className:"w-6 h-6"})}),c.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 z-10",children:a.images.map((H,X)=>c.jsx("button",{onClick:()=>x(X),className:`w-2.5 h-2.5 rounded-full transition-all ${X===y?"bg-crimson scale-125 ring-2 ring-offset-2 ring-crimson/50":"bg-white/80 hover:bg-white"}`,"aria-label":`Показать изображение ${X+1}`},X))})]})]})})]}),c.jsxs("div",{className:"space-y-4 text-[0.92em] pl-[calc((100%-1280px)/2+100px-20%)] pr-8 mt-[2.5%] min-h-[calc(100%+3%)] w-[calc(100%+50px)]",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-[2.3em] font-bold text-crimson mb-1",children:a.name[n]}),c.jsxs("div",{className:"flex items-center gap-4 mt-8",children:[c.jsx(pe,{variant:"outline",className:`relative ${p(a.id)?"text-crimson hover:text-crimson/90":"text-foreground/60 hover:text-foreground"}`,onClick:()=>p(a.id)?_(a.id):m(a.id),children:c.jsx(hl,{className:`w-5 h-5 ${p(a.id)?"fill-crimson":""}`})}),c.jsx("span",{className:"inline-block bg-muted px-3 py-1 rounded-full text-sm font-medium text-foreground/80",children:$(a.category)}),l.length>0&&c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex mr-2",children:q(Math.round(u))}),c.jsxs("span",{className:"text-foreground/70 text-sm",children:["(",l.length," ",l.length===1?e("reviews.review"):e("reviews.reviews"),")"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[0.92em] text-foreground/80",children:a.description[n]||a.description.en}),c.jsxs("button",{onClick:()=>j(!C),className:"mt-2 text-sm text-crimson hover:underline flex items-center gap-1 transition-colors","aria-expanded":C,"aria-controls":"product-details",children:[e(C?"product.hide_details":"product.details"),c.jsx(uk,{className:`w-4 h-4 transition-transform ${C?"rotate-180":""}`})]}),c.jsx("div",{id:"product-details",className:`overflow-hidden transition-all duration-300 ${C?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"border-t border-border pt-4 mt-3",children:[c.jsx("h3",{className:"text-lg font-bold mb-3",children:e("product.details")}),c.jsxs("ul",{className:"space-y-2 text-foreground/80",children:[c.jsx("li",{children:e("product.details.handmade")}),c.jsx("li",{children:e("product.details.style")}),c.jsx("li",{children:e("product.details.made_by")}),c.jsx("li",{children:e("product.details.quality")})]})]})})]})]}),c.jsxs("div",{className:"border-t border-border pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("div",{className:"flex flex-col",children:a.originalPrice&&a.originalPrice>a.price?c.jsxs("div",{className:"flex items-baseline gap-3",children:[c.jsxs("span",{className:"text-[2.3em] font-bold text-crimson",children:[a.price," ₾"]}),c.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:[a.originalPrice," ₾"]}),c.jsxs("span",{className:"text-sm bg-red-100 text-red-600 px-2 py-0.5 rounded-full",children:[Math.round((a.originalPrice-a.price)/a.originalPrice*100),"% OFF"]})]}):c.jsxs("span",{className:"text-[2.3em] font-bold text-crimson",children:[a.price," ₾"]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`inline-flex items-center px-4 py-1.5 rounded-md text-sm font-medium ${Z>2,"bg-[#8B0000]/80 text-white"}`,children:Z>0?e("product.in_stock"):e("product.out_of_stock")}),Z>0&&c.jsx("div",{className:"text-sm font-medium text-foreground/80 px-1",children:e("product.remaining_stock",{count:Z})})]})]}),Z>0?c.jsx(c.Fragment,{children:c.jsxs(pe,{className:"w-full bg-crimson hover:bg-crimson/90 text-black font-medium py-6 text-lg relative",onClick:F,disabled:Z<=0,children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10",children:c.jsx(fi,{className:"w-10 h-10"})}),c.jsxs("span",{className:"relative z-10 flex items-center",children:[c.jsx(fi,{className:"mr-2 h-5 w-5"})," ",e("product.add_to_cart")]})]})}):c.jsx(pe,{className:"w-full bg-muted text-muted-foreground font-medium py-6 text-lg",disabled:!0,children:e("product.out_of_stock")})]})]})]}),a&&c.jsx("div",{className:"mt-16 pl-[calc((100%-1280px)/2+100px-5%)] pr-8 w-full",children:c.jsx("div",{className:"relative w-full",children:c.jsx(zX,{currentProductId:a.id,category:typeof a.category=="string"?a.category:"",className:"w-full"})})}),c.jsx("div",{className:"max-w-6xl mx-auto -mt-[5%] relative z-10",children:c.jsxs("div",{className:"border-t border-border pt-6 pb-4",children:[c.jsx(UX,{productId:o,onReviewAdded:W}),c.jsx(jb,{reviews:l})]})})]}),c.jsx(zr,{}),b&&c.jsx(BX,{images:a.images,currentIndex:y,onClose:()=>E(!1),onIndexChange:x})]})},HX=()=>{const{categoryName:t}=a_(),{t:e}=$e(),{addToCart:n}=Gi(),s=Pr().filter(o=>t?o.category.toLowerCase()===t.toLowerCase():!0),i=()=>{if(!t)return e("category.all");const o=`category.${t.toLowerCase()}`;return e(o)};return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Br,{}),c.jsx("section",{className:"py-12 px-4 bg-background flex-grow",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold mb-8",children:i()}),s.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(o=>c.jsx(Em,{...o,onAddToCart:()=>n(o)},o.id))}):c.jsx("div",{className:"text-center py-16",children:c.jsx("p",{className:"text-muted-foreground",children:"No products found in this category"})})]})}),c.jsx(zr,{})]})},KX=()=>{const{t}=$e(),[e,n]=g.useState({stars:null,sortBy:null,hasPhotos:null}),[r,s]=g.useState(!1),i=MJ(),o=g.useMemo(()=>{let p=[...i];if(e.stars!==null&&(p=p.filter(m=>Math.floor(m.rating)===e.stars)),e.hasPhotos!==null&&(p=p.filter(m=>e.hasPhotos?!!m.photoUrl:!0)),e.sortBy)switch(e.sortBy){case"newest":p.sort((m,_)=>new Date(_.date).getTime()-new Date(m.date).getTime());break;case"oldest":p.sort((m,_)=>new Date(m.date).getTime()-new Date(_.date).getTime());break;case"highest":p.sort((m,_)=>_.rating-m.rating);break;case"lowest":p.sort((m,_)=>m.rating-_.rating);break}return p},[i,e]);g.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]);const a=p=>{n(m=>({...m,stars:m.stars===p?null:p}))},l=p=>{n(m=>({...m,sortBy:m.sortBy===p?null:p}))},u=()=>{n(p=>({...p,hasPhotos:p.hasPhotos===null?!0:null}))},f=()=>{n({stars:null,sortBy:null,hasPhotos:null})},h=e.stars!==null||e.sortBy!==null||e.hasPhotos!==null;return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(Br,{}),c.jsx("section",{className:"py-12 px-4 bg-background flex-grow",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4 mt-6 relative z-10 font-medieval",children:[c.jsx("span",{className:"text-crimson",children:t("reviews.title_part1")})," ",c.jsx("span",{className:"text-white",children:t("reviews.title_part2")})]}),c.jsxs("div",{className:"relative",children:[c.jsxs(pe,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>s(!r),children:[c.jsx(hk,{className:"w-4 h-4"}),t("reviews.filters"),h&&c.jsx("span",{className:"ml-1 flex h-2 w-2 rounded-full bg-primary"})]}),r&&c.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-card rounded-md shadow-lg border border-border z-10 p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"font-medium",children:t("reviews.filters")}),h&&c.jsx(pe,{variant:"ghost",size:"sm",onClick:f,className:"text-xs h-6 px-2 text-foreground/60 hover:text-foreground/90",children:t("reviews.clear_all")})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:t("reviews.rating")}),c.jsx("div",{className:"flex flex-wrap gap-2",children:[5,4,3,2,1].map(p=>c.jsxs(pe,{variant:e.stars===p?"default":"outline",size:"sm",className:oe("flex items-center gap-1 h-8",e.stars===p?"bg-primary/10 text-primary hover:bg-primary/20":""),onClick:()=>a(p),children:[c.jsx(ws,{className:"w-3.5 h-3.5 fill-yellow-500 text-yellow-500"}),c.jsxs("span",{className:"text-xs",children:[p,"+"]})]},p))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:t("reviews.sort_by")}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(pe,{variant:e.sortBy==="newest"?"default":"outline",size:"sm",className:oe("w-full justify-start",e.sortBy==="newest"?"bg-primary/10 text-primary hover:bg-primary/20":""),onClick:()=>l("newest"),children:[c.jsx(vV,{className:"w-4 h-4 mr-2"}),t("reviews.newest")]}),c.jsxs(pe,{variant:e.sortBy==="highest"?"default":"outline",size:"sm",className:oe("w-full justify-start",e.sortBy==="highest"?"bg-primary/10 text-primary hover:bg-primary/20":""),onClick:()=>l("highest"),children:[c.jsx(ws,{className:"w-4 h-4 fill-yellow-500 text-yellow-500 mr-2"}),t("reviews.highest_rated")]})]})]}),c.jsx("div",{children:c.jsxs(pe,{variant:e.hasPhotos?"default":"outline",size:"sm",className:oe("w-full justify-start",e.hasPhotos?"bg-primary/10 text-primary hover:bg-primary/20":""),onClick:u,children:[c.jsx(TV,{className:"w-4 h-4 mr-2"}),t("reviews.with_photos")]})})]})]})]})]}),h&&c.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.stars!==null&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[e.stars,"+ ",t("reviews.stars"),c.jsx(os,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>n(p=>({...p,stars:null}))})]}),e.sortBy==="newest"&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[t("reviews.newest"),c.jsx(os,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>n(p=>({...p,sortBy:null}))})]}),e.sortBy==="highest"&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[t("reviews.highest_rated"),c.jsx(os,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>n(p=>({...p,sortBy:null}))})]}),e.hasPhotos&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[t("reviews.with_photos"),c.jsx(os,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>n(p=>({...p,hasPhotos:null}))})]})]})}),c.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:c.jsx(jb,{reviews:o})})]})}),c.jsx(zr,{})]})};var QO={exports:{}},YO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=g;function WX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var GX=typeof Object.is=="function"?Object.is:WX,QX=uc.useState,YX=uc.useEffect,JX=uc.useLayoutEffect,XX=uc.useDebugValue;function ZX(t,e){var n=e(),r=QX({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return JX(function(){s.value=n,s.getSnapshot=e,Iy(s)&&i({inst:s})},[t,n,e]),YX(function(){return Iy(s)&&i({inst:s}),t(function(){Iy(s)&&i({inst:s})})},[t]),XX(n),n}function Iy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!GX(t,n)}catch{return!0}}function eZ(t,e){return e()}var tZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eZ:ZX;YO.useSyncExternalStore=uc.useSyncExternalStore!==void 0?uc.useSyncExternalStore:tZ;QO.exports=YO;var nZ=QO.exports;function rZ(){return nZ.useSyncExternalStore(sZ,()=>!0,()=>!1)}function sZ(){return()=>{}}var $b="Avatar",[iZ,lee]=On($b),[oZ,JO]=iZ($b),XO=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return c.jsx(oZ,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(ve.span,{...r,ref:e})})});XO.displayName=$b;var ZO="AvatarImage",eM=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=JO(ZO,n),a=aZ(r,i),l=xn(u=>{s(u),o.onImageLoadingStatusChange(u)});return Qn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ve.img,{...i,ref:e,src:r}):null});eM.displayName=ZO;var tM="AvatarFallback",nM=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=JO(tM,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(ve.span,{...s,ref:e}):null});nM.displayName=tM;function tC(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function aZ(t,{referrerPolicy:e,crossOrigin:n}){const r=rZ(),s=g.useRef(null),i=(()=>r?(s.current||(s.current=new window.Image),s.current):null)(),[o,a]=g.useState(()=>tC(i,t));return Qn(()=>{a(tC(i,t))},[i,t]),Qn(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),f=l("error");return i.addEventListener("load",u),i.addEventListener("error",f),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,n,e]),o}var rM=XO,sM=eM,iM=nM;const oM=g.forwardRef(({className:t,...e},n)=>c.jsx(rM,{ref:n,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));oM.displayName=rM.displayName;const aM=g.forwardRef(({className:t,...e},n)=>c.jsx(sM,{ref:n,className:oe("aspect-square h-full w-full",t),...e}));aM.displayName=sM.displayName;const lM=g.forwardRef(({className:t,...e},n)=>c.jsx(iM,{ref:n,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));lM.displayName=iM.displayName;var Yg="Tabs",[lZ,cee]=On(Yg,[qg]),cM=qg(),[cZ,Ub]=lZ(Yg),uM=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,f=zg(a),[h,p]=Ki({prop:r,onChange:s,defaultProp:i??"",caller:Yg});return c.jsx(cZ,{scope:n,baseId:Ii(),value:h,onValueChange:p,orientation:o,dir:f,activationMode:l,children:c.jsx(ve.div,{dir:f,"data-orientation":o,...u,ref:e})})});uM.displayName=Yg;var dM="TabsList",hM=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Ub(dM,n),o=cM(n);return c.jsx(i4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});hM.displayName=dM;var fM="TabsTrigger",pM=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Ub(fM,n),a=cM(n),l=vM(o.baseId,r),u=yM(o.baseId,r),f=r===o.value;return c.jsx(o4,{asChild:!0,...a,focusable:!s,active:f,children:c.jsx(ve.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:se(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:se(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:se(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(r)})})})});pM.displayName=fM;var mM="TabsContent",gM=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Ub(mM,n),l=vM(a.baseId,r),u=yM(a.baseId,r),f=r===a.value,h=g.useRef(f);return g.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Jn,{present:s||f,children:({present:p})=>c.jsx(ve.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});gM.displayName=mM;function vM(t,e){return`${t}-trigger-${e}`}function yM(t,e){return`${t}-content-${e}`}var uZ=uM,wM=hM,xM=pM,_M=gM;const dZ=uZ,bM=g.forwardRef(({className:t,...e},n)=>c.jsx(wM,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));bM.displayName=wM.displayName;const pp=g.forwardRef(({className:t,...e},n)=>c.jsx(xM,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));pp.displayName=xM.displayName;const mp=g.forwardRef(({className:t,...e},n)=>c.jsx(_M,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));mp.displayName=_M.displayName;const hZ=()=>{const t=async({productId:q,userId:H,userName:X,rating:de,comment:le})=>{console.log("Adding review:",{productId:q,userId:H,userName:X,rating:de,comment:le})},{isLoggedIn:e,user:n,logout:r}=la(),{language:s,t:i}=$e(),o=yc(),[a,l]=J.useState(null),[u,f]=g.useState(null),[h,p]=g.useState(0),[m,_]=g.useState(""),[w,y]=g.useState(""),[x,b]=g.useState(""),[E,C]=g.useState(()=>YS(n.id)),[j,O]=g.useState(()=>localStorage.getItem(`profile_city_${n.id}`)||"Тбилиси"),[S,I]=g.useState(()=>localStorage.getItem(`profile_address_${n.id}`)||""),[P,k]=g.useState(()=>localStorage.getItem(`profile_phone_${n.id}`)||""),[D,N]=g.useState(!1),[R,U]=g.useState(!1),[Q,K]=g.useState({city:j,address:S,phone:P}),Z=j!==Q.city||S!==Q.address||P!==Q.phone,F=()=>{localStorage.setItem(`profile_city_${n.id}`,j),localStorage.setItem(`profile_address_${n.id}`,S),localStorage.setItem(`profile_phone_${n.id}`,P),N(!0),U(!1),K({city:j,address:S,phone:P}),setTimeout(()=>N(!1),2e3)};if(J.useEffect(()=>{(!e||!n)&&o("/")},[e,n,o]),!e||!n)return c.jsx("div",{style:{color:"white",background:"black",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx("div",{children:"Not logged in. Redirecting..."})});const $=q=>Array.from({length:5}).map((H,X)=>c.jsx(ws,{className:`w-4 h-4 ${X<q?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},X)),W=q=>new Date(q).toLocaleDateString();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(Br,{}),c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(oM,{className:"h-20 w-20",children:[c.jsx(aM,{src:n.photoURL}),c.jsx(lM,{children:n.username?n.username.charAt(0).toUpperCase():c.jsx(Bf,{className:"h-10 w-10"})})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:n.username}),c.jsx("p",{className:"text-muted-foreground",children:n.email})]})]}),c.jsx(pe,{variant:"outline",className:"border-crimson/30 text-crimson hover:bg-crimson/10 hover:border-crimson/50 transition-colors",onClick:async()=>{try{await r(),o("/")}catch(q){console.error("Logout error:",q)}},children:i("auth.sign_out")})]}),a&&c.jsx("div",{style:{color:"red",background:"white",padding:16,marginBottom:16},children:a}),c.jsxs(dZ,{defaultValue:"address",className:"space-y-4",children:[c.jsxs(bM,{className:"text-lg",children:[c.jsx(pp,{value:"address",className:"text-lg",children:i("profile.address")}),c.jsx(pp,{value:"purchases",className:"text-lg",children:i("profile.purchases")}),c.jsx(pp,{value:"reviews",className:"text-lg",children:i("profile.reviews")})]}),c.jsx(mp,{value:"purchases",children:c.jsxs(Bu,{children:[c.jsxs(up,{children:[c.jsx(dp,{children:i("profile.purchase_history")}),c.jsx(hp,{children:i("profile.recent_purchases")})]}),c.jsx(fp,{children:c.jsx("div",{className:"space-y-4",children:n.purchasedProducts.length>0?n.purchasedProducts.map(q=>{const H=xm(q);if(!H)return null;const X=E.some(de=>de.productId===q);return c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card",children:[c.jsx("img",{src:H.images[0],alt:H.name[i("language")],className:"w-20 h-20 object-cover rounded-md"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium",children:H.name[i("language")]}),c.jsxs("p",{className:"text-muted-foreground",children:[H.price," ",H.currency]})]}),c.jsx(pe,{asChild:!0,variant:"outline",children:c.jsx(De,{to:`/product/${H.id}`,children:i("profile.view_product")})}),!X&&u===q.toString()&&c.jsxs($o,{open:!!u,onOpenChange:de=>{de||(f(null),p(0),_(""),y(""),b(""))},children:[c.jsx(lp,{asChild:!0,children:c.jsx(pe,{variant:"default",onClick:()=>f(q.toString()),className:"ml-2",children:i("reviews.leave_review")})}),c.jsxs(Pi,{children:[c.jsx("h3",{className:"font-bold mb-4 text-lg",children:i("reviews.leave_review")}),c.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[c.jsxs("span",{className:"mr-2",children:[i("reviews.rating"),":"]}),[1,2,3,4,5].map(de=>c.jsx("button",{type:"button",className:`focus:outline-none ${de<=h?"text-yellow-400":"text-gray-400"}`,onClick:()=>p(de),"aria-label":`${i("reviews.rating")} ${de}`,children:c.jsx(ws,{className:"w-6 h-6 fill-current"})},de))]}),c.jsx(Ad,{className:"mb-3 bg-background text-foreground",placeholder:i("reviews.comment_placeholder"),value:m,onChange:de=>_(de.target.value),rows:3}),c.jsx(ji,{className:"mb-3 bg-background text-foreground",placeholder:i("reviews.photo_url_placeholder"),value:w,onChange:de=>y(de.target.value)}),x&&c.jsx("div",{className:"text-red-500 mb-2",children:x}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(pe,{variant:"default",onClick:()=>{if(!h)return b(i("reviews.rating_required"));if(!m.trim())return b(i("reviews.comment_required"));b("");try{t({productId:u,userId:String(n.id),userName:n.username,rating:h,comment:m}),C(YS(n.id)),f(null),p(0),_(""),y("")}catch{b(i("reviews.already_reviewed"))}},children:i("reviews.submit")}),c.jsx(pe,{variant:"outline",onClick:()=>{f(null),p(0),_(""),y(""),b("")},children:i("product.back_to_shop")})]})]})]})]},q)}):c.jsx("p",{className:"text-center text-muted-foreground py-8",children:i("profile.no_purchases")})})})]})}),c.jsx(mp,{value:"reviews",children:c.jsxs(Bu,{children:[c.jsxs(up,{children:[c.jsx(dp,{children:i("profile.my_reviews")}),c.jsx(hp,{children:i("profile.reviews_description")})]}),c.jsx(fp,{children:c.jsx("div",{className:"space-y-4",children:E.length>0?E.map(q=>{const H=xm(q.productId);return H?c.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("img",{src:H.images[0],alt:H.name[i("language")],className:"w-16 h-16 object-cover rounded-md"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:H.name[i("language")]}),c.jsx("div",{className:"flex gap-1 mt-1",children:$(q.rating)})]}),c.jsx("div",{className:"ml-auto text-sm text-muted-foreground",children:W(q.date)})]}),c.jsx("p",{className:"text-sm text-foreground/90",children:q.comment}),q.photoUrl&&c.jsx("img",{src:q.photoUrl,alt:"Review",className:"mt-4 max-h-40 rounded-md object-cover"})]},q.id):null}):c.jsx("p",{className:"text-center text-muted-foreground py-8",children:i("profile.no_reviews")})})})]})}),c.jsx(mp,{value:"address",children:c.jsxs(Bu,{className:"mb-8",children:[c.jsxs(up,{children:[c.jsx(dp,{children:i("profile.address")}),c.jsx(hp,{children:i("profile.address_description")})]}),c.jsx(fp,{children:c.jsxs("div",{className:"flex flex-col gap-4 max-w-md",children:[c.jsx("label",{htmlFor:"city",className:"font-medium",children:i("profile.city")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("select",{id:"city",className:"border rounded px-3 py-2 bg-background flex-1",value:j,onChange:q=>O(q.target.value),disabled:!R,children:c.jsx("option",{value:"Тбилиси",children:i("profile.tbilisi")})}),c.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:i("profile.only_tbilisi")})]}),c.jsx("label",{htmlFor:"address",className:"font-medium",children:i("profile.address_field")}),c.jsx(ji,{id:"address",value:S,onChange:q=>I(q.target.value),placeholder:i("profile.address_placeholder"),disabled:!R}),c.jsx("label",{htmlFor:"phone",className:"font-medium",children:i("profile.phone")}),c.jsx(ji,{id:"phone",value:P,onChange:q=>{const H=q.target.value.replace(/\D/g,"");k(H),n!=null&&n.uid&&localStorage.setItem(`profile_phone_${n.uid}`,H)},placeholder:i("profile.phone_placeholder"),disabled:!R,type:"tel",inputMode:"numeric",pattern:"[0-9]*"}),c.jsxs("div",{className:"flex justify-between gap-2",children:[R?c.jsx(pe,{className:"mt-2 px-8 py-3 text-base font-bold",onClick:F,disabled:!Z,children:i("profile.save")}):null,R?null:c.jsx(pe,{className:"mt-2 px-8 py-3 text-base font-bold",onClick:()=>U(!0),children:i("profile.edit")})]}),D&&c.jsx("div",{className:"text-green-600 text-sm mt-1",children:i("profile.saved")})]})})]})})]})]}),c.jsx(zr,{})]})},fZ=({question:t,answer:e,isOpen:n,onClick:r})=>c.jsxs("div",{className:`group rounded-xl overflow-hidden transition-all duration-300 ${n?"ring-2 ring-crimson bg-gray-900/50":"ring-1 ring-gray-800 hover:ring-crimson/50 bg-black"}`,children:[c.jsxs("button",{className:"w-full px-6 py-5 text-left flex justify-between items-center transition-all duration-300 group-hover:bg-gray-900/30",onClick:r,"aria-expanded":n,children:[c.jsx("span",{className:"font-medium text-lg transition-colors text-white group-hover:text-crimson",children:t}),c.jsx("div",{className:`p-1 rounded-full transition-all ${n?"bg-crimson/20":"bg-gray-800 group-hover:bg-crimson/10"}`,children:n?c.jsx(wV,{className:"h-5 w-5 text-crimson"}):c.jsx(uk,{className:"h-5 w-5 text-crimson"})})]}),n&&c.jsx("div",{className:"px-6 pb-6 pt-2 bg-gradient-to-b from-gray-900/50 to-transparent",children:c.jsx("div",{className:"text-gray-300 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:e.replace(/Contact Us|Связаться с нами|დაგვიკავშირდით/g,'<a href="/contact" class="text-crimson font-medium hover:underline transition-colors">$&</a>')}})})]}),pZ=()=>{const{t,language:e}=$e(),[n,r]=g.useState(null),s=g.useMemo(()=>[{id:1,questionKey:"faq.q1.question",answerKey:"faq.q1.answer"},{id:2,questionKey:"faq.q2.question",answerKey:"faq.q2.answer"},{id:3,questionKey:"faq.q3.question",answerKey:"faq.q3.answer"},{id:4,questionKey:"faq.q5.question",answerKey:"faq.q5.answer"}],[]),i=h=>{r(n===h?null:h)},o=g.useMemo(()=>s.map(h=>({...h,question:t(h.questionKey),answer:t(h.answerKey)})),[s,t,e]),a=g.useMemo(()=>t("faq.title"),[t,e]),l=g.useMemo(()=>t("faq.subtitle"),[t,e]),u=g.useMemo(()=>t("faq.needHelp"),[t,e]),f=g.useMemo(()=>t("faq.contactUs"),[t,e]);return c.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[c.jsx(Br,{}),c.jsx("section",{className:"py-20 px-4 flex-grow",id:"faq",children:c.jsxs("div",{className:"container mx-auto max-w-6xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("div",{className:"relative inline-block mb-12",children:[c.jsx("h1",{className:"text-3xl md:text-5xl font-bold tracking-tight relative z-10",children:c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-crimson to-crimson-dark",children:a})}),c.jsx("div",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-crimson to-transparent rounded-full"})]}),c.jsx("p",{className:"text-xl text-gray-300 mt-6 max-w-2xl mx-auto",children:l})]}),c.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:o.map(h=>c.jsx(fZ,{question:h.question,answer:h.answer,isOpen:n===h.id,onClick:()=>i(h.id)},h.id))}),c.jsxs("div",{className:"mt-12 text-center",children:[c.jsx("p",{className:"text-gray-300 mb-6",children:u}),c.jsx(De,{to:"/contact",className:"inline-flex items-center justify-center px-8 py-3 border border-crimson text-base font-medium rounded-md text-white bg-crimson hover:bg-crimson/90 transition-colors shadow-sm",children:f})]})]})}),c.jsx(zr,{})]})},nC=["🎯 Квест завершён: [Покупка успешно оформлена].","🔓 Разблокировано: Новый элемент снаряжения.","🗃️ Добавлено в инвентарь. Использовать с умом.","🧩 Ты нашёл скрытый лут. Не каждый добирается до него.","🎲 Рандом был на твоей стороне. Эпик дроп!","👣 Ты выбрал путь. Этот предмет теперь часть истории.","⚗️ Скрафтил нечто стоящее. Проверим в бою.","🛠️ Твоя сборка теперь выглядит серьёзно.","👁️ Ты увидел потенциал, где другие прошли мимо.","🕹️ Слот экипировки заполнен. Осталось сделать шаг вперёд.","💾 Прогресс сохранён. Возврата нет.","💣 Это не просто предмет — это твоё преимущество.","👑 Покупка подтверждена. Престиж +1.","📡 Сигнал принят. Артефакт отправлен в твой мир.","⚔️ Боевой рейтинг повышен. Ты готов к следующей волне.","🎮 Предмет получен. Редкость: Уникальный.","📦 Ты разблокировал нового союзника.","⚙️ Ты активировал артефакт. Осталось только понять, что он умеет.","🛡️ Это не просто шмотка. Это бафф к твоему стилю.","🔥 Inventory updated. Кто-то стал сильнее.","🕶️ Стильно. Опасно. Твоё.","💬 NPC завидуют. Ты теперь главный в этом квесте.","🌌 Ты притянул артефакт из другой реальности. Маст хев.","🧠 +10 к харизме. Остальное приложится.","🚀 Ты выбрал не просто товар. Ты выбрал апгрейд.","🔮 Предмет привязан к владельцу. Отвязке не подлежит.","🎮 Loot secured. Миссия выполнена.","📖 Новая глава началась с этой покупки.","⚡ Ты получил ⚡ бафф: Уверенность +25%","🛰️ Твой сигнал принят. Поставка вылетела из стратосферы.","🧤 Сила в деталях. А у тебя — всё по максимуму.","🪙 Ты потратил монеты. Получил легенду.","🚫 Ты больше не тот, кто смотрел. Ты — тот, кто выбрал.","🗡️ В инвентаре что-то зловеще хорошее.","🎯 Ты не промах. И этот выбор — тоже.","📡 Межвселенская доставка активирована. Подготовь слот.","🎖️ Достижение разблокировано: Хороший вкус.","🕳️ Ты заглянул в чёрный ящик... и забрал лучшее.","🎁 Ты не просто заказал. Ты вызвал это.","👤 Они будут спрашивать: где ты это взял?"],mZ=()=>{const t=Math.floor(Math.random()*nC.length);return nC[t]},gZ=()=>{const{cart:t,clearCart:e,calculateTotal:n,calculateDiscount:r,calculateTotalWithDiscount:s}=Gi(),{t:i}=$e(),{isLoggedIn:o,signInWithGoogle:a}=la(),l=yc(),u=()=>{l("/")},f=O=>{if(!O)return"";if(typeof O=="string")return O;if(typeof O=="object"&&O!==null){const S=O,I=localStorage.getItem("shoppy_language")||"ru";return S[I]||S.en||Object.values(S)[0]||""}return String(O)},[h,p]=g.useState(!1),[m,_]=g.useState(!o),{user:w}=la(),[y,x]=g.useState({name:(w==null?void 0:w.displayName)||"",email:(w==null?void 0:w.email)||"",phone:"",address:""});g.useEffect(()=>{if(w!=null&&w.uid){const O=localStorage.getItem(`profile_phone_${w.uid}`),S=localStorage.getItem(`profile_address_${w.uid}`);x(I=>({...I,phone:O||"",address:S||"",name:w.displayName||I.name,email:w.email||I.email}))}},[w]);const b=O=>{const{name:S,value:I}=O.target;x(P=>({...P,[S]:I})),w!=null&&w.uid&&(S==="phone"?localStorage.setItem(`profile_phone_${w.uid}`,I):S==="address"&&localStorage.setItem(`profile_address_${w.uid}`,I))},E=async()=>{try{await a(),_(!1),zv.success("Successfully logged in with Google")}catch(O){console.error("Error signing in with Google:",O),zv.error("Failed to sign in with Google")}};g.useEffect(()=>{o||_(!0)},[o]);const C=O=>{if(O.preventDefault(),!o){_(!0);return}p(!0),setTimeout(()=>{p(!1),e();const S=mZ();zv.success(S,{duration:3e3,position:"top-center",style:{background:"#10b981",color:"white",border:"none",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:500,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}),l("/success")},2e3)},j=O=>{O.preventDefault(),C(O)};return t.length===0?c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-lg mb-4",children:"Your cart is empty"}),c.jsx(pe,{onClick:()=>l("/shop"),children:"Continue Shopping"})]})]}):c.jsx("div",{className:"min-h-screen bg-background text-foreground",children:c.jsxs("div",{className:"container mx-auto px-4 py-8 relative",children:[c.jsx("button",{onClick:u,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Close",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),c.jsx("h1",{className:"text-3xl font-bold mb-8 text-center md:text-left",children:"Checkout"}),c.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300 ${m?"opacity-100":"opacity-0 pointer-events-none"}`,children:c.jsx("div",{className:`bg-card border border-border rounded-xl shadow-2xl max-w-md w-full transform transition-all duration-300 ${m?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex items-center justify-center mb-6",children:c.jsx("div",{className:"bg-crimson/10 p-3 rounded-full",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-crimson",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h.01a1 1 0 100-2H10V9z",clipRule:"evenodd"})})})}),c.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:i("checkout.login_required")}),c.jsx("p",{className:"text-muted-foreground text-center mb-6",children:i("checkout.login_prompt")}),c.jsxs(pe,{type:"button",className:"w-full bg-crimson hover:bg-crimson/90 text-white flex items-center justify-center gap-2 h-12 text-base font-medium",onClick:E,children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"currentColor"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"currentColor"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"currentColor"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"currentColor"})]}),i("auth.sign_in_with_google")]}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{onClick:()=>l("/"),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:i("common.back_to_home")})})]})})}),") : (",c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-card rounded-lg shadow-sm p-6 mb-6 border border-border",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Information"}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",htmlFor:"name",children:[i("checkout.name")," *"]}),c.jsx("input",{type:"text",id:"name",required:!0,className:"w-full px-3 py-2 bg-background border border-input rounded-md text-foreground",value:y.name,onChange:O=>x(S=>({...S,name:O.target.value}))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:[i("checkout.email")," *"]}),c.jsx("input",{type:"email",id:"email",required:!0,className:"w-full px-3 py-2 bg-background border border-input rounded-md text-foreground",value:y.email,onChange:O=>x(S=>({...S,email:O.target.value}))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",htmlFor:"phone",children:[i("checkout.phone")," *"]}),c.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,pattern:"[0-9]*",inputMode:"numeric",className:"w-full px-3 py-2 bg-background border border-input rounded-md text-foreground",value:y.phone,onChange:O=>{const S=O.target.value.replace(/[^0-9]/g,"");x(I=>({...I,phone:S})),w!=null&&w.uid&&localStorage.setItem(`profile_phone_${w.uid}`,S)},onKeyDown:O=>{["e","E","+","-","."].includes(O.key)&&O.preventDefault()}})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",htmlFor:"address",children:[i("checkout.address")," *"]}),c.jsx("input",{type:"text",id:"address",required:!0,className:"w-full px-3 py-2 bg-background border border-input rounded-md text-foreground",name:"address",value:y.address,onChange:b})]})]}),c.jsx("div",{className:"mt-6",children:c.jsx(pe,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:h,children:i(h?"checkout.processing":"checkout.complete_order")})})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-card rounded-lg shadow-sm p-6 border border-border",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),c.jsxs("div",{className:"space-y-4",children:[t.map(O=>{const S=f(O.product.name),I=Array.isArray(O.product.images)&&O.product.images.length>0?O.product.images[0]:"";return c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[I&&c.jsx("img",{src:I,alt:S,className:"w-16 h-16 object-cover rounded"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:S}),c.jsxs("p",{className:"text-sm text-gray-500",children:[O.quantity," × ",O.product.price," ₾"]})]})]}),c.jsxs("p",{className:"font-medium",children:[(O.quantity*O.product.price).toFixed(2)," ₾"]})]},O.product.id)}),c.jsxs("div",{className:"border-t pt-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal"}),c.jsxs("span",{children:[n().toFixed(2)," ₾"]})]}),r().amount>0&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsxs("span",{children:["Discount (",r().percentage,"%)"]}),c.jsxs("span",{children:["-",r().amount.toFixed(2)," ₾"]})]}),c.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:[s().toFixed(2)," ₾"]})]})]})]})]})})]})]})})};function vZ(){const[t,e]=g.useState(!1),n=pa(),r=a_();g.useEffect(()=>{function i(){const o=window.pageYOffset||document.documentElement.scrollTop;e(o>300)}return window.addEventListener("scroll",i),i(),()=>{window.removeEventListener("scroll",i)}},[]),g.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[n.pathname,JSON.stringify(r)]);function s(){window.scrollTo({top:0,behavior:"smooth"})}return t?c.jsx("button",{onClick:s,style:{position:"fixed",bottom:"20px",right:"20px",padding:"10px 15px",fontSize:"16px",background:"red",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",zIndex:9999},children:"Up"}):null}const yZ=({children:t})=>{const{t:e}=l_(),[n,r]=g.useState(!1),s=()=>document.getElementById("main")||document.documentElement||document.body,i=()=>{const l=s().scrollTop||window.pageYOffset;r(l>300)},o=()=>{s().scrollTo({top:0,behavior:"smooth"})};return g.useEffect(()=>{const a=s();return a.addEventListener("scroll",i,{passive:!0}),()=>{a.removeEventListener("scroll",i)}},[]),c.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-gray-900 via-gray-900 to-black",children:[c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-crimson/5 via-transparent to-transparent opacity-40"}),c.jsx("div",{className:"relative z-10",children:t}),c.jsxs("button",{onClick:o,className:oe("fixed left-6 bottom-6 z-50 inline-flex items-center justify-center gap-2 px-6 py-3 text-base font-medium","bg-crimson/10 hover:bg-crimson/20 text-crimson border border-crimson/20 rounded-md","transition-all duration-300 transform group",n?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"),"aria-label":e("common.scroll_to_top",{defaultValue:"Scroll to top"}),children:[e("common.scroll_to_top",{defaultValue:"Back to top"}),c.jsx(lk,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})},wZ=new z9,xZ=()=>{const[t,e]=g.useState(!0);return g.useEffect(()=>{const n=setTimeout(()=>{e(!1)},3e3);return()=>clearTimeout(n)},[]),t?c.jsx(MG,{}):c.jsx(G9,{client:wZ,children:c.jsx(sR,{children:c.jsx(T$,{children:c.jsx(OG,{children:c.jsx(S$,{children:c.jsxs(DG,{children:[c.jsx(wF,{}),c.jsx(JF,{}),c.jsxs(s$,{children:[c.jsx(vZ,{}),c.jsx(yZ,{children:c.jsx("div",{id:"main",className:"min-h-screen flex flex-col",children:c.jsxs(Y8,{children:[c.jsx(Ln,{path:"/",element:c.jsx(HJ,{})}),c.jsx(Ln,{path:"/shop",element:c.jsx(vX,{})}),c.jsx(Ln,{path:"/about",element:c.jsx(yX,{})}),c.jsx(Ln,{path:"/contact",element:c.jsx(AX,{})}),c.jsx(Ln,{path:"/product/:id",element:c.jsx(qX,{})}),c.jsx(Ln,{path:"/category/:categoryName",element:c.jsx(HX,{})}),c.jsx(Ln,{path:"/reviews",element:c.jsx(KX,{})}),c.jsx(Ln,{path:"/profile",element:c.jsx(hZ,{})}),c.jsx(Ln,{path:"/faq",element:c.jsx(pZ,{})}),c.jsx(Ln,{path:"/checkout",element:c.jsx(gZ,{})}),c.jsx(Ln,{path:"*",element:c.jsx(jX,{})})]})})})]})]})})})})})})};const ye=t=>typeof t=="string",au=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},rC=t=>t==null?"":""+t,_Z=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},bZ=/###/g,sC=t=>t&&t.indexOf("###")>-1?t.replace(bZ,"."):t,iC=t=>!t||ye(t),zu=(t,e,n)=>{const r=ye(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(iC(t))return{};const i=sC(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return iC(t)?{}:{obj:t,k:sC(r[s])}},oC=(t,e,n)=>{const{obj:r,k:s}=zu(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=zu(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=zu(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},EZ=(t,e,n,r)=>{const{obj:s,k:i}=zu(t,e,Object);s[i]=s[i]||[],s[i].push(n)},Tm=(t,e)=>{const{obj:n,k:r}=zu(t,e);if(n)return n[r]},IZ=(t,e,n)=>{const r=Tm(t,n);return r!==void 0?r:Tm(e,n)},EM=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ye(t[r])||t[r]instanceof String||ye(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):EM(t[r],e[r],n):t[r]=e[r]);return t},Fa=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var TZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const SZ=t=>ye(t)?t.replace(/[&<>"'\/]/g,e=>TZ[e]):t;class CZ{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const NZ=[" ",",","?","!",";"],kZ=new CZ(20),RZ=(t,e,n)=>{e=e||"",n=n||"";const r=NZ.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=kZ.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},Uw=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},Sm=t=>t&&t.replace("_","-"),PZ={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Cm{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||PZ,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(ye(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Cm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Cm(this.logger,e)}}var Dr=new Cm;class Jg{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[e,...r])})}}class aC extends Jg{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):ye(r)&&i?a.push(...r.split(i)):a.push(r)));const l=Tm(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!ye(r)?l:Uw(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),oC(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(ye(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=Tm(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?EM(l,r,i):l={...l,...r},oC(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var IM={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const lC={};class Nm extends Jg{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),_Z(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Dr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!RZ(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ye(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:ye(i)?[i]:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],u=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const C=n.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${C}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${C}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(e,n);let p=h&&h.res;const m=h&&h.usedKey||o,_=h&&h.exactUsedKey||o,w=Object.prototype.toString.apply(p),y=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,E=!ye(p)&&typeof p!="boolean"&&typeof p!="number";if(b&&p&&E&&y.indexOf(w)<0&&!(ye(x)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=C,h.usedParams=this.getUsedParamsDetails(n),h):C}if(i){const C=Array.isArray(p),j=C?[]:{},O=C?_:m;for(const S in p)if(Object.prototype.hasOwnProperty.call(p,S)){const I=`${O}${i}${S}`;j[S]=this.translate(I,{...n,joinArrays:!1,ns:a}),j[S]===I&&(j[S]=p[S])}p=j}}else if(b&&ye(x)&&Array.isArray(p))p=p.join(x),p&&(p=this.extendTranslation(p,e,n,r));else{let C=!1,j=!1;const O=n.count!==void 0&&!ye(n.count),S=Nm.hasDefaultValue(n),I=O?this.pluralResolver.getSuffix(u,n.count,n):"",P=n.ordinal&&O?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",k=O&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),D=k&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${I}`]||n[`defaultValue${P}`]||n.defaultValue;!this.isValidLookup(p)&&S&&(C=!0,p=D),this.isValidLookup(p)||(j=!0,p=o);const R=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:p,U=S&&D!==p&&this.options.updateMissing;if(j||C||U){if(this.logger.log(U?"updateKey":"missingKey",u,l,o,U?D:p),i){const F=this.resolve(o,{...n,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let F=0;F<K.length;F++)Q.push(K[F]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(n.lng||this.language):Q.push(n.lng||this.language);const Z=(F,$,W)=>{const q=S&&W!==p?W:R;this.options.missingKeyHandler?this.options.missingKeyHandler(F,l,$,q,U,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(F,l,$,q,U,n),this.emit("missingKey",F,l,$,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?Q.forEach(F=>{const $=this.pluralResolver.getSuffixes(F,n);k&&n[`defaultValue${this.options.pluralSeparator}zero`]&&$.indexOf(`${this.options.pluralSeparator}zero`)<0&&$.push(`${this.options.pluralSeparator}zero`),$.forEach(W=>{Z([F],o+W,n[`defaultValue${W}`]||D)})}):Z(Q,o,D))}p=this.extendTranslation(p,e,n,h,r),j&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),(j||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return s?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(e,n,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=ye(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const p=e.match(this.interpolator.nestingRegexp);f=p&&p.length}let h=r.replace&&!ye(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),m=p&&p.length;f<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,m=new Array(p),_=0;_<p;_++)m[_]=arguments[_];return i&&i[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):o.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=ye(a)?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=IM.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,a;return ye(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),f=u.key;s=f;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!ye(n.count),m=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),_=n.context!==void 0&&(ye(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(y=>{this.isValidLookup(r)||(a=y,!lC[`${w[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(lC[`${w[0]}-${y}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(x=>{if(this.isValidLookup(r))return;o=x;const b=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,f,x,y,n);else{let C;p&&(C=this.pluralResolver.getSuffix(x,n.count,n));const j=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(b.push(f+C),n.ordinal&&C.indexOf(O)===0&&b.push(f+C.replace(O,this.options.pluralSeparator)),m&&b.push(f+j)),_){const S=`${f}${this.options.contextSeparator}${n.context}`;b.push(S),p&&(b.push(S+C),n.ordinal&&C.indexOf(O)===0&&b.push(S+C.replace(O,this.options.pluralSeparator)),m&&b.push(S+j))}}let E;for(;E=b.pop();)this.isValidLookup(r)||(i=E,r=this.getResource(x,y,E,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ye(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const Ty=t=>t.charAt(0).toUpperCase()+t.slice(1);class cC{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Dr.create("languageUtils")}getScriptPartFromCode(e){if(e=Sm(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Sm(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ye(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ty(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ty(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Ty(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ye(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ye(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):ye(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let AZ=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],jZ={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const DZ=["v1","v2","v3"],OZ=["v4"],uC={zero:0,one:1,two:2,few:3,many:4,other:5},MZ=()=>{const t={};return AZ.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:jZ[e.fc]}})}),t};class LZ{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Dr.create("pluralResolver"),(!this.options.compatibilityJSON||OZ.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=MZ(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Sm(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>uC[s]-uC[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!DZ.includes(this.options.compatibilityJSON)}}const dC=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=IZ(t,e,n);return!i&&s&&ye(n)&&(i=Uw(t,n,r),i===void 0&&(i=Uw(e,n,r))),i},Sy=t=>t.replace(/\$/g,"$$$$");class VZ{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Dr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:_,nestingSuffixEscaped:w,nestingOptionsSeparator:y,maxReplaces:x,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:SZ,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Fa(i):o||"{{",this.suffix=a?Fa(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?Fa(p):m||Fa("$t("),this.nestingSuffix=_?Fa(_):w||Fa(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=x||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const x=dC(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...s,...n,interpolationkey:m}):x}const _=m.split(this.formatSeparator),w=_.shift().trim(),y=_.join(this.formatSeparator).trim();return this.format(dC(n,l,w,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...s,...n,interpolationkey:w})};this.resetRegExp();const f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Sy(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Sy(this.escape(m)):Sy(m)}].forEach(m=>{for(a=0;i=m.regex.exec(e);){const _=i[1].trim();if(o=u(_),o===void 0)if(typeof f=="function"){const y=f(e,i,s);o=ye(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,_))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),o="";else!ye(o)&&!this.useRawValueToEscape&&(o=rC(o));const w=m.safeValue(o);if(e=e.replace(i[0],w),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const a=(l,u)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const h=l.split(new RegExp(`${f}[ ]*{`));let p=`{${h[1]}`;l=h[0],p=this.interpolate(p,o);const m=p.match(/'/g),_=p.match(/"/g);(m&&m.length%2===0&&!_||_.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${f}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!ye(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const f=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=f.shift(),l=f,u=!0}if(i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!ye(i))return i;ye(i)||(i=rC(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((f,h)=>this.format(f,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const FZ=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),f=a.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},$a=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=t(Sm(r),s),e[o]=a),a(n)}};class $Z{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Dr.create("formatter"),this.options=e,this.formats={number:$a((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:$a((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:$a((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:$a((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:$a((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=$a(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{const{formatName:u,formatOptions:f}=FZ(l);if(this.formats[u]){let h=a;try{const p=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},m=p.locale||p.lng||s.locale||s.lng||r;h=this.formats[u](a,m,{...f,...s,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const UZ=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class BZ extends Jg{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Dr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},l={};return e.forEach(u=>{let f=!0;n.forEach(h=>{const p=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,f=!1,o[p]===void 0&&(o[p]=!0),i[p]===void 0&&(i[p]=!0),l[h]===void 0&&(l[h]=!0)))}),f||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{EZ(l.loaded,[i],o),UZ(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const f=l.loaded[u];f.length&&f.forEach(h=>{a[u][h]===void 0&&(a[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(f=>a(null,f)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ye(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ye(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(e,n,r,s,l):f=u(e,n,r,s),f&&typeof f.then=="function"?f.then(h=>a(null,h)).catch(a):a(null,f)}catch(f){a(f)}else u(e,n,r,s,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const hC=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ye(t[1])&&(e.defaultValue=t[1]),ye(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),fC=t=>(ye(t.ns)&&(t.ns=[t.ns]),ye(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ye(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Cf=()=>{},zZ=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class jd extends Jg{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=fC(e),this.services={},this.logger=Dr,this.modules={external:[]},zZ(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(ye(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=hC();this.options={...s,...this.options,...fC(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Dr.init(i(this.modules.logger),this.options):Dr.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=$Z);const h=new cC(this.options);this.store=new aC(this.options.resources,this.options);const p=this.services;p.logger=Dr,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new LZ(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(p.formatter=i(f),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new VZ(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new BZ(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var _=arguments.length,w=new Array(_>1?_-1:0),y=1;y<_;y++)w[y-1]=arguments[y];e.emit(m,...w)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Nm(this.services,this.options),this.translator.on("*",function(m){for(var _=arguments.length,w=new Array(_>1?_-1:0),y=1;y<_;y++)w[y-1]=arguments[y];e.emit(m,...w)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Cf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const l=au(),u=()=>{const f=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),r(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cf;const s=ye(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const s=au();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Cf),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&IM.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=au();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=ye(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{o(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,n,r){var s=this;const i=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),h=2;h<u;h++)f[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([o,a].concat(f))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const p=s.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(o)?m=o.map(_=>`${l.keyPrefix}${p}${_}`):m=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,s.t(m,l)};return ye(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=au();return this.options.ns?(ye(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=au();ye(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new cC(hC());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new jd(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cf;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new jd(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new aC(this.store.data,s),i.services.resourceStore=i.store),i.translator=new Nm(i.services,s),i.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),f=1;f<l;f++)u[f-1]=arguments[f];i.emit(a,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=jd.createInstance();Qt.createInstance=jd.createInstance;Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;const qZ=t=>{const e={ru:{},en:{},ge:{}};return Object.entries(t).forEach(([n,r])=>{if(r&&typeof r=="object"&&"ru"in r&&"en"in r&&"ge"in r){const s=r;e.ru[n]=s.ru,e.en[n]=s.en,e.ge[n]=s.ge}else{const s=String(r);e.ru[n]=s,e.en[n]=s,e.ge[n]=s}}),e},Il=qZ(RR);console.log("Discount translation:",{ru:Il.ru["cart.discount_5"],en:Il.en["cart.discount_5"],ge:Il.ge["cart.discount_5"]});Qt.use(x$).init({resources:{ru:{translation:Il.ru},en:{translation:Il.en},ge:{translation:Il.ge}},lng:"ge",fallbackLng:"ge",interpolation:{escapeValue:!1}});const HZ=console.warn;console.warn=(...t)=>{var e;(e=t[0])!=null&&e.includes("React Router:")||HZ(...t)};Cy.createRoot(document.getElementById("root")).render(c.jsx(J.StrictMode,{children:c.jsx(xZ,{})}));
//# sourceMappingURL=main-950d2509.js.map
