var ny=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var L=(t,e,n)=>(ny(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},oe=(t,e,n,r)=>(ny(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var yf=(t,e,n,r)=>({set _(s){oe(t,e,s,n)},get _(){return L(t,e,r)}}),Ne=(t,e,n)=>(ny(t,e,"access private method"),n);function B3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function YC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JC={exports:{}},pg={},XC={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=Symbol.for("react.element"),z3=Symbol.for("react.portal"),q3=Symbol.for("react.fragment"),H3=Symbol.for("react.strict_mode"),K3=Symbol.for("react.profiler"),W3=Symbol.for("react.provider"),G3=Symbol.for("react.context"),Q3=Symbol.for("react.forward_ref"),Y3=Symbol.for("react.suspense"),J3=Symbol.for("react.memo"),X3=Symbol.for("react.lazy"),VE=Symbol.iterator;function Z3(t){return t===null||typeof t!="object"?null:(t=VE&&t[VE]||t["@@iterator"],typeof t=="function"?t:null)}var ZC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ek=Object.assign,tk={};function Ac(t,e,n){this.props=t,this.context=e,this.refs=tk,this.updater=n||ZC}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nk(){}nk.prototype=Ac.prototype;function Wx(t,e,n){this.props=t,this.context=e,this.refs=tk,this.updater=n||ZC}var Gx=Wx.prototype=new nk;Gx.constructor=Wx;ek(Gx,Ac.prototype);Gx.isPureReactComponent=!0;var FE=Array.isArray,rk=Object.prototype.hasOwnProperty,Qx={current:null},sk={key:!0,ref:!0,__self:!0,__source:!0};function ik(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)rk.call(e,r)&&!sk.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:yh,type:t,key:i,ref:o,props:s,_owner:Qx.current}}function eL(t,e){return{$$typeof:yh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yx(t){return typeof t=="object"&&t!==null&&t.$$typeof===yh}function tL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $E=/\/+/g;function ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tL(""+t.key):e.toString(36)}function sp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yh:case z3:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ry(o,0):r,FE(s)?(n="",t!=null&&(n=t.replace($E,"$&/")+"/"),sp(s,e,n,"",function(u){return u})):s!=null&&(Yx(s)&&(s=eL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($E,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",FE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ry(i,a);o+=sp(i,e,n,l,s)}else if(l=Z3(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ry(i,a++),o+=sp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wf(t,e,n){if(t==null)return t;var r=[],s=0;return sp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},ip={transition:null},rL={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:ip,ReactCurrentOwner:Qx};function ok(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:wf,forEach:function(t,e,n){wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wf(t,function(){e++}),e},toArray:function(t){return wf(t,function(e){return e})||[]},only:function(t){if(!Yx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Ac;Te.Fragment=q3;Te.Profiler=K3;Te.PureComponent=Wx;Te.StrictMode=H3;Te.Suspense=Y3;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rL;Te.act=ok;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ek({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rk.call(e,l)&&!sk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yh,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:G3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W3,_context:t},t.Consumer=t};Te.createElement=ik;Te.createFactory=function(t){var e=ik.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:Q3,render:t}};Te.isValidElement=Yx;Te.lazy=function(t){return{$$typeof:X3,_payload:{_status:-1,_result:t},_init:nL}};Te.memo=function(t,e){return{$$typeof:J3,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=ip.transition;ip.transition={};try{t()}finally{ip.transition=e}};Te.unstable_act=ok;Te.useCallback=function(t,e){return dn.current.useCallback(t,e)};Te.useContext=function(t){return dn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return dn.current.useEffect(t,e)};Te.useId=function(){return dn.current.useId()};Te.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return dn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Te.useRef=function(t){return dn.current.useRef(t)};Te.useState=function(t){return dn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return dn.current.useTransition()};Te.version="18.3.1";XC.exports=Te;var g=XC.exports;const Q=YC(g),Jx=B3({__proto__:null,default:Q},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sL=g,iL=Symbol.for("react.element"),oL=Symbol.for("react.fragment"),aL=Object.prototype.hasOwnProperty,lL=sL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cL={key:!0,ref:!0,__self:!0,__source:!0};function ak(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aL.call(e,r)&&!cL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:iL,type:t,key:i,ref:o,props:s,_owner:lL.current}}pg.Fragment=oL;pg.jsx=ak;pg.jsxs=ak;JC.exports=pg;var c=JC.exports,b0={},lk={exports:{}},Un={},ck={exports:{}},uk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,F){var W=M.length;M.push(F);e:for(;0<W;){var z=W-1>>>1,q=M[z];if(0<s(q,F))M[z]=F,M[W]=q,W=z;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],W=M.pop();if(W!==F){M[0]=W;e:for(var z=0,q=M.length,Z=q>>>1;z<Z;){var ue=2*(z+1)-1,ie=M[ue],ce=ue+1,be=M[ce];if(0>s(ie,W))ce<q&&0>s(be,ie)?(M[z]=be,M[ce]=W,z=ce):(M[z]=ie,M[ue]=W,z=ue);else if(ce<q&&0>s(be,W))M[z]=be,M[ce]=W,z=ce;else break e}}return F}function s(M,F){var W=M.sortIndex-F.sortIndex;return W!==0?W:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function C(M){if(w=!1,E(M),!b)if(n(l)!==null)b=!0,U(R);else{var F=n(u);F!==null&&G(C,F.startTime-M)}}function R(M,F){b=!1,w&&(w=!1,x(I),I=-1),m=!0;var W=p;try{for(E(F),h=n(l);h!==null&&(!(h.expirationTime>F)||M&&!D());){var z=h.callback;if(typeof z=="function"){h.callback=null,p=h.priorityLevel;var q=z(h.expirationTime<=F);F=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),E(F)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var ue=n(u);ue!==null&&G(C,ue.startTime-F),Z=!1}return Z}finally{h=null,p=W,m=!1}}var O=!1,S=null,I=-1,N=5,k=-1;function D(){return!(t.unstable_now()-k<N)}function P(){if(S!==null){var M=t.unstable_now();k=M;var F=!0;try{F=S(!0,M)}finally{F?j():(O=!1,S=null)}}else O=!1}var j;if(typeof _=="function")j=function(){_(P)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=P,j=function(){X.postMessage(null)}}else j=function(){y(P,0)};function U(M){S=M,O||(O=!0,j())}function G(M,F){I=y(function(){M(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,U(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var W=p;p=F;try{return M()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=p;p=M;try{return F()}finally{p=W}},t.unstable_scheduleCallback=function(M,F,W){var z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,M={id:f++,callback:F,priorityLevel:M,startTime:W,expirationTime:q,sortIndex:-1},W>z?(M.sortIndex=W,e(u,M),n(l)===null&&M===n(u)&&(w?(x(I),I=-1):w=!0,G(C,W-z))):(M.sortIndex=q,e(l,M),b||m||(b=!0,U(R))),M},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(M){var F=p;return function(){var W=p;p=F;try{return M.apply(this,arguments)}finally{p=W}}}})(uk);ck.exports=uk;var uL=ck.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dL=g,Fn=uL;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dk=new Set,pd={};function _a(t,e){Jl(t,e),Jl(t+"Capture",e)}function Jl(t,e){for(pd[t]=e,t=0;t<e.length;t++)dk.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_0=Object.prototype.hasOwnProperty,hL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UE={},BE={};function fL(t){return _0.call(BE,t)?!0:_0.call(UE,t)?!1:hL.test(t)?BE[t]=!0:(UE[t]=!0,!1)}function pL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mL(t,e,n,r){if(e===null||typeof e>"u"||pL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xx=/[\-:]([a-z])/g;function Zx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xx,Zx);Bt[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xx,Zx);Bt[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xx,Zx);Bt[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function e1(t,e,n,r){var s=Bt.hasOwnProperty(e)?Bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mL(e,n,s,r)&&(n=null),r||s===null?fL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ls=dL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xf=Symbol.for("react.element"),ol=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),E0=Symbol.for("react.profiler"),hk=Symbol.for("react.provider"),fk=Symbol.for("react.context"),n1=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),r1=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),pk=Symbol.for("react.offscreen"),zE=Symbol.iterator;function cu(t){return t===null||typeof t!="object"?null:(t=zE&&t[zE]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,sy;function Ru(t){if(sy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sy=e&&e[1]||""}return`
`+sy+t}var iy=!1;function oy(t,e){if(!t||iy)return"";iy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{iy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ru(t):""}function gL(t){switch(t.tag){case 5:return Ru(t.type);case 16:return Ru("Lazy");case 13:return Ru("Suspense");case 19:return Ru("SuspenseList");case 0:case 2:case 15:return t=oy(t.type,!1),t;case 11:return t=oy(t.type.render,!1),t;case 1:return t=oy(t.type,!0),t;default:return""}}function T0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case al:return"Fragment";case ol:return"Portal";case E0:return"Profiler";case t1:return"StrictMode";case I0:return"Suspense";case S0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fk:return(t.displayName||"Context")+".Consumer";case hk:return(t._context.displayName||"Context")+".Provider";case n1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case r1:return e=t.displayName||null,e!==null?e:T0(t.type)||"Memo";case oi:e=t._payload,t=t._init;try{return T0(t(e))}catch{}}return null}function vL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T0(e);case 8:return e===t1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yL(t){var e=mk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bf(t){t._valueTracker||(t._valueTracker=yL(t))}function gk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C0(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vk(t,e){e=e.checked,e!=null&&e1(t,"checked",e,!1)}function k0(t,e){vk(t,e);var n=zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N0(t,e.type,n):e.hasOwnProperty("defaultValue")&&N0(t,e.type,zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function HE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function N0(t,e,n){(e!=="number"||Yp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pu=Array.isArray;function wl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function R0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Pu(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zi(n)}}function yk(t,e){var n=zi(e.value),r=zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _f,xk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_f=_f||document.createElement("div"),_f.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_f.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function md(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wL=["Webkit","ms","Moz","O"];Object.keys(qu).forEach(function(t){wL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qu[e]=qu[t]})});function bk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qu.hasOwnProperty(t)&&qu[t]?(""+e).trim():e+"px"}function _k(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xL=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A0(t,e){if(e){if(xL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function j0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D0=null;function s1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O0=null,xl=null,bl=null;function GE(t){if(t=bh(t)){if(typeof O0!="function")throw Error(J(280));var e=t.stateNode;e&&(e=wg(e),O0(t.stateNode,t.type,e))}}function Ek(t){xl?bl?bl.push(t):bl=[t]:xl=t}function Ik(){if(xl){var t=xl,e=bl;if(bl=xl=null,GE(t),e)for(t=0;t<e.length;t++)GE(e[t])}}function Sk(t,e){return t(e)}function Tk(){}var ay=!1;function Ck(t,e,n){if(ay)return t(e,n);ay=!0;try{return Sk(t,e,n)}finally{ay=!1,(xl!==null||bl!==null)&&(Tk(),Ik())}}function gd(t,e){var n=t.stateNode;if(n===null)return null;var r=wg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var M0=!1;if(Ss)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){M0=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{M0=!1}function bL(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Hu=!1,Jp=null,Xp=!1,L0=null,_L={onError:function(t){Hu=!0,Jp=t}};function EL(t,e,n,r,s,i,o,a,l){Hu=!1,Jp=null,bL.apply(_L,arguments)}function IL(t,e,n,r,s,i,o,a,l){if(EL.apply(this,arguments),Hu){if(Hu){var u=Jp;Hu=!1,Jp=null}else throw Error(J(198));Xp||(Xp=!0,L0=u)}}function Ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QE(t){if(Ea(t)!==t)throw Error(J(188))}function SL(t){var e=t.alternate;if(!e){if(e=Ea(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return QE(s),t;if(i===r)return QE(s),e;i=i.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Nk(t){return t=SL(t),t!==null?Rk(t):null}function Rk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rk(t);if(e!==null)return e;t=t.sibling}return null}var Pk=Fn.unstable_scheduleCallback,YE=Fn.unstable_cancelCallback,TL=Fn.unstable_shouldYield,CL=Fn.unstable_requestPaint,ht=Fn.unstable_now,kL=Fn.unstable_getCurrentPriorityLevel,i1=Fn.unstable_ImmediatePriority,Ak=Fn.unstable_UserBlockingPriority,Zp=Fn.unstable_NormalPriority,NL=Fn.unstable_LowPriority,jk=Fn.unstable_IdlePriority,mg=null,Wr=null;function RL(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(mg,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:jL,PL=Math.log,AL=Math.LN2;function jL(t){return t>>>=0,t===0?32:31-(PL(t)/AL|0)|0}var Ef=64,If=4194304;function Au(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function em(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Au(a):(i&=o,i!==0&&(r=Au(i)))}else o=n&~s,o!==0?r=Au(o):i!==0&&(r=Au(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),s=1<<n,r|=t[n],e&=~s;return r}function DL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=DL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function V0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dk(){var t=Ef;return Ef<<=1,!(Ef&4194240)&&(Ef=64),t}function ly(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function ML(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function o1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Fe=0;function Ok(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mk,a1,Lk,Vk,Fk,F0=!1,Sf=[],Ti=null,Ci=null,ki=null,vd=new Map,yd=new Map,li=[],LL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JE(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":vd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yd.delete(e.pointerId)}}function du(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bh(e),e!==null&&a1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function VL(t,e,n,r,s){switch(e){case"focusin":return Ti=du(Ti,t,e,n,r,s),!0;case"dragenter":return Ci=du(Ci,t,e,n,r,s),!0;case"mouseover":return ki=du(ki,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return vd.set(i,du(vd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yd.set(i,du(yd.get(i)||null,t,e,n,r,s)),!0}return!1}function $k(t){var e=Ro(t.target);if(e!==null){var n=Ea(e);if(n!==null){if(e=n.tag,e===13){if(e=kk(n),e!==null){t.blockedOn=e,Fk(t.priority,function(){Lk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function op(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);D0=r,n.target.dispatchEvent(r),D0=null}else return e=bh(n),e!==null&&a1(e),t.blockedOn=n,!1;e.shift()}return!0}function XE(t,e,n){op(t)&&n.delete(e)}function FL(){F0=!1,Ti!==null&&op(Ti)&&(Ti=null),Ci!==null&&op(Ci)&&(Ci=null),ki!==null&&op(ki)&&(ki=null),vd.forEach(XE),yd.forEach(XE)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,F0||(F0=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,FL)))}function wd(t){function e(s){return hu(s,t)}if(0<Sf.length){hu(Sf[0],t);for(var n=1;n<Sf.length;n++){var r=Sf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&hu(Ti,t),Ci!==null&&hu(Ci,t),ki!==null&&hu(ki,t),vd.forEach(e),yd.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)$k(n),n.blockedOn===null&&li.shift()}var _l=Ls.ReactCurrentBatchConfig,tm=!0;function $L(t,e,n,r){var s=Fe,i=_l.transition;_l.transition=null;try{Fe=1,l1(t,e,n,r)}finally{Fe=s,_l.transition=i}}function UL(t,e,n,r){var s=Fe,i=_l.transition;_l.transition=null;try{Fe=4,l1(t,e,n,r)}finally{Fe=s,_l.transition=i}}function l1(t,e,n,r){if(tm){var s=$0(t,e,n,r);if(s===null)yy(t,e,r,nm,n),JE(t,r);else if(VL(s,t,e,n,r))r.stopPropagation();else if(JE(t,r),e&4&&-1<LL.indexOf(t)){for(;s!==null;){var i=bh(s);if(i!==null&&Mk(i),i=$0(t,e,n,r),i===null&&yy(t,e,r,nm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yy(t,e,r,null,n)}}var nm=null;function $0(t,e,n,r){if(nm=null,t=s1(r),t=Ro(t),t!==null)if(e=Ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nm=t,null}function Uk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kL()){case i1:return 1;case Ak:return 4;case Zp:case NL:return 16;case jk:return 536870912;default:return 16}default:return 16}}var _i=null,c1=null,ap=null;function Bk(){if(ap)return ap;var t,e=c1,n=e.length,r,s="value"in _i?_i.value:_i.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ap=s.slice(t,1<r?1-r:void 0)}function lp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tf(){return!0}function ZE(){return!1}function Bn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tf:ZE,this.isPropagationStopped=ZE,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tf)},persist:function(){},isPersistent:Tf}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u1=Bn(jc),xh=ot({},jc,{view:0,detail:0}),BL=Bn(xh),cy,uy,fu,gg=ot({},xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fu&&(fu&&t.type==="mousemove"?(cy=t.screenX-fu.screenX,uy=t.screenY-fu.screenY):uy=cy=0,fu=t),cy)},movementY:function(t){return"movementY"in t?t.movementY:uy}}),eI=Bn(gg),zL=ot({},gg,{dataTransfer:0}),qL=Bn(zL),HL=ot({},xh,{relatedTarget:0}),dy=Bn(HL),KL=ot({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),WL=Bn(KL),GL=ot({},jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QL=Bn(GL),YL=ot({},jc,{data:0}),tI=Bn(YL),JL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZL[t])?!!e[t]:!1}function d1(){return eV}var tV=ot({},xh,{key:function(t){if(t.key){var e=JL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d1,charCode:function(t){return t.type==="keypress"?lp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nV=Bn(tV),rV=ot({},gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nI=Bn(rV),sV=ot({},xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d1}),iV=Bn(sV),oV=ot({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),aV=Bn(oV),lV=ot({},gg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cV=Bn(lV),uV=[9,13,27,32],h1=Ss&&"CompositionEvent"in window,Ku=null;Ss&&"documentMode"in document&&(Ku=document.documentMode);var dV=Ss&&"TextEvent"in window&&!Ku,zk=Ss&&(!h1||Ku&&8<Ku&&11>=Ku),rI=String.fromCharCode(32),sI=!1;function qk(t,e){switch(t){case"keyup":return uV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ll=!1;function hV(t,e){switch(t){case"compositionend":return Hk(e);case"keypress":return e.which!==32?null:(sI=!0,rI);case"textInput":return t=e.data,t===rI&&sI?null:t;default:return null}}function fV(t,e){if(ll)return t==="compositionend"||!h1&&qk(t,e)?(t=Bk(),ap=c1=_i=null,ll=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zk&&e.locale!=="ko"?null:e.data;default:return null}}var pV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pV[t.type]:e==="textarea"}function Kk(t,e,n,r){Ek(r),e=rm(e,"onChange"),0<e.length&&(n=new u1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wu=null,xd=null;function mV(t){rN(t,0)}function vg(t){var e=dl(t);if(gk(e))return t}function gV(t,e){if(t==="change")return e}var Wk=!1;if(Ss){var hy;if(Ss){var fy="oninput"in document;if(!fy){var oI=document.createElement("div");oI.setAttribute("oninput","return;"),fy=typeof oI.oninput=="function"}hy=fy}else hy=!1;Wk=hy&&(!document.documentMode||9<document.documentMode)}function aI(){Wu&&(Wu.detachEvent("onpropertychange",Gk),xd=Wu=null)}function Gk(t){if(t.propertyName==="value"&&vg(xd)){var e=[];Kk(e,xd,t,s1(t)),Ck(mV,e)}}function vV(t,e,n){t==="focusin"?(aI(),Wu=e,xd=n,Wu.attachEvent("onpropertychange",Gk)):t==="focusout"&&aI()}function yV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vg(xd)}function wV(t,e){if(t==="click")return vg(e)}function xV(t,e){if(t==="input"||t==="change")return vg(e)}function bV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ir=typeof Object.is=="function"?Object.is:bV;function bd(t,e){if(Ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_0.call(e,s)||!Ir(t[s],e[s]))return!1}return!0}function lI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cI(t,e){var n=lI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lI(n)}}function Qk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yk(){for(var t=window,e=Yp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yp(t.document)}return e}function f1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _V(t){var e=Yk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qk(n.ownerDocument.documentElement,n)){if(r!==null&&f1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=cI(n,i);var o=cI(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EV=Ss&&"documentMode"in document&&11>=document.documentMode,cl=null,U0=null,Gu=null,B0=!1;function uI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B0||cl==null||cl!==Yp(r)||(r=cl,"selectionStart"in r&&f1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gu&&bd(Gu,r)||(Gu=r,r=rm(U0,"onSelect"),0<r.length&&(e=new u1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cl)))}function Cf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ul={animationend:Cf("Animation","AnimationEnd"),animationiteration:Cf("Animation","AnimationIteration"),animationstart:Cf("Animation","AnimationStart"),transitionend:Cf("Transition","TransitionEnd")},py={},Jk={};Ss&&(Jk=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function yg(t){if(py[t])return py[t];if(!ul[t])return t;var e=ul[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jk)return py[t]=e[n];return t}var Xk=yg("animationend"),Zk=yg("animationiteration"),eN=yg("animationstart"),tN=yg("transitionend"),nN=new Map,dI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){nN.set(t,e),_a(e,[t])}for(var my=0;my<dI.length;my++){var gy=dI[my],IV=gy.toLowerCase(),SV=gy[0].toUpperCase()+gy.slice(1);Xi(IV,"on"+SV)}Xi(Xk,"onAnimationEnd");Xi(Zk,"onAnimationIteration");Xi(eN,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(tN,"onTransitionEnd");Jl("onMouseEnter",["mouseout","mouseover"]);Jl("onMouseLeave",["mouseout","mouseover"]);Jl("onPointerEnter",["pointerout","pointerover"]);Jl("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TV=new Set("cancel close invalid load scroll toggle".split(" ").concat(ju));function hI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IL(r,e,void 0,t),t.currentTarget=null}function rN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;hI(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;hI(s,a,u),i=l}}}if(Xp)throw t=L0,Xp=!1,L0=null,t}function Ge(t,e){var n=e[W0];n===void 0&&(n=e[W0]=new Set);var r=t+"__bubble";n.has(r)||(sN(e,t,2,!1),n.add(r))}function vy(t,e,n){var r=0;e&&(r|=4),sN(n,t,r,e)}var kf="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[kf]){t[kf]=!0,dk.forEach(function(n){n!=="selectionchange"&&(TV.has(n)||vy(n,!1,t),vy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kf]||(e[kf]=!0,vy("selectionchange",!1,e))}}function sN(t,e,n,r){switch(Uk(e)){case 1:var s=$L;break;case 4:s=UL;break;default:s=l1}n=s.bind(null,e,n,t),s=void 0,!M0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ro(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ck(function(){var u=i,f=s1(n),h=[];e:{var p=nN.get(t);if(p!==void 0){var m=u1,b=t;switch(t){case"keypress":if(lp(n)===0)break e;case"keydown":case"keyup":m=nV;break;case"focusin":b="focus",m=dy;break;case"focusout":b="blur",m=dy;break;case"beforeblur":case"afterblur":m=dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=eI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iV;break;case Xk:case Zk:case eN:m=WL;break;case tN:m=aV;break;case"scroll":m=BL;break;case"wheel":m=cV;break;case"copy":case"cut":case"paste":m=QL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nI}var w=(e&4)!==0,y=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var _=u,E;_!==null;){E=_;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,x!==null&&(C=gd(_,x),C!=null&&w.push(Ed(_,C,E)))),y)break;_=_.return}0<w.length&&(p=new m(p,b,null,n,f),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==D0&&(b=n.relatedTarget||n.fromElement)&&(Ro(b)||b[Ts]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?Ro(b):null,b!==null&&(y=Ea(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(w=eI,C="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=nI,C="onPointerLeave",x="onPointerEnter",_="pointer"),y=m==null?p:dl(m),E=b==null?p:dl(b),p=new w(C,_+"leave",m,n,f),p.target=y,p.relatedTarget=E,C=null,Ro(f)===u&&(w=new w(x,_+"enter",b,n,f),w.target=E,w.relatedTarget=y,C=w),y=C,m&&b)t:{for(w=m,x=b,_=0,E=w;E;E=Fa(E))_++;for(E=0,C=x;C;C=Fa(C))E++;for(;0<_-E;)w=Fa(w),_--;for(;0<E-_;)x=Fa(x),E--;for(;_--;){if(w===x||x!==null&&w===x.alternate)break t;w=Fa(w),x=Fa(x)}w=null}else w=null;m!==null&&fI(h,p,m,w,!1),b!==null&&y!==null&&fI(h,y,b,w,!0)}}e:{if(p=u?dl(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=gV;else if(iI(p))if(Wk)R=xV;else{R=yV;var O=vV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=wV);if(R&&(R=R(t,u))){Kk(h,R,n,f);break e}O&&O(t,p,u),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&N0(p,"number",p.value)}switch(O=u?dl(u):window,t){case"focusin":(iI(O)||O.contentEditable==="true")&&(cl=O,U0=u,Gu=null);break;case"focusout":Gu=U0=cl=null;break;case"mousedown":B0=!0;break;case"contextmenu":case"mouseup":case"dragend":B0=!1,uI(h,n,f);break;case"selectionchange":if(EV)break;case"keydown":case"keyup":uI(h,n,f)}var S;if(h1)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ll?qk(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(zk&&n.locale!=="ko"&&(ll||I!=="onCompositionStart"?I==="onCompositionEnd"&&ll&&(S=Bk()):(_i=f,c1="value"in _i?_i.value:_i.textContent,ll=!0)),O=rm(u,I),0<O.length&&(I=new tI(I,t,null,n,f),h.push({event:I,listeners:O}),S?I.data=S:(S=Hk(n),S!==null&&(I.data=S)))),(S=dV?hV(t,n):fV(t,n))&&(u=rm(u,"onBeforeInput"),0<u.length&&(f=new tI("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=S))}rN(h,e)})}function Ed(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gd(t,n),i!=null&&r.unshift(Ed(t,i,s)),i=gd(t,e),i!=null&&r.push(Ed(t,i,s))),t=t.return}return r}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fI(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=gd(n,i),l!=null&&o.unshift(Ed(n,l,a))):s||(l=gd(n,i),l!=null&&o.push(Ed(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CV=/\r\n?/g,kV=/\u0000|\uFFFD/g;function pI(t){return(typeof t=="string"?t:""+t).replace(CV,`
`).replace(kV,"")}function Nf(t,e,n){if(e=pI(e),pI(t)!==e&&n)throw Error(J(425))}function sm(){}var z0=null,q0=null;function H0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var K0=typeof setTimeout=="function"?setTimeout:void 0,NV=typeof clearTimeout=="function"?clearTimeout:void 0,mI=typeof Promise=="function"?Promise:void 0,RV=typeof queueMicrotask=="function"?queueMicrotask:typeof mI<"u"?function(t){return mI.resolve(null).then(t).catch(PV)}:K0;function PV(t){setTimeout(function(){throw t})}function wy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wd(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),$r="__reactFiber$"+Dc,Id="__reactProps$"+Dc,Ts="__reactContainer$"+Dc,W0="__reactEvents$"+Dc,AV="__reactListeners$"+Dc,jV="__reactHandles$"+Dc;function Ro(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ts]||n[$r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gI(t);t!==null;){if(n=t[$r])return n;t=gI(t)}return e}t=n,n=t.parentNode}return null}function bh(t){return t=t[$r]||t[Ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function wg(t){return t[Id]||null}var G0=[],hl=-1;function Zi(t){return{current:t}}function Ye(t){0>hl||(t.current=G0[hl],G0[hl]=null,hl--)}function He(t,e){hl++,G0[hl]=t.current,t.current=e}var qi={},en=Zi(qi),En=Zi(!1),ea=qi;function Xl(t,e){var n=t.type.contextTypes;if(!n)return qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function In(t){return t=t.childContextTypes,t!=null}function im(){Ye(En),Ye(en)}function vI(t,e,n){if(en.current!==qi)throw Error(J(168));He(en,e),He(En,n)}function iN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,vL(t)||"Unknown",s));return ot({},n,r)}function om(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,ea=en.current,He(en,t),He(En,En.current),!0}function yI(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=iN(t,e,ea),r.__reactInternalMemoizedMergedChildContext=t,Ye(En),Ye(en),He(en,t)):Ye(En),He(En,n)}var fs=null,xg=!1,xy=!1;function oN(t){fs===null?fs=[t]:fs.push(t)}function DV(t){xg=!0,oN(t)}function eo(){if(!xy&&fs!==null){xy=!0;var t=0,e=Fe;try{var n=fs;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fs=null,xg=!1}catch(s){throw fs!==null&&(fs=fs.slice(t+1)),Pk(i1,eo),s}finally{Fe=e,xy=!1}}return null}var fl=[],pl=0,am=null,lm=0,Wn=[],Gn=0,ta=null,ms=1,gs="";function bo(t,e){fl[pl++]=lm,fl[pl++]=am,am=t,lm=e}function aN(t,e,n){Wn[Gn++]=ms,Wn[Gn++]=gs,Wn[Gn++]=ta,ta=t;var r=ms;t=gs;var s=32-xr(r)-1;r&=~(1<<s),n+=1;var i=32-xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ms=1<<32-xr(e)+s|n<<s|r,gs=i+t}else ms=1<<i|n<<s|r,gs=t}function p1(t){t.return!==null&&(bo(t,1),aN(t,1,0))}function m1(t){for(;t===am;)am=fl[--pl],fl[pl]=null,lm=fl[--pl],fl[pl]=null;for(;t===ta;)ta=Wn[--Gn],Wn[Gn]=null,gs=Wn[--Gn],Wn[Gn]=null,ms=Wn[--Gn],Wn[Gn]=null}var Mn=null,Dn=null,Ze=!1,mr=null;function lN(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ta!==null?{id:ms,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Dn=null,!0):!1;default:return!1}}function Q0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Y0(t){if(Ze){var e=Dn;if(e){var n=e;if(!wI(t,e)){if(Q0(t))throw Error(J(418));e=Ni(n.nextSibling);var r=Mn;e&&wI(t,e)?lN(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Mn=t)}}else{if(Q0(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ze=!1,Mn=t}}}function xI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Rf(t){if(t!==Mn)return!1;if(!Ze)return xI(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!H0(t.type,t.memoizedProps)),e&&(e=Dn)){if(Q0(t))throw cN(),Error(J(418));for(;e;)lN(t,e),e=Ni(e.nextSibling)}if(xI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Mn?Ni(t.stateNode.nextSibling):null;return!0}function cN(){for(var t=Dn;t;)t=Ni(t.nextSibling)}function Zl(){Dn=Mn=null,Ze=!1}function g1(t){mr===null?mr=[t]:mr.push(t)}var OV=Ls.ReactCurrentBatchConfig;function pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Pf(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bI(t){var e=t._init;return e(t._payload)}function uN(t){function e(x,_){if(t){var E=x.deletions;E===null?(x.deletions=[_],x.flags|=16):E.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function s(x,_){return x=ji(x,_),x.index=0,x.sibling=null,x}function i(x,_,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<_?(x.flags|=2,_):E):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,E,C){return _===null||_.tag!==6?(_=Cy(E,x.mode,C),_.return=x,_):(_=s(_,E),_.return=x,_)}function l(x,_,E,C){var R=E.type;return R===al?f(x,_,E.props.children,C,E.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===oi&&bI(R)===_.type)?(C=s(_,E.props),C.ref=pu(x,_,E),C.return=x,C):(C=mp(E.type,E.key,E.props,null,x.mode,C),C.ref=pu(x,_,E),C.return=x,C)}function u(x,_,E,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=ky(E,x.mode,C),_.return=x,_):(_=s(_,E.children||[]),_.return=x,_)}function f(x,_,E,C,R){return _===null||_.tag!==7?(_=Go(E,x.mode,C,R),_.return=x,_):(_=s(_,E),_.return=x,_)}function h(x,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Cy(""+_,x.mode,E),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xf:return E=mp(_.type,_.key,_.props,null,x.mode,E),E.ref=pu(x,null,_),E.return=x,E;case ol:return _=ky(_,x.mode,E),_.return=x,_;case oi:var C=_._init;return h(x,C(_._payload),E)}if(Pu(_)||cu(_))return _=Go(_,x.mode,E,null),_.return=x,_;Pf(x,_)}return null}function p(x,_,E,C){var R=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(x,_,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xf:return E.key===R?l(x,_,E,C):null;case ol:return E.key===R?u(x,_,E,C):null;case oi:return R=E._init,p(x,_,R(E._payload),C)}if(Pu(E)||cu(E))return R!==null?null:f(x,_,E,C,null);Pf(x,E)}return null}function m(x,_,E,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(E)||null,a(_,x,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case xf:return x=x.get(C.key===null?E:C.key)||null,l(_,x,C,R);case ol:return x=x.get(C.key===null?E:C.key)||null,u(_,x,C,R);case oi:var O=C._init;return m(x,_,E,O(C._payload),R)}if(Pu(C)||cu(C))return x=x.get(E)||null,f(_,x,C,R,null);Pf(_,C)}return null}function b(x,_,E,C){for(var R=null,O=null,S=_,I=_=0,N=null;S!==null&&I<E.length;I++){S.index>I?(N=S,S=null):N=S.sibling;var k=p(x,S,E[I],C);if(k===null){S===null&&(S=N);break}t&&S&&k.alternate===null&&e(x,S),_=i(k,_,I),O===null?R=k:O.sibling=k,O=k,S=N}if(I===E.length)return n(x,S),Ze&&bo(x,I),R;if(S===null){for(;I<E.length;I++)S=h(x,E[I],C),S!==null&&(_=i(S,_,I),O===null?R=S:O.sibling=S,O=S);return Ze&&bo(x,I),R}for(S=r(x,S);I<E.length;I++)N=m(S,x,I,E[I],C),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?I:N.key),_=i(N,_,I),O===null?R=N:O.sibling=N,O=N);return t&&S.forEach(function(D){return e(x,D)}),Ze&&bo(x,I),R}function w(x,_,E,C){var R=cu(E);if(typeof R!="function")throw Error(J(150));if(E=R.call(E),E==null)throw Error(J(151));for(var O=R=null,S=_,I=_=0,N=null,k=E.next();S!==null&&!k.done;I++,k=E.next()){S.index>I?(N=S,S=null):N=S.sibling;var D=p(x,S,k.value,C);if(D===null){S===null&&(S=N);break}t&&S&&D.alternate===null&&e(x,S),_=i(D,_,I),O===null?R=D:O.sibling=D,O=D,S=N}if(k.done)return n(x,S),Ze&&bo(x,I),R;if(S===null){for(;!k.done;I++,k=E.next())k=h(x,k.value,C),k!==null&&(_=i(k,_,I),O===null?R=k:O.sibling=k,O=k);return Ze&&bo(x,I),R}for(S=r(x,S);!k.done;I++,k=E.next())k=m(S,x,I,k.value,C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?I:k.key),_=i(k,_,I),O===null?R=k:O.sibling=k,O=k);return t&&S.forEach(function(P){return e(x,P)}),Ze&&bo(x,I),R}function y(x,_,E,C){if(typeof E=="object"&&E!==null&&E.type===al&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case xf:e:{for(var R=E.key,O=_;O!==null;){if(O.key===R){if(R=E.type,R===al){if(O.tag===7){n(x,O.sibling),_=s(O,E.props.children),_.return=x,x=_;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===oi&&bI(R)===O.type){n(x,O.sibling),_=s(O,E.props),_.ref=pu(x,O,E),_.return=x,x=_;break e}n(x,O);break}else e(x,O);O=O.sibling}E.type===al?(_=Go(E.props.children,x.mode,C,E.key),_.return=x,x=_):(C=mp(E.type,E.key,E.props,null,x.mode,C),C.ref=pu(x,_,E),C.return=x,x=C)}return o(x);case ol:e:{for(O=E.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(x,_.sibling),_=s(_,E.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=ky(E,x.mode,C),_.return=x,x=_}return o(x);case oi:return O=E._init,y(x,_,O(E._payload),C)}if(Pu(E))return b(x,_,E,C);if(cu(E))return w(x,_,E,C);Pf(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(x,_.sibling),_=s(_,E),_.return=x,x=_):(n(x,_),_=Cy(E,x.mode,C),_.return=x,x=_),o(x)):n(x,_)}return y}var ec=uN(!0),dN=uN(!1),cm=Zi(null),um=null,ml=null,v1=null;function y1(){v1=ml=um=null}function w1(t){var e=cm.current;Ye(cm),t._currentValue=e}function J0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function El(t,e){um=t,v1=ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function tr(t){var e=t._currentValue;if(v1!==t)if(t={context:t,memoizedValue:e,next:null},ml===null){if(um===null)throw Error(J(308));ml=t,um.dependencies={lanes:0,firstContext:t}}else ml=ml.next=t;return e}var Po=null;function x1(t){Po===null?Po=[t]:Po.push(t)}function hN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,x1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Cs(t,r)}function Cs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ai=!1;function b1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Cs(t,n)}return s=r.interleaved,s===null?(e.next=e,x1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Cs(t,n)}function cp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o1(t,n)}}function _I(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dm(t,e,n,r){var s=t.updateQueue;ai=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,f=u=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,w=a;switch(p=e,m=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){h=b.call(m,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,p=typeof b=="function"?b.call(m,h,p):b,p==null)break e;h=ot({},h,p);break e;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(f===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ra|=o,t.lanes=o,t.memoizedState=h}}function EI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var _h={},Gr=Zi(_h),Sd=Zi(_h),Td=Zi(_h);function Ao(t){if(t===_h)throw Error(J(174));return t}function _1(t,e){switch(He(Td,e),He(Sd,t),He(Gr,_h),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P0(e,t)}Ye(Gr),He(Gr,e)}function tc(){Ye(Gr),Ye(Sd),Ye(Td)}function pN(t){Ao(Td.current);var e=Ao(Gr.current),n=P0(e,t.type);e!==n&&(He(Sd,t),He(Gr,n))}function E1(t){Sd.current===t&&(Ye(Gr),Ye(Sd))}var nt=Zi(0);function hm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function I1(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var up=Ls.ReactCurrentDispatcher,_y=Ls.ReactCurrentBatchConfig,na=0,st=null,bt=null,Rt=null,fm=!1,Qu=!1,Cd=0,MV=0;function Kt(){throw Error(J(321))}function S1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ir(t[n],e[n]))return!1;return!0}function T1(t,e,n,r,s,i){if(na=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,up.current=t===null||t.memoizedState===null?$V:UV,t=n(r,s),Qu){i=0;do{if(Qu=!1,Cd=0,25<=i)throw Error(J(301));i+=1,Rt=bt=null,e.updateQueue=null,up.current=BV,t=n(r,s)}while(Qu)}if(up.current=pm,e=bt!==null&&bt.next!==null,na=0,Rt=bt=st=null,fm=!1,e)throw Error(J(300));return t}function C1(){var t=Cd!==0;return Cd=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?st.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function nr(){if(bt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Rt===null?st.memoizedState:Rt.next;if(e!==null)Rt=e,bt=t;else{if(t===null)throw Error(J(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Rt===null?st.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function kd(t,e){return typeof e=="function"?e(t):e}function Ey(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=bt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var f=u.lane;if((na&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,st.lanes|=f,ra|=f}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Ir(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,ra|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Iy(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ir(i,e.memoizedState)||(xn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function mN(){}function gN(t,e){var n=st,r=nr(),s=e(),i=!Ir(r.memoizedState,s);if(i&&(r.memoizedState=s,xn=!0),r=r.queue,k1(wN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Nd(9,yN.bind(null,n,r,s,e),void 0,null),At===null)throw Error(J(349));na&30||vN(n,e,s)}return s}function vN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yN(t,e,n,r){e.value=n,e.getSnapshot=r,xN(e)&&bN(t)}function wN(t,e,n){return n(function(){xN(e)&&bN(t)})}function xN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ir(t,n)}catch{return!0}}function bN(t){var e=Cs(t,1);e!==null&&br(e,t,1,-1)}function II(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:t},e.queue=t,t=t.dispatch=FV.bind(null,st,t),[e.memoizedState,t]}function Nd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _N(){return nr().memoizedState}function dp(t,e,n,r){var s=Dr();st.flags|=t,s.memoizedState=Nd(1|e,n,void 0,r===void 0?null:r)}function bg(t,e,n,r){var s=nr();r=r===void 0?null:r;var i=void 0;if(bt!==null){var o=bt.memoizedState;if(i=o.destroy,r!==null&&S1(r,o.deps)){s.memoizedState=Nd(e,n,i,r);return}}st.flags|=t,s.memoizedState=Nd(1|e,n,i,r)}function SI(t,e){return dp(8390656,8,t,e)}function k1(t,e){return bg(2048,8,t,e)}function EN(t,e){return bg(4,2,t,e)}function IN(t,e){return bg(4,4,t,e)}function SN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TN(t,e,n){return n=n!=null?n.concat([t]):null,bg(4,4,SN.bind(null,e,t),n)}function N1(){}function CN(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kN(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function NN(t,e,n){return na&21?(Ir(n,e)||(n=Dk(),st.lanes|=n,ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function LV(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=_y.transition;_y.transition={};try{t(!1),e()}finally{Fe=n,_y.transition=r}}function RN(){return nr().memoizedState}function VV(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PN(t))AN(e,n);else if(n=hN(t,e,n,r),n!==null){var s=cn();br(n,t,r,s),jN(n,e,r)}}function FV(t,e,n){var r=Ai(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PN(t))AN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ir(a,o)){var l=e.interleaved;l===null?(s.next=s,x1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=hN(t,e,s,r),n!==null&&(s=cn(),br(n,t,r,s),jN(n,e,r))}}function PN(t){var e=t.alternate;return t===st||e!==null&&e===st}function AN(t,e){Qu=fm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o1(t,n)}}var pm={readContext:tr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},$V={readContext:tr,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:tr,useEffect:SI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dp(4194308,4,SN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dp(4194308,4,t,e)},useInsertionEffect:function(t,e){return dp(4,2,t,e)},useMemo:function(t,e){var n=Dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VV.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:II,useDebugValue:N1,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=II(!1),e=t[0];return t=LV.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=Dr();if(Ze){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),At===null)throw Error(J(349));na&30||vN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,SI(wN.bind(null,r,i,t),[t]),r.flags|=2048,Nd(9,yN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Dr(),e=At.identifierPrefix;if(Ze){var n=gs,r=ms;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UV={readContext:tr,useCallback:CN,useContext:tr,useEffect:k1,useImperativeHandle:TN,useInsertionEffect:EN,useLayoutEffect:IN,useMemo:kN,useReducer:Ey,useRef:_N,useState:function(){return Ey(kd)},useDebugValue:N1,useDeferredValue:function(t){var e=nr();return NN(e,bt.memoizedState,t)},useTransition:function(){var t=Ey(kd)[0],e=nr().memoizedState;return[t,e]},useMutableSource:mN,useSyncExternalStore:gN,useId:RN,unstable_isNewReconciler:!1},BV={readContext:tr,useCallback:CN,useContext:tr,useEffect:k1,useImperativeHandle:TN,useInsertionEffect:EN,useLayoutEffect:IN,useMemo:kN,useReducer:Iy,useRef:_N,useState:function(){return Iy(kd)},useDebugValue:N1,useDeferredValue:function(t){var e=nr();return bt===null?e.memoizedState=t:NN(e,bt.memoizedState,t)},useTransition:function(){var t=Iy(kd)[0],e=nr().memoizedState;return[t,e]},useMutableSource:mN,useSyncExternalStore:gN,useId:RN,unstable_isNewReconciler:!1};function ur(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function X0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _g={isMounted:function(t){return(t=t._reactInternals)?Ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),s=Ai(t),i=bs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ri(t,i,s),e!==null&&(br(e,t,s,r),cp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),s=Ai(t),i=bs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ri(t,i,s),e!==null&&(br(e,t,s,r),cp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=Ai(t),s=bs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ri(t,s,r),e!==null&&(br(e,t,r,n),cp(e,t,r))}};function TI(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!bd(n,r)||!bd(s,i):!0}function DN(t,e,n){var r=!1,s=qi,i=e.contextType;return typeof i=="object"&&i!==null?i=tr(i):(s=In(e)?ea:en.current,r=e.contextTypes,i=(r=r!=null)?Xl(t,s):qi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_g,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function CI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_g.enqueueReplaceState(e,e.state,null)}function Z0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},b1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=tr(i):(i=In(e)?ea:en.current,s.context=Xl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(X0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_g.enqueueReplaceState(s,s.state,null),dm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function nc(t,e){try{var n="",r=e;do n+=gL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Sy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ew(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zV=typeof WeakMap=="function"?WeakMap:Map;function ON(t,e,n){n=bs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gm||(gm=!0,uw=r),ew(t,e)},n}function MN(t,e,n){n=bs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ew(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ew(t,e),typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zV;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=r6.bind(null,t,e,n),e.then(t,t))}function NI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function RI(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bs(-1,1),e.tag=2,Ri(n,e,1))),n.lanes|=1),t)}var qV=Ls.ReactCurrentOwner,xn=!1;function on(t,e,n,r){e.child=t===null?dN(e,null,n,r):ec(e,t.child,n,r)}function PI(t,e,n,r,s){n=n.render;var i=e.ref;return El(e,s),r=T1(t,e,n,r,i,s),n=C1(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ks(t,e,s)):(Ze&&n&&p1(e),e.flags|=1,on(t,e,r,s),e.child)}function AI(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!L1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,LN(t,e,i,r,s)):(t=mp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bd,n(o,r)&&t.ref===e.ref)return ks(t,e,s)}return e.flags|=1,t=ji(i,r),t.ref=e.ref,t.return=e,e.child=t}function LN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(bd(i,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,ks(t,e,s)}return tw(t,e,n,r,s)}function VN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(vl,Rn),Rn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(vl,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,He(vl,Rn),Rn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,He(vl,Rn),Rn|=r;return on(t,e,s,n),e.child}function FN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tw(t,e,n,r,s){var i=In(n)?ea:en.current;return i=Xl(e,i),El(e,s),n=T1(t,e,n,r,i,s),r=C1(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ks(t,e,s)):(Ze&&r&&p1(e),e.flags|=1,on(t,e,n,s),e.child)}function jI(t,e,n,r,s){if(In(n)){var i=!0;om(e)}else i=!1;if(El(e,s),e.stateNode===null)hp(t,e),DN(e,n,r),Z0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tr(u):(u=In(n)?ea:en.current,u=Xl(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&CI(e,o,r,u),ai=!1;var p=e.memoizedState;o.state=p,dm(e,r,o,s),l=e.memoizedState,a!==r||p!==l||En.current||ai?(typeof f=="function"&&(X0(e,n,f,r),l=e.memoizedState),(a=ai||TI(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ur(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tr(l):(l=In(n)?ea:en.current,l=Xl(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&CI(e,o,r,l),ai=!1,p=e.memoizedState,o.state=p,dm(e,r,o,s);var b=e.memoizedState;a!==h||p!==b||En.current||ai?(typeof m=="function"&&(X0(e,n,m,r),b=e.memoizedState),(u=ai||TI(e,n,u,r,p,b,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return nw(t,e,n,r,i,s)}function nw(t,e,n,r,s,i){FN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&yI(e,n,!1),ks(t,e,i);r=e.stateNode,qV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ec(e,t.child,null,i),e.child=ec(e,null,a,i)):on(t,e,a,i),e.memoizedState=r.state,s&&yI(e,n,!0),e.child}function $N(t){var e=t.stateNode;e.pendingContext?vI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vI(t,e.context,!1),_1(t,e.containerInfo)}function DI(t,e,n,r,s){return Zl(),g1(s),e.flags|=256,on(t,e,n,r),e.child}var rw={dehydrated:null,treeContext:null,retryLane:0};function sw(t){return{baseLanes:t,cachePool:null,transitions:null}}function UN(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(nt,s&1),t===null)return Y0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sg(o,r,0,null),t=Go(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sw(n),e.memoizedState=rw,t):R1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return HV(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ji(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ji(a,i):(i=Go(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?sw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=rw,r}return i=t.child,t=i.sibling,r=ji(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R1(t,e){return e=Sg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Af(t,e,n,r){return r!==null&&g1(r),ec(e,t.child,null,n),t=R1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HV(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Sy(Error(J(422))),Af(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Sg({mode:"visible",children:r.children},s,0,null),i=Go(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ec(e,t.child,null,o),e.child.memoizedState=sw(o),e.memoizedState=rw,i);if(!(e.mode&1))return Af(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(J(419)),r=Sy(i,r,void 0),Af(t,e,o,r)}if(a=(o&t.childLanes)!==0,xn||a){if(r=At,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Cs(t,s),br(r,t,s,-1))}return M1(),r=Sy(Error(J(421))),Af(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=s6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dn=Ni(s.nextSibling),Mn=e,Ze=!0,mr=null,t!==null&&(Wn[Gn++]=ms,Wn[Gn++]=gs,Wn[Gn++]=ta,ms=t.id,gs=t.overflow,ta=e),e=R1(e,r.children),e.flags|=4096,e)}function OI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),J0(t.return,e,n)}function Ty(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function BN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(on(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OI(t,n,e);else if(t.tag===19)OI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ty(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ty(e,!0,n,null,i);break;case"together":Ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KV(t,e,n){switch(e.tag){case 3:$N(e),Zl();break;case 5:pN(e);break;case 1:In(e.type)&&om(e);break;case 4:_1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;He(cm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?UN(t,e,n):(He(nt,nt.current&1),t=ks(t,e,n),t!==null?t.sibling:null);He(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,VN(t,e,n)}return ks(t,e,n)}var zN,iw,qN,HN;zN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iw=function(){};qN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ao(Gr.current);var i=null;switch(n){case"input":s=C0(t,s),r=C0(t,r),i=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),i=[];break;case"textarea":s=R0(t,s),r=R0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sm)}A0(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};HN=function(t,e,n,r){n!==r&&(e.flags|=4)};function mu(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WV(t,e,n){var r=e.pendingProps;switch(m1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return In(e.type)&&im(),Wt(e),null;case 3:return r=e.stateNode,tc(),Ye(En),Ye(en),I1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(fw(mr),mr=null))),iw(t,e),Wt(e),null;case 5:E1(e);var s=Ao(Td.current);if(n=e.type,t!==null&&e.stateNode!=null)qN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Wt(e),null}if(t=Ao(Gr.current),Rf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[$r]=e,r[Id]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<ju.length;s++)Ge(ju[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":qE(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":KE(r,i),Ge("invalid",r)}A0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Nf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Nf(r.textContent,a,t),s=["children",""+a]):pd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":bf(r),HE(r,i,!0);break;case"textarea":bf(r),WE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$r]=e,t[Id]=r,zN(t,e,!1,!1),e.stateNode=t;e:{switch(o=j0(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<ju.length;s++)Ge(ju[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":qE(t,r),s=C0(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":KE(t,r),s=R0(t,r),Ge("invalid",t);break;default:s=r}A0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_k(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&md(t,l):typeof l=="number"&&md(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ge("scroll",t):l!=null&&e1(t,i,l,o))}switch(n){case"input":bf(t),HE(t,r,!1);break;case"textarea":bf(t),WE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?wl(t,!!r.multiple,i,!1):r.defaultValue!=null&&wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=sm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)HN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ao(Td.current),Ao(Gr.current),Rf(e)){if(r=e.stateNode,n=e.memoizedProps,r[$r]=e,(i=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:Nf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=e,e.stateNode=r}return Wt(e),null;case 13:if(Ye(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Dn!==null&&e.mode&1&&!(e.flags&128))cN(),Zl(),e.flags|=98560,i=!1;else if(i=Rf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[$r]=e}else Zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else mr!==null&&(fw(mr),mr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?_t===0&&(_t=3):M1())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return tc(),iw(t,e),t===null&&_d(e.stateNode.containerInfo),Wt(e),null;case 10:return w1(e.type._context),Wt(e),null;case 17:return In(e.type)&&im(),Wt(e),null;case 19:if(Ye(nt),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)mu(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hm(t),o!==null){for(e.flags|=128,mu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ht()>rc&&(e.flags|=128,r=!0,mu(i,!1),e.lanes=4194304)}else{if(!r)if(t=hm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return Wt(e),null}else 2*ht()-i.renderingStartTime>rc&&n!==1073741824&&(e.flags|=128,r=!0,mu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ht(),e.sibling=null,n=nt.current,He(nt,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return O1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function GV(t,e){switch(m1(e),e.tag){case 1:return In(e.type)&&im(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tc(),Ye(En),Ye(en),I1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return E1(e),null;case 13:if(Ye(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(nt),null;case 4:return tc(),null;case 10:return w1(e.type._context),null;case 22:case 23:return O1(),null;case 24:return null;default:return null}}var jf=!1,Jt=!1,QV=typeof WeakSet=="function"?WeakSet:Set,re=null;function gl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function ow(t,e,n){try{n()}catch(r){ut(t,e,r)}}var MI=!1;function YV(t,e){if(z0=tm,t=Yk(),f1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++f===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(q0={focusedElem:t,selectionRange:n},tm=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,y=b.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:ur(e.type,w),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(C){ut(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return b=MI,MI=!1,b}function Yu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ow(e,n,i)}s=s.next}while(s!==r)}}function Eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function aw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KN(t){var e=t.alternate;e!==null&&(t.alternate=null,KN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$r],delete e[Id],delete e[W0],delete e[AV],delete e[jV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WN(t){return t.tag===5||t.tag===3||t.tag===4}function LI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sm));else if(r!==4&&(t=t.child,t!==null))for(lw(t,e,n),t=t.sibling;t!==null;)lw(t,e,n),t=t.sibling}function cw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cw(t,e,n),t=t.sibling;t!==null;)cw(t,e,n),t=t.sibling}var Mt=null,fr=!1;function Ys(t,e,n){for(n=n.child;n!==null;)GN(t,e,n),n=n.sibling}function GN(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(mg,n)}catch{}switch(n.tag){case 5:Jt||gl(n,e);case 6:var r=Mt,s=fr;Mt=null,Ys(t,e,n),Mt=r,fr=s,Mt!==null&&(fr?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(fr?(t=Mt,n=n.stateNode,t.nodeType===8?wy(t.parentNode,n):t.nodeType===1&&wy(t,n),wd(t)):wy(Mt,n.stateNode));break;case 4:r=Mt,s=fr,Mt=n.stateNode.containerInfo,fr=!0,Ys(t,e,n),Mt=r,fr=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ow(n,e,o),s=s.next}while(s!==r)}Ys(t,e,n);break;case 1:if(!Jt&&(gl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}Ys(t,e,n);break;case 21:Ys(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Ys(t,e,n),Jt=r):Ys(t,e,n);break;default:Ys(t,e,n)}}function VI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QV),e.forEach(function(r){var s=i6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,fr=!1;break e;case 3:Mt=a.stateNode.containerInfo,fr=!0;break e;case 4:Mt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(Mt===null)throw Error(J(160));GN(i,o,s),Mt=null,fr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ut(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QN(e,t),e=e.sibling}function QN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),Ar(t),r&4){try{Yu(3,t,t.return),Eg(3,t)}catch(w){ut(t,t.return,w)}try{Yu(5,t,t.return)}catch(w){ut(t,t.return,w)}}break;case 1:cr(e,t),Ar(t),r&512&&n!==null&&gl(n,n.return);break;case 5:if(cr(e,t),Ar(t),r&512&&n!==null&&gl(n,n.return),t.flags&32){var s=t.stateNode;try{md(s,"")}catch(w){ut(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vk(s,i),j0(a,o);var u=j0(a,i);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?_k(s,h):f==="dangerouslySetInnerHTML"?xk(s,h):f==="children"?md(s,h):e1(s,f,h,u)}switch(a){case"input":k0(s,i);break;case"textarea":yk(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?wl(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?wl(s,!!i.multiple,i.defaultValue,!0):wl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Id]=i}catch(w){ut(t,t.return,w)}}break;case 6:if(cr(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(J(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ut(t,t.return,w)}}break;case 3:if(cr(e,t),Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wd(e.containerInfo)}catch(w){ut(t,t.return,w)}break;case 4:cr(e,t),Ar(t);break;case 13:cr(e,t),Ar(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(j1=ht())),r&4&&VI(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||f,cr(e,t),Jt=u):cr(e,t),Ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(re=t,f=t.child;f!==null;){for(h=re=f;re!==null;){switch(p=re,m=p.child,p.tag){case 0:case 11:case 14:case 15:Yu(4,p,p.return);break;case 1:gl(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){ut(r,n,w)}}break;case 5:gl(p,p.return);break;case 22:if(p.memoizedState!==null){$I(h);continue}}m!==null?(m.return=p,re=m):$I(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bk("display",o))}catch(w){ut(t,t.return,w)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ut(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cr(e,t),Ar(t),r&4&&VI(t);break;case 21:break;default:cr(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WN(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(md(s,""),r.flags&=-33);var i=LI(t);cw(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=LI(t);lw(t,a,o);break;default:throw Error(J(161))}}catch(l){ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JV(t,e,n){re=t,YN(t)}function YN(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||jf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=jf;var u=Jt;if(jf=o,(Jt=l)&&!u)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?UI(s):l!==null?(l.return=o,re=l):UI(s);for(;i!==null;)re=i,YN(i),i=i.sibling;re=s,jf=a,Jt=u}FI(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):FI(t)}}function FI(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Eg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&EI(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}EI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&wd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Jt||e.flags&512&&aw(e)}catch(p){ut(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function $I(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function UI(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eg(4,e)}catch(l){ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ut(e,s,l)}}var i=e.return;try{aw(e)}catch(l){ut(e,i,l)}break;case 5:var o=e.return;try{aw(e)}catch(l){ut(e,o,l)}}}catch(l){ut(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var XV=Math.ceil,mm=Ls.ReactCurrentDispatcher,P1=Ls.ReactCurrentOwner,Jn=Ls.ReactCurrentBatchConfig,Ae=0,At=null,vt=null,Ut=0,Rn=0,vl=Zi(0),_t=0,Rd=null,ra=0,Ig=0,A1=0,Ju=null,wn=null,j1=0,rc=1/0,ds=null,gm=!1,uw=null,Pi=null,Df=!1,Ei=null,vm=0,Xu=0,dw=null,fp=-1,pp=0;function cn(){return Ae&6?ht():fp!==-1?fp:fp=ht()}function Ai(t){return t.mode&1?Ae&2&&Ut!==0?Ut&-Ut:OV.transition!==null?(pp===0&&(pp=Dk()),pp):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:Uk(t.type)),t):1}function br(t,e,n,r){if(50<Xu)throw Xu=0,dw=null,Error(J(185));wh(t,n,r),(!(Ae&2)||t!==At)&&(t===At&&(!(Ae&2)&&(Ig|=n),_t===4&&ci(t,Ut)),Sn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(rc=ht()+500,xg&&eo()))}function Sn(t,e){var n=t.callbackNode;OL(t,e);var r=em(t,t===At?Ut:0);if(r===0)n!==null&&YE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&YE(n),e===1)t.tag===0?DV(BI.bind(null,t)):oN(BI.bind(null,t)),RV(function(){!(Ae&6)&&eo()}),n=null;else{switch(Ok(r)){case 1:n=i1;break;case 4:n=Ak;break;case 16:n=Zp;break;case 536870912:n=jk;break;default:n=Zp}n=sR(n,JN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JN(t,e){if(fp=-1,pp=0,Ae&6)throw Error(J(327));var n=t.callbackNode;if(Il()&&t.callbackNode!==n)return null;var r=em(t,t===At?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ym(t,r);else{e=r;var s=Ae;Ae|=2;var i=ZN();(At!==t||Ut!==e)&&(ds=null,rc=ht()+500,Wo(t,e));do try{t6();break}catch(a){XN(t,a)}while(1);y1(),mm.current=i,Ae=s,vt!==null?e=0:(At=null,Ut=0,e=_t)}if(e!==0){if(e===2&&(s=V0(t),s!==0&&(r=s,e=hw(t,s))),e===1)throw n=Rd,Wo(t,0),ci(t,r),Sn(t,ht()),n;if(e===6)ci(t,r);else{if(s=t.current.alternate,!(r&30)&&!ZV(s)&&(e=ym(t,r),e===2&&(i=V0(t),i!==0&&(r=i,e=hw(t,i))),e===1))throw n=Rd,Wo(t,0),ci(t,r),Sn(t,ht()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:_o(t,wn,ds);break;case 3:if(ci(t,r),(r&130023424)===r&&(e=j1+500-ht(),10<e)){if(em(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=K0(_o.bind(null,t,wn,ds),e);break}_o(t,wn,ds);break;case 4:if(ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XV(r/1960))-r,10<r){t.timeoutHandle=K0(_o.bind(null,t,wn,ds),r);break}_o(t,wn,ds);break;case 5:_o(t,wn,ds);break;default:throw Error(J(329))}}}return Sn(t,ht()),t.callbackNode===n?JN.bind(null,t):null}function hw(t,e){var n=Ju;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=ym(t,e),t!==2&&(e=wn,wn=n,e!==null&&fw(e)),t}function fw(t){wn===null?wn=t:wn.push.apply(wn,t)}function ZV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ir(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ci(t,e){for(e&=~A1,e&=~Ig,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function BI(t){if(Ae&6)throw Error(J(327));Il();var e=em(t,0);if(!(e&1))return Sn(t,ht()),null;var n=ym(t,e);if(t.tag!==0&&n===2){var r=V0(t);r!==0&&(e=r,n=hw(t,r))}if(n===1)throw n=Rd,Wo(t,0),ci(t,e),Sn(t,ht()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,wn,ds),Sn(t,ht()),null}function D1(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(rc=ht()+500,xg&&eo())}}function sa(t){Ei!==null&&Ei.tag===0&&!(Ae&6)&&Il();var e=Ae;Ae|=1;var n=Jn.transition,r=Fe;try{if(Jn.transition=null,Fe=1,t)return t()}finally{Fe=r,Jn.transition=n,Ae=e,!(Ae&6)&&eo()}}function O1(){Rn=vl.current,Ye(vl)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NV(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(m1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&im();break;case 3:tc(),Ye(En),Ye(en),I1();break;case 5:E1(r);break;case 4:tc();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:w1(r.type._context);break;case 22:case 23:O1()}n=n.return}if(At=t,vt=t=ji(t.current,null),Ut=Rn=e,_t=0,Rd=null,A1=Ig=ra=0,wn=Ju=null,Po!==null){for(e=0;e<Po.length;e++)if(n=Po[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Po=null}return t}function XN(t,e){do{var n=vt;try{if(y1(),up.current=pm,fm){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fm=!1}if(na=0,Rt=bt=st=null,Qu=!1,Cd=0,P1.current=null,n===null||n.return===null){_t=1,Rd=e,vt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=NI(o);if(m!==null){m.flags&=-257,RI(m,o,a,i,e),m.mode&1&&kI(i,u,e),e=m,l=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(l),e.updateQueue=w}else b.add(l);break e}else{if(!(e&1)){kI(i,u,e),M1();break e}l=Error(J(426))}}else if(Ze&&a.mode&1){var y=NI(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),RI(y,o,a,i,e),g1(nc(l,a));break e}}i=l=nc(l,a),_t!==4&&(_t=2),Ju===null?Ju=[i]:Ju.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=ON(i,l,e);_I(i,x);break e;case 1:a=l;var _=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Pi===null||!Pi.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=MN(i,a,e);_I(i,C);break e}}i=i.return}while(i!==null)}tR(n)}catch(R){e=R,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(1)}function ZN(){var t=mm.current;return mm.current=pm,t===null?pm:t}function M1(){(_t===0||_t===3||_t===2)&&(_t=4),At===null||!(ra&268435455)&&!(Ig&268435455)||ci(At,Ut)}function ym(t,e){var n=Ae;Ae|=2;var r=ZN();(At!==t||Ut!==e)&&(ds=null,Wo(t,e));do try{e6();break}catch(s){XN(t,s)}while(1);if(y1(),Ae=n,mm.current=r,vt!==null)throw Error(J(261));return At=null,Ut=0,_t}function e6(){for(;vt!==null;)eR(vt)}function t6(){for(;vt!==null&&!TL();)eR(vt)}function eR(t){var e=rR(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?tR(t):vt=e,P1.current=null}function tR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GV(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,vt=null;return}}else if(n=WV(n,e,Rn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);_t===0&&(_t=5)}function _o(t,e,n){var r=Fe,s=Jn.transition;try{Jn.transition=null,Fe=1,n6(t,e,n,r)}finally{Jn.transition=s,Fe=r}return null}function n6(t,e,n,r){do Il();while(Ei!==null);if(Ae&6)throw Error(J(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ML(t,i),t===At&&(vt=At=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Df||(Df=!0,sR(Zp,function(){return Il(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Jn.transition,Jn.transition=null;var o=Fe;Fe=1;var a=Ae;Ae|=4,P1.current=null,YV(t,n),QN(n,t),_V(q0),tm=!!z0,q0=z0=null,t.current=n,JV(n),CL(),Ae=a,Fe=o,Jn.transition=i}else t.current=n;if(Df&&(Df=!1,Ei=t,vm=s),i=t.pendingLanes,i===0&&(Pi=null),RL(n.stateNode),Sn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gm)throw gm=!1,t=uw,uw=null,t;return vm&1&&t.tag!==0&&Il(),i=t.pendingLanes,i&1?t===dw?Xu++:(Xu=0,dw=t):Xu=0,eo(),null}function Il(){if(Ei!==null){var t=Ok(vm),e=Jn.transition,n=Fe;try{if(Jn.transition=null,Fe=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,vm=0,Ae&6)throw Error(J(331));var s=Ae;for(Ae|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var f=re;switch(f.tag){case 0:case 11:case 15:Yu(8,f,i)}var h=f.child;if(h!==null)h.return=f,re=h;else for(;re!==null;){f=re;var p=f.sibling,m=f.return;if(KN(f),f===u){re=null;break}if(p!==null){p.return=m,re=p;break}re=m}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,re=x;break e}re=i.return}}var _=t.current;for(re=_;re!==null;){o=re;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,re=E;else e:for(o=_;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eg(9,a)}}catch(R){ut(a,a.return,R)}if(a===o){re=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,re=C;break e}re=a.return}}if(Ae=s,eo(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(mg,t)}catch{}r=!0}return r}finally{Fe=n,Jn.transition=e}}return!1}function zI(t,e,n){e=nc(n,e),e=ON(t,e,1),t=Ri(t,e,1),e=cn(),t!==null&&(wh(t,1,e),Sn(t,e))}function ut(t,e,n){if(t.tag===3)zI(t,t,n);else for(;e!==null;){if(e.tag===3){zI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){t=nc(n,t),t=MN(e,t,1),e=Ri(e,t,1),t=cn(),e!==null&&(wh(e,1,t),Sn(e,t));break}}e=e.return}}function r6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Ut&n)===n&&(_t===4||_t===3&&(Ut&130023424)===Ut&&500>ht()-j1?Wo(t,0):A1|=n),Sn(t,e)}function nR(t,e){e===0&&(t.mode&1?(e=If,If<<=1,!(If&130023424)&&(If=4194304)):e=1);var n=cn();t=Cs(t,e),t!==null&&(wh(t,e,n),Sn(t,n))}function s6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nR(t,n)}function i6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),nR(t,n)}var rR;rR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,KV(t,e,n);xn=!!(t.flags&131072)}else xn=!1,Ze&&e.flags&1048576&&aN(e,lm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hp(t,e),t=e.pendingProps;var s=Xl(e,en.current);El(e,n),s=T1(null,e,r,t,s,n);var i=C1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(i=!0,om(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,b1(e),s.updater=_g,e.stateNode=s,s._reactInternals=e,Z0(e,r,t,n),e=nw(null,e,r,!0,i,n)):(e.tag=0,Ze&&i&&p1(e),on(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=a6(r),t=ur(r,t),s){case 0:e=tw(null,e,r,t,n);break e;case 1:e=jI(null,e,r,t,n);break e;case 11:e=PI(null,e,r,t,n);break e;case 14:e=AI(null,e,r,ur(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ur(r,s),tw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ur(r,s),jI(t,e,r,s,n);case 3:e:{if($N(e),t===null)throw Error(J(387));r=e.pendingProps,i=e.memoizedState,s=i.element,fN(t,e),dm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=nc(Error(J(423)),e),e=DI(t,e,r,n,s);break e}else if(r!==s){s=nc(Error(J(424)),e),e=DI(t,e,r,n,s);break e}else for(Dn=Ni(e.stateNode.containerInfo.firstChild),Mn=e,Ze=!0,mr=null,n=dN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zl(),r===s){e=ks(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return pN(e),t===null&&Y0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,H0(r,s)?o=null:i!==null&&H0(r,i)&&(e.flags|=32),FN(t,e),on(t,e,o,n),e.child;case 6:return t===null&&Y0(e),null;case 13:return UN(t,e,n);case 4:return _1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ec(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ur(r,s),PI(t,e,r,s,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(cm,r._currentValue),r._currentValue=o,i!==null)if(Ir(i.value,o)){if(i.children===s.children&&!En.current){e=ks(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=bs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),J0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),J0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}on(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,El(e,n),s=tr(s),r=r(s),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,s=ur(r,e.pendingProps),s=ur(r.type,s),AI(t,e,r,s,n);case 15:return LN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ur(r,s),hp(t,e),e.tag=1,In(r)?(t=!0,om(e)):t=!1,El(e,n),DN(e,r,s),Z0(e,r,s,n),nw(null,e,r,!0,t,n);case 19:return BN(t,e,n);case 22:return VN(t,e,n)}throw Error(J(156,e.tag))};function sR(t,e){return Pk(t,e)}function o6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new o6(t,e,n,r)}function L1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a6(t){if(typeof t=="function")return L1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n1)return 11;if(t===r1)return 14}return 2}function ji(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")L1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case al:return Go(n.children,s,i,e);case t1:o=8,s|=8;break;case E0:return t=Qn(12,n,e,s|2),t.elementType=E0,t.lanes=i,t;case I0:return t=Qn(13,n,e,s),t.elementType=I0,t.lanes=i,t;case S0:return t=Qn(19,n,e,s),t.elementType=S0,t.lanes=i,t;case pk:return Sg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hk:o=10;break e;case fk:o=9;break e;case n1:o=11;break e;case r1:o=14;break e;case oi:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Go(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function Sg(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=pk,t.lanes=n,t.stateNode={isHidden:!1},t}function Cy(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function ky(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ly(0),this.expirationTimes=ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ly(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function V1(t,e,n,r,s,i,o,a,l){return t=new l6(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Qn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},b1(i),t}function c6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ol,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iR(t){if(!t)return qi;t=t._reactInternals;e:{if(Ea(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(In(n))return iN(t,n,e)}return e}function oR(t,e,n,r,s,i,o,a,l){return t=V1(n,r,!0,t,s,i,o,a,l),t.context=iR(null),n=t.current,r=cn(),s=Ai(n),i=bs(r,s),i.callback=e??null,Ri(n,i,s),t.current.lanes=s,wh(t,s,r),Sn(t,r),t}function Tg(t,e,n,r){var s=e.current,i=cn(),o=Ai(s);return n=iR(n),e.context===null?e.context=n:e.pendingContext=n,e=bs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ri(s,e,o),t!==null&&(br(t,s,o,i),cp(t,s,o)),o}function wm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function F1(t,e){qI(t,e),(t=t.alternate)&&qI(t,e)}function u6(){return null}var aR=typeof reportError=="function"?reportError:function(t){console.error(t)};function $1(t){this._internalRoot=t}Cg.prototype.render=$1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Tg(t,e,null,null)};Cg.prototype.unmount=$1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){Tg(null,t,null,null)}),e[Ts]=null}};function Cg(t){this._internalRoot=t}Cg.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&$k(t)}};function U1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function HI(){}function d6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=wm(o);i.call(u)}}var o=oR(e,r,t,0,null,!1,!1,"",HI);return t._reactRootContainer=o,t[Ts]=o.current,_d(t.nodeType===8?t.parentNode:t),sa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=wm(l);a.call(u)}}var l=V1(t,0,!1,null,null,!1,!1,"",HI);return t._reactRootContainer=l,t[Ts]=l.current,_d(t.nodeType===8?t.parentNode:t),sa(function(){Tg(e,l,n,r)}),l}function Ng(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=wm(o);a.call(l)}}Tg(e,o,t,s)}else o=d6(n,e,t,s,r);return wm(o)}Mk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Au(e.pendingLanes);n!==0&&(o1(e,n|1),Sn(e,ht()),!(Ae&6)&&(rc=ht()+500,eo()))}break;case 13:sa(function(){var r=Cs(t,1);if(r!==null){var s=cn();br(r,t,1,s)}}),F1(t,1)}};a1=function(t){if(t.tag===13){var e=Cs(t,134217728);if(e!==null){var n=cn();br(e,t,134217728,n)}F1(t,134217728)}};Lk=function(t){if(t.tag===13){var e=Ai(t),n=Cs(t,e);if(n!==null){var r=cn();br(n,t,e,r)}F1(t,e)}};Vk=function(){return Fe};Fk=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};O0=function(t,e,n){switch(e){case"input":if(k0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wg(r);if(!s)throw Error(J(90));gk(r),k0(r,s)}}}break;case"textarea":yk(t,n);break;case"select":e=n.value,e!=null&&wl(t,!!n.multiple,e,!1)}};Sk=D1;Tk=sa;var h6={usingClientEntryPoint:!1,Events:[bh,dl,wg,Ek,Ik,D1]},gu={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f6={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nk(t),t===null?null:t.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||u6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{mg=Of.inject(f6),Wr=Of}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h6;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U1(e))throw Error(J(200));return c6(t,e,null,n)};Un.createRoot=function(t,e){if(!U1(t))throw Error(J(299));var n=!1,r="",s=aR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=V1(t,1,!1,null,null,n,!1,r,s),t[Ts]=e.current,_d(t.nodeType===8?t.parentNode:t),new $1(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Nk(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return sa(t)};Un.hydrate=function(t,e,n){if(!kg(e))throw Error(J(200));return Ng(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!U1(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=aR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oR(e,null,t,1,n??null,s,!1,i,o),t[Ts]=e.current,_d(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cg(e)};Un.render=function(t,e,n){if(!kg(e))throw Error(J(200));return Ng(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!kg(t))throw Error(J(40));return t._reactRootContainer?(sa(function(){Ng(null,null,t,!1,function(){t._reactRootContainer=null,t[Ts]=null})}),!0):!1};Un.unstable_batchedUpdates=D1;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kg(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Ng(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function lR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lR)}catch(t){console.error(t)}}lR(),lk.exports=Un;var Eh=lk.exports;const cR=YC(Eh);var KI=Eh;b0.createRoot=KI.createRoot,b0.hydrateRoot=KI.hydrateRoot;const p6=1,m6=1e6;let Ny=0;function g6(){return Ny=(Ny+1)%Number.MAX_SAFE_INTEGER,Ny.toString()}const Ry=new Map,WI=t=>{if(Ry.has(t))return;const e=setTimeout(()=>{Ry.delete(t),Zu({type:"REMOVE_TOAST",toastId:t})},m6);Ry.set(t,e)},v6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,p6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?WI(n):t.toasts.forEach(r=>{WI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gp=[];let vp={toasts:[]};function Zu(t){vp=v6(vp,t),gp.forEach(e=>{e(vp)})}function y6({...t}){const e=g6(),n=s=>Zu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Zu({type:"DISMISS_TOAST",toastId:e});return Zu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ia(){const[t,e]=g.useState(vp);return g.useEffect(()=>(gp.push(e),()=>{const n=gp.indexOf(e);n>-1&&gp.splice(n,1)}),[t]),{...t,toast:y6,dismiss:n=>Zu({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function GI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rg(...t){return e=>{let n=!1;const r=t.map(s=>{const i=GI(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():GI(t[s],null)}}}}function Ue(...t){return g.useCallback(Rg(...t),t)}function w6(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function zn(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=h=>{var x;const{scope:p,children:m,...b}=h,w=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,y=g.useMemo(()=>b,Object.values(b));return c.jsx(w.Provider,{value:y,children:m})};u.displayName=i+"Provider";function f(h,p){var w;const m=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,b=g.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,x6(s,...e)]}function x6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function sc(t){const e=_6(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(I6);if(l){const u=l.props.children,f=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return c.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var b6=sc("Slot");function _6(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=T6(s),a=S6(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Rg(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uR=Symbol("radix.slottable");function E6(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=uR,e}function I6(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uR}function S6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function T6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Pg(t){const e=t+"CollectionProvider",[n,r]=zn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:y,children:x}=w,_=Q.useRef(null),E=Q.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:E,collectionRef:_,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=sc(a),u=Q.forwardRef((w,y)=>{const{scope:x,children:_}=w,E=i(a,x),C=Ue(y,E.collectionRef);return c.jsx(l,{ref:C,children:_})});u.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=sc(f),m=Q.forwardRef((w,y)=>{const{scope:x,children:_,...E}=w,C=Q.useRef(null),R=Ue(y,C),O=i(f,x);return Q.useEffect(()=>(O.itemMap.set(C,{ref:C,...E}),()=>void O.itemMap.delete(C))),c.jsx(p,{[h]:"",ref:R,children:_})});m.displayName=f;function b(w){const y=i(t+"CollectionConsumer",w);return Q.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const E=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((O,S)=>E.indexOf(O.ref.current)-E.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},b,r]}var C6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=C6.reduce((t,e)=>{const n=sc(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function B1(t,e){t&&Eh.flushSync(()=>t.dispatchEvent(e))}function kn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function k6(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var N6="DismissableLayer",pw="dismissableLayer.update",R6="dismissableLayer.pointerDownOutside",P6="dismissableLayer.focusOutside",QI,dR=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ih=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(dR),[f,h]=g.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),b=Ue(e,S=>h(S)),w=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(y),_=f?w.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,C=_>=x,R=j6(S=>{const I=S.target,N=[...u.branches].some(k=>k.contains(I));!C||N||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},p),O=D6(S=>{const I=S.target;[...u.branches].some(k=>k.contains(I))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},p);return k6(S=>{_===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),g.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(QI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),YI(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=QI)}},[f,p,n,u]),g.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),YI())},[f,u]),g.useEffect(()=>{const S=()=>m({});return document.addEventListener(pw,S),()=>document.removeEventListener(pw,S)},[]),c.jsx(ge.div,{...l,ref:b,style:{pointerEvents:E?C?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,O.onFocusCapture),onBlurCapture:se(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,R.onPointerDownCapture)})});Ih.displayName=N6;var A6="DismissableLayerBranch",hR=g.forwardRef((t,e)=>{const n=g.useContext(dR),r=g.useRef(null),s=Ue(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ge.div,{...t,ref:s})});hR.displayName=A6;function j6(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){fR(R6,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function D6(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&fR(P6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function YI(){const t=new CustomEvent(pw);document.dispatchEvent(t)}function fR(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?B1(s,i):s.dispatchEvent(i)}var O6=Ih,M6=hR,rr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},L6="Portal",Ag=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);rr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?cR.createPortal(c.jsx(ge.div,{...r,ref:e}),o):null});Ag.displayName=L6;function V6(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var or=t=>{const{present:e,children:n}=t,r=F6(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ue(r.ref,$6(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};or.displayName="Presence";function F6(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=V6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Mf(r.current);i.current=a==="mounted"?u:"none"},[a]),rr(()=>{const u=r.current,f=s.current;if(f!==t){const p=i.current,m=Mf(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),rr(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=m=>{const w=Mf(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(i.current=Mf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Mf(t){return(t==null?void 0:t.animationName)||"none"}function $6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var U6=Jx[" useInsertionEffect ".trim().toString()]||rr;function to({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=B6({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const f=g.useRef(t!==void 0);g.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=g.useCallback(f=>{var h;if(a){const p=z6(f)?f(t):f;p!==t&&((h=o.current)==null||h.call(o,p))}else i(f)},[a,t,i,o]);return[l,u]}function B6({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return U6(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function z6(t){return typeof t=="function"}var q6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),H6="VisuallyHidden",jg=g.forwardRef((t,e)=>c.jsx(ge.span,{...t,ref:e,style:{...q6,...t.style}}));jg.displayName=H6;var K6=jg,z1="ToastProvider",[q1,W6,G6]=Pg("Toast"),[pR,Une]=zn("Toast",[G6]),[Q6,Dg]=pR(z1),mR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,f]=g.useState(0),h=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${z1}\`. Expected non-empty \`string\`.`),c.jsx(q1.Provider,{scope:e,children:c.jsx(Q6,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>f(m=>m+1),[]),onToastRemove:g.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};mR.displayName=z1;var gR="ToastViewport",Y6=["F8"],mw="toast.viewportPause",gw="toast.viewportResume",vR=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Y6,label:s="Notifications ({hotkey})",...i}=t,o=Dg(gR,n),a=W6(n),l=g.useRef(null),u=g.useRef(null),f=g.useRef(null),h=g.useRef(null),p=Ue(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;g.useEffect(()=>{const y=x=>{var E;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),g.useEffect(()=>{const y=l.current,x=h.current;if(b&&y&&x){const _=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(mw);x.dispatchEvent(O),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(gw);x.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!y.contains(O.relatedTarget)&&E()},R=()=>{y.contains(document.activeElement)||E()};return y.addEventListener("focusin",_),y.addEventListener("focusout",C),y.addEventListener("pointermove",_),y.addEventListener("pointerleave",R),window.addEventListener("blur",_),window.addEventListener("focus",E),()=>{y.removeEventListener("focusin",_),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",_),y.removeEventListener("pointerleave",R),window.removeEventListener("blur",_),window.removeEventListener("focus",E)}}},[b,o.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:y})=>{const _=a().map(E=>{const C=E.ref.current,R=[C,...cF(C)];return y==="forwards"?R:R.reverse()});return(y==="forwards"?_.reverse():_).flat()},[a]);return g.useEffect(()=>{const y=h.current;if(y){const x=_=>{var R,O,S;const E=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!E){const I=document.activeElement,N=_.shiftKey;if(_.target===y&&N){(R=u.current)==null||R.focus();return}const P=w({tabbingDirection:N?"backwards":"forwards"}),j=P.findIndex(K=>K===I);Py(P.slice(j+1))?_.preventDefault():N?(O=u.current)==null||O.focus():(S=f.current)==null||S.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[a,w]),c.jsxs(M6,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&c.jsx(vw,{ref:u,onFocusFromOutsideViewport:()=>{const y=w({tabbingDirection:"forwards"});Py(y)}}),c.jsx(q1.Slot,{scope:n,children:c.jsx(ge.ol,{tabIndex:-1,...i,ref:p})}),b&&c.jsx(vw,{ref:f,onFocusFromOutsideViewport:()=>{const y=w({tabbingDirection:"backwards"});Py(y)}})]})});vR.displayName=gR;var yR="ToastFocusProxy",vw=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Dg(yR,n);return c.jsx(jg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});vw.displayName=yR;var Sh="Toast",J6="toast.swipeStart",X6="toast.swipeMove",Z6="toast.swipeCancel",eF="toast.swipeEnd",wR=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=to({prop:r,defaultProp:s??!0,onChange:i,caller:Sh});return c.jsx(or,{present:n||a,children:c.jsx(rF,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:kn(t.onPause),onResume:kn(t.onResume),onSwipeStart:se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});wR.displayName=Sh;var[tF,nF]=pR(Sh,{onClose(){}}),rF=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...b}=t,w=Dg(Sh,n),[y,x]=g.useState(null),_=Ue(e,K=>x(K)),E=g.useRef(null),C=g.useRef(null),R=s||w.duration,O=g.useRef(0),S=g.useRef(R),I=g.useRef(0),{onToastAdd:N,onToastRemove:k}=w,D=kn(()=>{var X;(y==null?void 0:y.contains(document.activeElement))&&((X=w.viewport)==null||X.focus()),o()}),P=g.useCallback(K=>{!K||K===1/0||(window.clearTimeout(I.current),O.current=new Date().getTime(),I.current=window.setTimeout(D,K))},[D]);g.useEffect(()=>{const K=w.viewport;if(K){const X=()=>{P(S.current),u==null||u()},U=()=>{const G=new Date().getTime()-O.current;S.current=S.current-G,window.clearTimeout(I.current),l==null||l()};return K.addEventListener(mw,U),K.addEventListener(gw,X),()=>{K.removeEventListener(mw,U),K.removeEventListener(gw,X)}}},[w.viewport,R,l,u,P]),g.useEffect(()=>{i&&!w.isClosePausedRef.current&&P(R)},[i,R,w.isClosePausedRef,P]),g.useEffect(()=>(N(),()=>k()),[N,k]);const j=g.useMemo(()=>y?TR(y):null,[y]);return w.viewport?c.jsxs(c.Fragment,{children:[j&&c.jsx(sF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),c.jsx(tF,{scope:n,onClose:D,children:Eh.createPortal(c.jsx(q1.ItemSlot,{scope:n,children:c.jsx(O6,{asChild:!0,onEscapeKeyDown:se(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||D(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,K=>{K.key==="Escape"&&(a==null||a(K.nativeEvent),K.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:se(t.onPointerDown,K=>{K.button===0&&(E.current={x:K.clientX,y:K.clientY})}),onPointerMove:se(t.onPointerMove,K=>{if(!E.current)return;const X=K.clientX-E.current.x,U=K.clientY-E.current.y,G=!!C.current,M=["left","right"].includes(w.swipeDirection),F=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,W=M?F(0,X):0,z=M?0:F(0,U),q=K.pointerType==="touch"?10:2,Z={x:W,y:z},ue={originalEvent:K,delta:Z};G?(C.current=Z,Lf(X6,h,ue,{discrete:!1})):JI(Z,w.swipeDirection,q)?(C.current=Z,Lf(J6,f,ue,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(X)>q||Math.abs(U)>q)&&(E.current=null)}),onPointerUp:se(t.onPointerUp,K=>{const X=C.current,U=K.target;if(U.hasPointerCapture(K.pointerId)&&U.releasePointerCapture(K.pointerId),C.current=null,E.current=null,X){const G=K.currentTarget,M={originalEvent:K,delta:X};JI(X,w.swipeDirection,w.swipeThreshold)?Lf(eF,m,M,{discrete:!0}):Lf(Z6,p,M,{discrete:!0}),G.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),sF=t=>{const{__scopeToast:e,children:n,...r}=t,s=Dg(Sh,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return aF(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(Ag,{asChild:!0,children:c.jsx(jg,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},iF="ToastTitle",xR=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ge.div,{...r,ref:e})});xR.displayName=iF;var oF="ToastDescription",bR=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(ge.div,{...r,ref:e})});bR.displayName=oF;var _R="ToastAction",ER=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(SR,{altText:n,asChild:!0,children:c.jsx(H1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_R}\`. Expected non-empty \`string\`.`),null)});ER.displayName=_R;var IR="ToastClose",H1=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=nF(IR,n);return c.jsx(SR,{asChild:!0,children:c.jsx(ge.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});H1.displayName=IR;var SR=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function TR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),lF(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...TR(r))}}),e}function Lf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?B1(s,i):s.dispatchEvent(i)}var JI=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function aF(t=()=>{}){const e=kn(t);rr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function lF(t){return t.nodeType===t.ELEMENT_NODE}function cF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Py(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var uF=mR,CR=vR,kR=wR,NR=xR,RR=bR,PR=ER,AR=H1;function jR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=jR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function DR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=jR(t))&&(r&&(r+=" "),r+=e);return r}const XI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ZI=DR,Th=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ZI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=i==null?void 0:i[u];if(f===null)return null;const p=XI(f)||XI(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:p,...m}=f;return Object.entries(m).every(b=>{let[w,y]=b;return Array.isArray(y)?y.includes({...i,...a}[w]):{...i,...a}[w]===y})?[...u,h,p]:u},[]);return ZI(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Se=(t,e)=>{const n=g.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},f)=>g.createElement("svg",{ref:f,...dF,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${hF(t)}`,a].join(" "),...u},[...e.map(([h,p])=>g.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=Se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=Se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Se("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Se("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=Se("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=Se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=Se("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=Se("StarHalf",[["path",{d:"M12 17.8 5.8 21 7 14.1 2 9.3l7-1L12 2",key:"nare05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=Se("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Se("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),W1="-",PF=t=>{const e=jF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(W1);return a[0]===""&&a.length!==1&&a.shift(),UR(a,e)||AF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},UR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?UR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(W1);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},sS=/^\[(.+)\]$/,AF=t=>{if(sS.test(t)){const e=sS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OF(Object.entries(t.classGroups),n).forEach(([i,o])=>{bw(o,r,i,e)}),r},bw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:iS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(DF(s)){bw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{bw(o,iS(e,i),n,r)})})},iS=(t,e)=>{let n=t;return e.split(W1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},DF=t=>t.isThemeGetter,OF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,MF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},BR="!",LF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,f=0,h;for(let y=0;y<a.length;y++){let x=a[y];if(u===0){if(x===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(f,y)),f=y+i;continue}if(x==="/"){h=y;continue}}x==="["?u++:x==="]"&&u--}const p=l.length===0?a:a.substring(f),m=p.startsWith(BR),b=m?p.substring(1):p,w=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},VF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},FF=t=>({cache:MF(t.cacheSize),parseClassName:LF(t),...PF(t)}),$F=/\s+/,UF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split($F);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let b=!!m,w=r(b?p.substring(0,m):p);if(!w){if(!b){a=u+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=u+(a.length>0?" "+a:a);continue}b=!1}const y=VF(f).join(":"),x=h?y+BR:y,_=x+w;if(i.includes(_))continue;i.push(_);const E=s(w,b);for(let C=0;C<E.length;++C){const R=E[C];i.push(x+R)}a=u+(a.length>0?" "+a:a)}return a};function BF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zR(e))&&(r&&(r+=" "),r+=n);return r}const zR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zR(t[r]))&&(n&&(n+=" "),n+=e);return n};function zF(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((f,h)=>h(f),t());return n=FF(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const f=UF(l,n);return s(l,f),f}return function(){return i(BF.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qR=/^\[(?:([a-z-]+):)?(.+)\]$/i,qF=/^\d+\/\d+$/,HF=new Set(["px","full","screen"]),KF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=t=>Tl(t)||HF.has(t)||qF.test(t),Js=t=>Oc(t,"length",s9),Tl=t=>!!t&&!Number.isNaN(Number(t)),Ay=t=>Oc(t,"number",Tl),vu=t=>!!t&&Number.isInteger(Number(t)),JF=t=>t.endsWith("%")&&Tl(t.slice(0,-1)),_e=t=>qR.test(t),Xs=t=>KF.test(t),XF=new Set(["length","size","percentage"]),ZF=t=>Oc(t,XF,HR),e9=t=>Oc(t,"position",HR),t9=new Set(["image","url"]),n9=t=>Oc(t,t9,o9),r9=t=>Oc(t,"",i9),yu=()=>!0,Oc=(t,e,n)=>{const r=qR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},s9=t=>WF.test(t)&&!GF.test(t),HR=()=>!1,i9=t=>QF.test(t),o9=t=>YF.test(t),a9=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),f=We("hueRotate"),h=We("invert"),p=We("gap"),m=We("gradientColorStops"),b=We("gradientColorStopPositions"),w=We("inset"),y=We("margin"),x=We("opacity"),_=We("padding"),E=We("saturate"),C=We("scale"),R=We("sepia"),O=We("skew"),S=We("space"),I=We("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",_e,e],P=()=>[_e,e],j=()=>["",as,Js],K=()=>["auto",Tl,_e],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",_e],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Tl,_e];return{cacheSize:500,separator:":",theme:{colors:[yu],spacing:[as,Js],blur:["none","",Xs,_e],brightness:z(),borderColor:[t],borderRadius:["none","","full",Xs,_e],borderSpacing:P(),borderWidth:j(),contrast:z(),grayscale:F(),hueRotate:z(),invert:F(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[JF,Js],inset:D(),margin:D(),opacity:z(),padding:P(),saturate:z(),scale:z(),sepia:F(),skew:z(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),_e]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vu,_e]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",vu,_e]}],"grid-cols":[{"grid-cols":[yu]}],"col-start-end":[{col:["auto",{span:["full",vu,_e]},_e]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[yu]}],"row-start-end":[{row:["auto",{span:[vu,_e]},_e]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,Js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ay]}],"font-family":[{font:[yu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Tl,Ay]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,Js]}],"underline-offset":[{"underline-offset":["auto",as,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),e9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[as,_e]}],"outline-w":[{outline:[as,Js]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[as,Js]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xs,r9]}],"shadow-color":[{shadow:[yu]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xs,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[vu,_e]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[as,Js,Ay]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},l9=zF(a9);function ae(...t){return l9(DR(t))}const c9=uF,KR=g.forwardRef(({className:t,...e},n)=>c.jsx(CR,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));KR.displayName=CR.displayName;const u9=Th("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WR=g.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(kR,{ref:r,className:ae(u9({variant:e}),t),...n}));WR.displayName=kR.displayName;const d9=g.forwardRef(({className:t,...e},n)=>c.jsx(PR,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));d9.displayName=PR.displayName;const GR=g.forwardRef(({className:t,...e},n)=>c.jsx(AR,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(yr,{className:"h-4 w-4"})}));GR.displayName=AR.displayName;const QR=g.forwardRef(({className:t,...e},n)=>c.jsx(NR,{ref:n,className:ae("text-sm font-semibold",t),...e}));QR.displayName=NR.displayName;const YR=g.forwardRef(({className:t,...e},n)=>c.jsx(RR,{ref:n,className:ae("text-sm opacity-90",t),...e}));YR.displayName=RR.displayName;function h9(){const{toasts:t}=Ia();return c.jsxs(c9,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(WR,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(QR,{children:n}),r&&c.jsx(YR,{children:r})]}),s,c.jsx(GR,{})]},e)}),c.jsx(KR,{})]})}var f9=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,u=["light","dark"];function f(m){(Array.isArray(t)?t:[t]).forEach(b=>{let w=b==="class",y=w&&i?s.map(x=>i[x]||x):s;w?(l.classList.remove(...y),l.classList.add(i&&i[m]?i[m]:m)):l.setAttribute(b,m)}),h(m)}function h(m){a&&u.includes(m)&&(l.style.colorScheme=m)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let m=localStorage.getItem(e)||n,b=o&&m==="system"?p():m;f(b)}catch{}},p9=g.createContext(void 0),m9={setTheme:t=>{},themes:[]},g9=()=>{var t;return(t=g.useContext(p9))!=null?t:m9};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:u})=>{let f=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return g.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${f9.toString()})(${f})`}})});function v9(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const y9=t=>{switch(t){case"success":return b9;case"info":return E9;case"warning":return _9;case"error":return I9;default:return null}},w9=Array(12).fill(0),x9=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},w9.map((n,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),b9=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_9=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),E9=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),I9=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S9=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),T9=()=>{const[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let _w=1;class C9{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:_w++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const a=s.then(async u=>{if(o=["resolve",u],Q.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(N9(u)&&!u.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,b=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...b})}else if(u instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,b=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:p,...b})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description,b=typeof h=="object"&&!Q.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:p,...b})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,m=typeof f=="object"&&!Q.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...m})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((u,f)=>a.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||_w++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const vn=new C9,k9=(t,e)=>{const n=(e==null?void 0:e.id)||_w++;return vn.addToast({title:t,...e,id:n}),n},N9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",R9=k9,P9=()=>vn.toasts,A9=()=>vn.getActiveToasts(),jy=Object.assign(R9,{success:vn.success,info:vn.info,warning:vn.warning,error:vn.error,custom:vn.custom,message:vn.message,promise:vn.promise,dismiss:vn.dismiss,loading:vn.loading},{getHistory:P9,getToasts:A9});v9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Vf(t){return t.label!==void 0}const j9=3,D9="24px",O9="16px",oS=4e3,M9=356,L9=14,V9=45,F9=200;function jr(...t){return t.filter(Boolean).join(" ")}function $9(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const U9=t=>{var e,n,r,s,i,o,a,l,u;const{invert:f,toast:h,unstyled:p,interacting:m,setHeights:b,visibleToasts:w,heights:y,index:x,toasts:_,expanded:E,removeToast:C,defaultRichColors:R,closeButton:O,style:S,cancelButtonStyle:I,actionButtonStyle:N,className:k="",descriptionClassName:D="",duration:P,position:j,gap:K,expandByDefault:X,classNames:U,icons:G,closeButtonAriaLabel:M="Close toast"}=t,[F,W]=Q.useState(null),[z,q]=Q.useState(null),[Z,ue]=Q.useState(!1),[ie,ce]=Q.useState(!1),[be,Je]=Q.useState(!1),[Oe,at]=Q.useState(!1),[pn,St]=Q.useState(!1),[ar,Rr]=Q.useState(0),[uo,ho]=Q.useState(0),Pr=Q.useRef(h.duration||P||oS),Aa=Q.useRef(null),jt=Q.useRef(null),Zh=x===0,Qc=x+1<=w,zt=h.type,Us=h.dismissible!==!1,Yc=h.className||"",Jc=h.descriptionClassName||"",Bs=Q.useMemo(()=>y.findIndex(we=>we.toastId===h.id)||0,[y,h.id]),Tt=Q.useMemo(()=>{var we;return(we=h.closeButton)!=null?we:O},[h.closeButton,O]),Ct=Q.useMemo(()=>h.duration||P||oS,[h.duration,P]),zs=Q.useRef(0),rs=Q.useRef(0),Xc=Q.useRef(0),qs=Q.useRef(null),[fo,ef]=j.split("-"),Zc=Q.useMemo(()=>y.reduce((we,qe,xt)=>xt>=Bs?we:we+qe.height,0),[y,Bs]),ja=T9(),zv=h.invert||f,eu=zt==="loading";rs.current=Q.useMemo(()=>Bs*K+Zc,[Bs,Zc]),Q.useEffect(()=>{Pr.current=Ct},[Ct]),Q.useEffect(()=>{ue(!0)},[]),Q.useEffect(()=>{const we=jt.current;if(we){const qe=we.getBoundingClientRect().height;return ho(qe),b(xt=>[{toastId:h.id,height:qe,position:h.position},...xt]),()=>b(xt=>xt.filter(kt=>kt.toastId!==h.id))}},[b,h.id]),Q.useLayoutEffect(()=>{if(!Z)return;const we=jt.current,qe=we.style.height;we.style.height="auto";const xt=we.getBoundingClientRect().height;we.style.height=qe,ho(xt),b(kt=>kt.find(tt=>tt.toastId===h.id)?kt.map(tt=>tt.toastId===h.id?{...tt,height:xt}:tt):[{toastId:h.id,height:xt,position:h.position},...kt])},[Z,h.title,h.description,b,h.id]);const qn=Q.useCallback(()=>{ce(!0),Rr(rs.current),b(we=>we.filter(qe=>qe.toastId!==h.id)),setTimeout(()=>{C(h)},F9)},[h,C,b,rs]);Q.useEffect(()=>{if(h.promise&&zt==="loading"||h.duration===1/0||h.type==="loading")return;let we;return E||m||ja?(()=>{if(Xc.current<zs.current){const kt=new Date().getTime()-zs.current;Pr.current=Pr.current-kt}Xc.current=new Date().getTime()})():(()=>{Pr.current!==1/0&&(zs.current=new Date().getTime(),we=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),qn()},Pr.current))})(),()=>clearTimeout(we)},[E,m,h,zt,ja,qn]),Q.useEffect(()=>{h.delete&&qn()},[qn,h.delete]);function tf(){var we;if(G!=null&&G.loading){var qe;return Q.createElement("div",{className:jr(U==null?void 0:U.loader,h==null||(qe=h.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":zt==="loading"},G.loading)}return Q.createElement(x9,{className:jr(U==null?void 0:U.loader,h==null||(we=h.classNames)==null?void 0:we.loader),visible:zt==="loading"})}const nf=h.icon||(G==null?void 0:G[zt])||y9(zt);var Hs,Da;return Q.createElement("li",{tabIndex:0,ref:jt,className:jr(k,Yc,U==null?void 0:U.toast,h==null||(e=h.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[zt],h==null||(n=h.classNames)==null?void 0:n[zt]),"data-sonner-toast":"","data-rich-colors":(Hs=h.richColors)!=null?Hs:R,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":Z,"data-promise":!!h.promise,"data-swiped":pn,"data-removed":ie,"data-visible":Qc,"data-y-position":fo,"data-x-position":ef,"data-index":x,"data-front":Zh,"data-swiping":be,"data-dismissible":Us,"data-type":zt,"data-invert":zv,"data-swipe-out":Oe,"data-swipe-direction":z,"data-expanded":!!(E||X&&Z),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${ie?ar:rs.current}px`,"--initial-height":X?"auto":`${uo}px`,...S,...h.style},onDragEnd:()=>{Je(!1),W(null),qs.current=null},onPointerDown:we=>{eu||!Us||(Aa.current=new Date,Rr(rs.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(Je(!0),qs.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,qe,xt;if(Oe||!Us)return;qs.current=null;const kt=Number(((we=jt.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),po=Number(((qe=jt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tt=new Date().getTime()-((xt=Aa.current)==null?void 0:xt.getTime()),nn=F==="x"?kt:po,pt=Math.abs(nn)/tt;if(Math.abs(nn)>=V9||pt>.11){Rr(rs.current),h.onDismiss==null||h.onDismiss.call(h,h),q(F==="x"?kt>0?"right":"left":po>0?"down":"up"),qn(),at(!0);return}else{var mn,Dt;(mn=jt.current)==null||mn.style.setProperty("--swipe-amount-x","0px"),(Dt=jt.current)==null||Dt.style.setProperty("--swipe-amount-y","0px")}St(!1),Je(!1),W(null)},onPointerMove:we=>{var qe,xt,kt;if(!qs.current||!Us||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;const tt=we.clientY-qs.current.y,nn=we.clientX-qs.current.x;var pt;const mn=(pt=t.swipeDirections)!=null?pt:$9(j);!F&&(Math.abs(nn)>1||Math.abs(tt)>1)&&W(Math.abs(nn)>Math.abs(tt)?"x":"y");let Dt={x:0,y:0};const Ks=ss=>1/(1.5+Math.abs(ss)/20);if(F==="y"){if(mn.includes("top")||mn.includes("bottom"))if(mn.includes("top")&&tt<0||mn.includes("bottom")&&tt>0)Dt.y=tt;else{const ss=tt*Ks(tt);Dt.y=Math.abs(ss)<Math.abs(tt)?ss:tt}}else if(F==="x"&&(mn.includes("left")||mn.includes("right")))if(mn.includes("left")&&nn<0||mn.includes("right")&&nn>0)Dt.x=nn;else{const ss=nn*Ks(nn);Dt.x=Math.abs(ss)<Math.abs(nn)?ss:nn}(Math.abs(Dt.x)>0||Math.abs(Dt.y)>0)&&St(!0),(xt=jt.current)==null||xt.style.setProperty("--swipe-amount-x",`${Dt.x}px`),(kt=jt.current)==null||kt.style.setProperty("--swipe-amount-y",`${Dt.y}px`)}},Tt&&!h.jsx&&zt!=="loading"?Q.createElement("button",{"aria-label":M,"data-disabled":eu,"data-close-button":!0,onClick:eu||!Us?()=>{}:()=>{qn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:jr(U==null?void 0:U.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(Da=G==null?void 0:G.close)!=null?Da:S9):null,(zt||h.icon||h.promise)&&h.icon!==null&&((G==null?void 0:G[zt])!==null||h.icon)?Q.createElement("div",{"data-icon":"",className:jr(U==null?void 0:U.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||tf():null,h.type!=="loading"?nf:null):null,Q.createElement("div",{"data-content":"",className:jr(U==null?void 0:U.content,h==null||(i=h.classNames)==null?void 0:i.content)},Q.createElement("div",{"data-title":"",className:jr(U==null?void 0:U.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Q.createElement("div",{"data-description":"",className:jr(D,Jc,U==null?void 0:U.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),Q.isValidElement(h.cancel)?h.cancel:h.cancel&&Vf(h.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:we=>{Vf(h.cancel)&&Us&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,we),qn())},className:jr(U==null?void 0:U.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,Q.isValidElement(h.action)?h.action:h.action&&Vf(h.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||N,onClick:we=>{Vf(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,we),!we.defaultPrevented&&qn())},className:jr(U==null?void 0:U.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function aS(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function B9(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?O9:D9;function l(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}const z9=Q.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:l,offset:u,mobileOffset:f,theme:h="light",richColors:p,duration:m,style:b,visibleToasts:w=j9,toastOptions:y,dir:x=aS(),gap:_=L9,icons:E,containerAriaLabel:C="Notifications"}=e,[R,O]=Q.useState([]),S=Q.useMemo(()=>Array.from(new Set([s].concat(R.filter(z=>z.position).map(z=>z.position)))),[R,s]),[I,N]=Q.useState([]),[k,D]=Q.useState(!1),[P,j]=Q.useState(!1),[K,X]=Q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=Q.useRef(null),G=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Q.useRef(null),F=Q.useRef(!1),W=Q.useCallback(z=>{O(q=>{var Z;return(Z=q.find(ue=>ue.id===z.id))!=null&&Z.delete||vn.dismiss(z.id),q.filter(({id:ue})=>ue!==z.id)})},[]);return Q.useEffect(()=>vn.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{O(q=>q.map(Z=>Z.id===z.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{cR.flushSync(()=>{O(q=>{const Z=q.findIndex(ue=>ue.id===z.id);return Z!==-1?[...q.slice(0,Z),{...q[Z],...z},...q.slice(Z+1)]:[z,...q]})})})}),[R]),Q.useEffect(()=>{if(h!=="system"){X(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:q})=>{X(q?"dark":"light")})}catch{z.addListener(({matches:Z})=>{try{X(Z?"dark":"light")}catch(ue){console.error(ue)}})}},[h]),Q.useEffect(()=>{R.length<=1&&D(!1)},[R]),Q.useEffect(()=>{const z=q=>{var Z;if(i.every(ce=>q[ce]||q.code===ce)){var ie;D(!0),(ie=U.current)==null||ie.focus()}q.code==="Escape"&&(document.activeElement===U.current||(Z=U.current)!=null&&Z.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),Q.useEffect(()=>{if(U.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,F.current=!1)}},[U.current]),Q.createElement("section",{ref:n,"aria-label":`${C} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((z,q)=>{var Z;const[ue,ie]=z.split("-");return R.length?Q.createElement("ol",{key:z,dir:x==="auto"?aS():x,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":ue,"data-lifted":k&&R.length>1&&!o,"data-x-position":ie,style:{"--front-toast-height":`${((Z=I[0])==null?void 0:Z.height)||0}px`,"--width":`${M9}px`,"--gap":`${_}px`,...b,...B9(u,f)},onBlur:ce=>{F.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(F.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||F.current||(F.current=!0,M.current=ce.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{P||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},R.filter(ce=>!ce.position&&q===0||ce.position===z).map((ce,be)=>{var Je,Oe;return Q.createElement(U9,{key:ce.id,icons:E,index:be,toast:ce,defaultRichColors:p,duration:(Je=y==null?void 0:y.duration)!=null?Je:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Oe=y==null?void 0:y.closeButton)!=null?Oe:a,interacting:P,position:z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:W,toasts:R.filter(at=>at.position==ce.position),heights:I.filter(at=>at.position==ce.position),setHeights:N,expandByDefault:o,gap:_,expanded:k,swipeDirections:e.swipeDirections})})):null}))}),q9=({...t})=>{const{theme:e="system"}=g9();return c.jsx(z9,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var H9=Jx[" useId ".trim().toString()]||(()=>{}),K9=0;function Di(t){const[e,n]=g.useState(H9());return rr(()=>{t||n(r=>r??String(K9++))},[t]),t||(e?`radix-${e}`:"")}const W9=["top","right","bottom","left"],Hi=Math.min,An=Math.max,xm=Math.round,Ff=Math.floor,Qr=t=>({x:t,y:t}),G9={left:"right",right:"left",bottom:"top",top:"bottom"},Q9={start:"end",end:"start"};function Ew(t,e,n){return An(t,Hi(e,n))}function Rs(t,e){return typeof t=="function"?t(e):t}function Ps(t){return t.split("-")[0]}function Mc(t){return t.split("-")[1]}function G1(t){return t==="x"?"y":"x"}function Q1(t){return t==="y"?"height":"width"}function _s(t){return["top","bottom"].includes(Ps(t))?"y":"x"}function Y1(t){return G1(_s(t))}function Y9(t,e,n){n===void 0&&(n=!1);const r=Mc(t),s=Y1(t),i=Q1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=bm(o)),[o,bm(o)]}function J9(t){const e=bm(t);return[Iw(t),e,Iw(e)]}function Iw(t){return t.replace(/start|end/g,e=>Q9[e])}function X9(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Z9(t,e,n,r){const s=Mc(t);let i=X9(Ps(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Iw)))),i}function bm(t){return t.replace(/left|right|bottom|top/g,e=>G9[e])}function e8(t){return{top:0,right:0,bottom:0,left:0,...t}}function JR(t){return typeof t!="number"?e8(t):{top:t,right:t,bottom:t,left:t}}function _m(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function lS(t,e,n){let{reference:r,floating:s}=t;const i=_s(e),o=Y1(e),a=Q1(o),l=Ps(e),u=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:f,y:r.y-s.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Mc(e)){case"start":m[o]-=p*(n&&u?-1:1);break;case"end":m[o]+=p*(n&&u?-1:1);break}return m}const t8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=lS(u,r,l),p=r,m={},b=0;for(let w=0;w<a.length;w++){const{name:y,fn:x}=a[w],{x:_,y:E,data:C,reset:R}=await x({x:f,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});f=_??f,h=E??h,m={...m,[y]:{...m[y],...C}},R&&b<=50&&(b++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(u=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:f,y:h}=lS(u,p,l)),w=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:m}};async function Ad(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Rs(e,t),b=JR(m),y=a[p?h==="floating"?"reference":"floating":h],x=_m(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},R=_m(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:E,strategy:l}):_);return{top:(x.top-R.top+b.top)/C.y,bottom:(R.bottom-x.bottom+b.bottom)/C.y,left:(x.left-R.left+b.left)/C.x,right:(R.right-x.right+b.right)/C.x}}const n8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:f=0}=Rs(t,e)||{};if(u==null)return{};const h=JR(f),p={x:n,y:r},m=Y1(s),b=Q1(m),w=await o.getDimensions(u),y=m==="y",x=y?"top":"left",_=y?"bottom":"right",E=y?"clientHeight":"clientWidth",C=i.reference[b]+i.reference[m]-p[m]-i.floating[b],R=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=O?O[E]:0;(!S||!await(o.isElement==null?void 0:o.isElement(O)))&&(S=a.floating[E]||i.floating[b]);const I=C/2-R/2,N=S/2-w[b]/2-1,k=Hi(h[x],N),D=Hi(h[_],N),P=k,j=S-w[b]-D,K=S/2-w[b]/2+I,X=Ew(P,K,j),U=!l.arrow&&Mc(s)!=null&&K!==X&&i.reference[b]/2-(K<P?k:D)-w[b]/2<0,G=U?K<P?K-P:K-j:0;return{[m]:p[m]+G,data:{[m]:X,centerOffset:K-X-G,...U&&{alignmentOffset:G}},reset:U}}}),r8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...y}=Rs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ps(s),_=_s(a),E=Ps(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),R=p||(E||!w?[bm(a)]:J9(a)),O=b!=="none";!p&&O&&R.push(...Z9(a,w,b,C));const S=[a,...R],I=await Ad(e,y),N=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&N.push(I[x]),h){const X=Y9(s,o,C);N.push(I[X[0]],I[X[1]])}if(k=[...k,{placement:s,overflows:N}],!N.every(X=>X<=0)){var D,P;const X=(((D=i.flip)==null?void 0:D.index)||0)+1,U=S[X];if(U){var j;const M=h==="alignment"?_!==_s(U):!1,F=((j=k[0])==null?void 0:j.overflows[0])>0;if(!M||F)return{data:{index:X,overflows:k},reset:{placement:U}}}let G=(P=k.filter(M=>M.overflows[0]<=0).sort((M,F)=>M.overflows[1]-F.overflows[1])[0])==null?void 0:P.placement;if(!G)switch(m){case"bestFit":{var K;const M=(K=k.filter(F=>{if(O){const W=_s(F.placement);return W===_||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,z)=>W+z,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:K[0];M&&(G=M);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function cS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uS(t){return W9.some(e=>t[e]>=0)}const s8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Rs(t,e);switch(r){case"referenceHidden":{const i=await Ad(e,{...s,elementContext:"reference"}),o=cS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uS(o)}}}case"escaped":{const i=await Ad(e,{...s,altBoundary:!0}),o=cS(i,n.floating);return{data:{escapedOffsets:o,escaped:uS(o)}}}default:return{}}}}};async function i8(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ps(n),a=Mc(n),l=_s(n)==="y",u=["left","top"].includes(o)?-1:1,f=i&&l?-1:1,h=Rs(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const o8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await i8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},a8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:_}=y;return{x,y:_}}},...l}=Rs(t,e),u={x:n,y:r},f=await Ad(e,l),h=_s(Ps(s)),p=G1(h);let m=u[p],b=u[h];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",_=m+f[y],E=m-f[x];m=Ew(_,m,E)}if(o){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",_=b+f[y],E=b-f[x];b=Ew(_,b,E)}const w=a.fn({...e,[p]:m,[h]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[h]:o}}}}}},l8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Rs(t,e),f={x:n,y:r},h=_s(s),p=G1(h);let m=f[p],b=f[h];const w=Rs(a,e),y=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const E=p==="y"?"height":"width",C=i.reference[p]-i.floating[E]+y.mainAxis,R=i.reference[p]+i.reference[E]-y.mainAxis;m<C?m=C:m>R&&(m=R)}if(u){var x,_;const E=p==="y"?"width":"height",C=["top","left"].includes(Ps(s)),R=i.reference[h]-i.floating[E]+(C&&((x=o.offset)==null?void 0:x[h])||0)+(C?0:y.crossAxis),O=i.reference[h]+i.reference[E]+(C?0:((_=o.offset)==null?void 0:_[h])||0)-(C?y.crossAxis:0);b<R?b=R:b>O&&(b=O)}return{[p]:m,[h]:b}}}},c8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Rs(t,e),f=await Ad(e,u),h=Ps(s),p=Mc(s),m=_s(s)==="y",{width:b,height:w}=i.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,y=p==="end"?"top":"bottom");const _=w-f.top-f.bottom,E=b-f.left-f.right,C=Hi(w-f[y],_),R=Hi(b-f[x],E),O=!e.middlewareData.shift;let S=C,I=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=_),O&&!p){const k=An(f.left,0),D=An(f.right,0),P=An(f.top,0),j=An(f.bottom,0);m?I=b-2*(k!==0||D!==0?k+D:An(f.left,f.right)):S=w-2*(P!==0||j!==0?P+j:An(f.top,f.bottom))}await l({...e,availableWidth:I,availableHeight:S});const N=await o.getDimensions(a.floating);return b!==N.width||w!==N.height?{reset:{rects:!0}}:{}}}};function Mg(){return typeof window<"u"}function Lc(t){return XR(t)?(t.nodeName||"").toLowerCase():"#document"}function Ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ns(t){var e;return(e=(XR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XR(t){return Mg()?t instanceof Node||t instanceof Ln(t).Node:!1}function Sr(t){return Mg()?t instanceof Element||t instanceof Ln(t).Element:!1}function Jr(t){return Mg()?t instanceof HTMLElement||t instanceof Ln(t).HTMLElement:!1}function dS(t){return!Mg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ln(t).ShadowRoot}function Ch(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function u8(t){return["table","td","th"].includes(Lc(t))}function Lg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function J1(t){const e=X1(),n=Sr(t)?Tr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function d8(t){let e=Ki(t);for(;Jr(e)&&!ic(e);){if(J1(e))return e;if(Lg(e))return null;e=Ki(e)}return null}function X1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ic(t){return["html","body","#document"].includes(Lc(t))}function Tr(t){return Ln(t).getComputedStyle(t)}function Vg(t){return Sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ki(t){if(Lc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dS(t)&&t.host||ns(t);return dS(e)?e.host:e}function ZR(t){const e=Ki(t);return ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&Ch(e)?e:ZR(e)}function jd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=ZR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ln(s);if(i){const a=Sw(o);return e.concat(o,o.visualViewport||[],Ch(s)?s:[],a&&n?jd(a):[])}return e.concat(s,jd(s,[],n))}function Sw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eP(t){const e=Tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Jr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=xm(n)!==i||xm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Z1(t){return Sr(t)?t:t.contextElement}function Cl(t){const e=Z1(t);if(!Jr(e))return Qr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=eP(e);let o=(i?xm(n.width):n.width)/r,a=(i?xm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const h8=Qr(0);function tP(t){const e=Ln(t);return!X1()||!e.visualViewport?h8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function f8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ln(t)?!1:e}function ia(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Z1(t);let o=Qr(1);e&&(r?Sr(r)&&(o=Cl(r)):o=Cl(t));const a=f8(i,n,r)?tP(i):Qr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const p=Ln(i),m=r&&Sr(r)?Ln(r):r;let b=p,w=Sw(b);for(;w&&r&&m!==b;){const y=Cl(w),x=w.getBoundingClientRect(),_=Tr(w),E=x.left+(w.clientLeft+parseFloat(_.paddingLeft))*y.x,C=x.top+(w.clientTop+parseFloat(_.paddingTop))*y.y;l*=y.x,u*=y.y,f*=y.x,h*=y.y,l+=E,u+=C,b=Ln(w),w=Sw(b)}}return _m({width:f,height:h,x:l,y:u})}function eb(t,e){const n=Vg(t).scrollLeft;return e?e.left+n:ia(ns(t)).left+n}function nP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:eb(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function p8(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ns(r),a=e?Lg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Qr(1);const f=Qr(0),h=Jr(r);if((h||!h&&!i)&&((Lc(r)!=="body"||Ch(o))&&(l=Vg(r)),Jr(r))){const m=ia(r);u=Cl(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const p=o&&!h&&!i?nP(o,l,!0):Qr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-l.scrollTop*u.y+f.y+p.y}}function m8(t){return Array.from(t.getClientRects())}function g8(t){const e=ns(t),n=Vg(t),r=t.ownerDocument.body,s=An(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=An(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+eb(t);const a=-n.scrollTop;return Tr(r).direction==="rtl"&&(o+=An(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function v8(t,e){const n=Ln(t),r=ns(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=X1();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function y8(t,e){const n=ia(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Jr(t)?Cl(t):Qr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function hS(t,e,n){let r;if(e==="viewport")r=v8(t,n);else if(e==="document")r=g8(ns(t));else if(Sr(e))r=y8(e,n);else{const s=tP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return _m(r)}function rP(t,e){const n=Ki(t);return n===e||!Sr(n)||ic(n)?!1:Tr(n).position==="fixed"||rP(n,e)}function w8(t,e){const n=e.get(t);if(n)return n;let r=jd(t,[],!1).filter(a=>Sr(a)&&Lc(a)!=="body"),s=null;const i=Tr(t).position==="fixed";let o=i?Ki(t):t;for(;Sr(o)&&!ic(o);){const a=Tr(o),l=J1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ch(o)&&!l&&rP(t,o))?r=r.filter(f=>f!==o):s=a,o=Ki(o)}return e.set(t,r),r}function x8(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Lg(e)?[]:w8(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,f)=>{const h=hS(e,f,s);return u.top=An(h.top,u.top),u.right=Hi(h.right,u.right),u.bottom=Hi(h.bottom,u.bottom),u.left=An(h.left,u.left),u},hS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function b8(t){const{width:e,height:n}=eP(t);return{width:e,height:n}}function _8(t,e,n){const r=Jr(e),s=ns(e),i=n==="fixed",o=ia(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Qr(0);function u(){l.x=eb(s)}if(r||!r&&!i)if((Lc(e)!=="body"||Ch(s))&&(a=Vg(e)),r){const m=ia(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const f=s&&!r&&!i?nP(s,a):Qr(0),h=o.left+a.scrollLeft-l.x-f.x,p=o.top+a.scrollTop-l.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function Dy(t){return Tr(t).position==="static"}function fS(t,e){if(!Jr(t)||Tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ns(t)===n&&(n=n.ownerDocument.body),n}function sP(t,e){const n=Ln(t);if(Lg(t))return n;if(!Jr(t)){let s=Ki(t);for(;s&&!ic(s);){if(Sr(s)&&!Dy(s))return s;s=Ki(s)}return n}let r=fS(t,e);for(;r&&u8(r)&&Dy(r);)r=fS(r,e);return r&&ic(r)&&Dy(r)&&!J1(r)?n:r||d8(t)||n}const E8=async function(t){const e=this.getOffsetParent||sP,n=this.getDimensions,r=await n(t.floating);return{reference:_8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I8(t){return Tr(t).direction==="rtl"}const S8={convertOffsetParentRelativeRectToViewportRelativeRect:p8,getDocumentElement:ns,getClippingRect:x8,getOffsetParent:sP,getElementRects:E8,getClientRects:m8,getDimensions:b8,getScale:Cl,isElement:Sr,isRTL:I8};function iP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function T8(t,e){let n=null,r;const s=ns(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:f,top:h,width:p,height:m}=u;if(a||e(),!p||!m)return;const b=Ff(h),w=Ff(s.clientWidth-(f+p)),y=Ff(s.clientHeight-(h+m)),x=Ff(f),E={rootMargin:-b+"px "+-w+"px "+-y+"px "+-x+"px",threshold:An(0,Hi(1,l))||1};let C=!0;function R(O){const S=O[0].intersectionRatio;if(S!==l){if(!C)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!iP(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(R,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,E)}n.observe(t)}return o(!0),i}function C8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Z1(t),f=s||i?[...u?jd(u):[],...jd(e)]:[];f.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&a?T8(u,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let b,w=l?ia(t):null;l&&y();function y(){const x=ia(t);w&&!iP(w,x)&&n(),w=x,b=requestAnimationFrame(y)}return n(),()=>{var x;f.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const k8=o8,N8=a8,R8=r8,P8=c8,A8=s8,pS=n8,j8=l8,D8=(t,e,n)=>{const r=new Map,s={platform:S8,...n},i={...s.platform,_c:r};return t8(t,e,{...s,platform:i})};var wp=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Em(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Em(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Em(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function oP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mS(t,e){const n=oP(t);return Math.round(e*n)/n}function Oy(t){const e=g.useRef(t);return wp(()=>{e.current=t}),e}function O8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);Em(p,r)||m(r);const[b,w]=g.useState(null),[y,x]=g.useState(null),_=g.useCallback(M=>{M!==O.current&&(O.current=M,w(M))},[]),E=g.useCallback(M=>{M!==S.current&&(S.current=M,x(M))},[]),C=i||b,R=o||y,O=g.useRef(null),S=g.useRef(null),I=g.useRef(f),N=l!=null,k=Oy(l),D=Oy(s),P=Oy(u),j=g.useCallback(()=>{if(!O.current||!S.current)return;const M={placement:e,strategy:n,middleware:p};D.current&&(M.platform=D.current),D8(O.current,S.current,M).then(F=>{const W={...F,isPositioned:P.current!==!1};K.current&&!Em(I.current,W)&&(I.current=W,Eh.flushSync(()=>{h(W)}))})},[p,e,n,D,P]);wp(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[u]);const K=g.useRef(!1);wp(()=>(K.current=!0,()=>{K.current=!1}),[]),wp(()=>{if(C&&(O.current=C),R&&(S.current=R),C&&R){if(k.current)return k.current(C,R,j);j()}},[C,R,j,k,N]);const X=g.useMemo(()=>({reference:O,floating:S,setReference:_,setFloating:E}),[_,E]),U=g.useMemo(()=>({reference:C,floating:R}),[C,R]),G=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!U.floating)return M;const F=mS(U.floating,f.x),W=mS(U.floating,f.y);return a?{...M,transform:"translate("+F+"px, "+W+"px)",...oP(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,a,U.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:j,refs:X,elements:U,floatingStyles:G}),[f,j,X,U,G])}const M8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?pS({element:r.current,padding:s}).fn(n):{}:r?pS({element:r,padding:s}).fn(n):{}}}},L8=(t,e)=>({...k8(t),options:[t,e]}),V8=(t,e)=>({...N8(t),options:[t,e]}),F8=(t,e)=>({...j8(t),options:[t,e]}),$8=(t,e)=>({...R8(t),options:[t,e]}),U8=(t,e)=>({...P8(t),options:[t,e]}),B8=(t,e)=>({...A8(t),options:[t,e]}),z8=(t,e)=>({...M8(t),options:[t,e]});var q8="Arrow",aP=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});aP.displayName=q8;var H8=aP;function tb(t){const[e,n]=g.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var nb="Popper",[lP,Fg]=zn(nb),[K8,cP]=lP(nb),uP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return c.jsx(K8,{scope:e,anchor:r,onAnchorChange:s,children:n})};uP.displayName=nb;var dP="PopperAnchor",hP=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=cP(dP,n),o=g.useRef(null),a=Ue(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(ge.div,{...s,ref:a})});hP.displayName=dP;var rb="PopperContent",[W8,G8]=lP(rb),fP=g.forwardRef((t,e)=>{var be,Je,Oe,at,pn,St;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:b,...w}=t,y=cP(rb,n),[x,_]=g.useState(null),E=Ue(e,ar=>_(ar)),[C,R]=g.useState(null),O=tb(C),S=(O==null?void 0:O.width)??0,I=(O==null?void 0:O.height)??0,N=r+(i!=="center"?"-"+i:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(u)?u:[u],P=D.length>0,j={padding:k,boundary:D.filter(Y8),altBoundary:P},{refs:K,floatingStyles:X,placement:U,isPositioned:G,middlewareData:M}=O8({strategy:"fixed",placement:N,whileElementsMounted:(...ar)=>C8(...ar,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[L8({mainAxis:s+I,alignmentAxis:o}),l&&V8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?F8():void 0,...j}),l&&$8({...j}),U8({...j,apply:({elements:ar,rects:Rr,availableWidth:uo,availableHeight:ho})=>{const{width:Pr,height:Aa}=Rr.reference,jt=ar.floating.style;jt.setProperty("--radix-popper-available-width",`${uo}px`),jt.setProperty("--radix-popper-available-height",`${ho}px`),jt.setProperty("--radix-popper-anchor-width",`${Pr}px`),jt.setProperty("--radix-popper-anchor-height",`${Aa}px`)}}),C&&z8({element:C,padding:a}),J8({arrowWidth:S,arrowHeight:I}),p&&B8({strategy:"referenceHidden",...j})]}),[F,W]=gP(U),z=kn(b);rr(()=>{G&&(z==null||z())},[G,z]);const q=(be=M.arrow)==null?void 0:be.x,Z=(Je=M.arrow)==null?void 0:Je.y,ue=((Oe=M.arrow)==null?void 0:Oe.centerOffset)!==0,[ie,ce]=g.useState();return rr(()=>{x&&ce(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:G?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(at=M.transformOrigin)==null?void 0:at.x,(pn=M.transformOrigin)==null?void 0:pn.y].join(" "),...((St=M.hide)==null?void 0:St.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(W8,{scope:n,placedSide:F,onArrowChange:R,arrowX:q,arrowY:Z,shouldHideArrow:ue,children:c.jsx(ge.div,{"data-side":F,"data-align":W,...w,ref:E,style:{...w.style,animation:G?void 0:"none"}})})})});fP.displayName=rb;var pP="PopperArrow",Q8={top:"bottom",right:"left",bottom:"top",left:"right"},mP=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=G8(pP,r),o=Q8[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(H8,{...s,ref:n,style:{...s.style,display:"block"}})})});mP.displayName=pP;function Y8(t){return t!==null}var J8=t=>({name:"transformOrigin",options:t,fn(e){var y,x,_;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,f]=gP(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let b="",w="";return u==="bottom"?(b=o?h:`${p}px`,w=`${-l}px`):u==="top"?(b=o?h:`${p}px`,w=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,w=o?h:`${m}px`):u==="left"&&(b=`${r.floating.width+l}px`,w=o?h:`${m}px`),{data:{x:b,y:w}}}});function gP(t){const[e,n="center"]=t.split("-");return[e,n]}var vP=uP,yP=hP,wP=fP,xP=mP,[$g,Bne]=zn("Tooltip",[Fg]),Ug=Fg(),bP="TooltipProvider",X8=700,Tw="tooltip.open",[Z8,sb]=$g(bP),_P=t=>{const{__scopeTooltip:e,delayDuration:n=X8,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(Z8,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};_P.displayName=bP;var Dd="Tooltip",[e$,Bg]=$g(Dd),EP=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=sb(Dd,t.__scopeTooltip),u=Ug(e),[f,h]=g.useState(null),p=Di(),m=g.useRef(0),b=o??l.disableHoverableContent,w=a??l.delayDuration,y=g.useRef(!1),[x,_]=to({prop:r,defaultProp:s??!1,onChange:S=>{S?(l.onOpen(),document.dispatchEvent(new CustomEvent(Tw))):l.onClose(),i==null||i(S)},caller:Dd}),E=g.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),C=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,_(!0)},[_]),R=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_(!1)},[_]),O=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,_(!0),m.current=0},w)},[w,_]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(vP,{...u,children:c.jsx(e$,{scope:e,contentId:p,open:x,stateAttribute:E,trigger:f,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayedRef.current?O():C()},[l.isOpenDelayedRef,O,C]),onTriggerLeave:g.useCallback(()=>{b?R():(window.clearTimeout(m.current),m.current=0)},[R,b]),onOpen:C,onClose:R,disableHoverableContent:b,children:n})})};EP.displayName=Dd;var Cw="TooltipTrigger",IP=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bg(Cw,n),i=sb(Cw,n),o=Ug(n),a=g.useRef(null),l=Ue(e,a,s.onTriggerChange),u=g.useRef(!1),f=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(yP,{asChild:!0,...o,children:c.jsx(ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:se(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:se(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});IP.displayName=Cw;var t$="TooltipPortal",[zne,n$]=$g(t$,{forceMount:void 0}),oc="TooltipContent",SP=g.forwardRef((t,e)=>{const n=n$(oc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Bg(oc,t.__scopeTooltip);return c.jsx(or,{present:r||o.open,children:o.disableHoverableContent?c.jsx(TP,{side:s,...i,ref:e}):c.jsx(r$,{side:s,...i,ref:e})})}),r$=g.forwardRef((t,e)=>{const n=Bg(oc,t.__scopeTooltip),r=sb(oc,t.__scopeTooltip),s=g.useRef(null),i=Ue(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,f=s.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),m=g.useCallback((b,w)=>{const y=b.currentTarget,x={x:b.clientX,y:b.clientY},_=l$(x,y.getBoundingClientRect()),E=c$(x,_),C=u$(w.getBoundingClientRect()),R=h$([...E,...C]);a(R),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&f){const b=y=>m(y,f),w=y=>m(y,l);return l.addEventListener("pointerleave",b),f.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",w)}}},[l,f,m,p]),g.useEffect(()=>{if(o){const b=w=>{const y=w.target,x={x:w.clientX,y:w.clientY},_=(l==null?void 0:l.contains(y))||(f==null?void 0:f.contains(y)),E=!d$(x,o);_?p():E&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,f,o,u,p]),c.jsx(TP,{...t,ref:i})}),[s$,i$]=$g(Dd,{isInside:!1}),o$=E6("TooltipContent"),TP=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Bg(oc,n),u=Ug(n),{onClose:f}=l;return g.useEffect(()=>(document.addEventListener(Tw,f),()=>document.removeEventListener(Tw,f)),[f]),g.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),c.jsx(Ih,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:c.jsxs(wP,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(o$,{children:r}),c.jsx(s$,{scope:n,isInside:!0,children:c.jsx(K6,{id:l.contentId,role:"tooltip",children:s||r})})]})})});SP.displayName=oc;var CP="TooltipArrow",a$=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ug(n);return i$(CP,n).isInside?null:c.jsx(xP,{...s,...r,ref:e})});a$.displayName=CP;function l$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function c$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function u$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function d$(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,f=a.y,h=l.x,p=l.y;f>r!=p>r&&n<(h-u)*(r-f)/(p-f)+u&&(s=!s)}return s}function h$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),f$(e)}function f$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var p$=_P,m$=EP,g$=IP,kP=SP;const NP=p$,v$=m$,y$=g$,RP=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(kP,{ref:r,sideOffset:e,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));RP.displayName=kP.displayName;var kh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oa=typeof window>"u"||"Deno"in globalThis;function yn(){}function w$(t,e){return typeof t=="function"?t(e):t}function kw(t){return typeof t=="number"&&t>=0&&t!==1/0}function PP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function kl(t,e){return typeof t=="function"?t(e):t}function gr(t,e){return typeof t=="function"?t(e):t}function gS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ib(o,e.options))return!1}else if(!Md(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function vS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Od(e.options.mutationKey)!==Od(i))return!1}else if(!Md(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ib(t,e){return((e==null?void 0:e.queryKeyHashFn)||Od)(t)}function Od(t){return JSON.stringify(t,(e,n)=>Rw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Md(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Md(t[n],e[n])):!1}function AP(t,e){if(t===e)return t;const n=yS(t)&&yS(e);if(n||Rw(t)&&Rw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const f=n?u:i[u];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=AP(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Nw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function yS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rw(t){if(!wS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wS(t){return Object.prototype.toString.call(t)==="[object Object]"}function x$(t){return new Promise(e=>{setTimeout(e,t)})}function Pw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AP(t,e):e}function b$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ob=Symbol();function jP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ob?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function E$(t,e){return typeof t=="function"?t(...e):!!t}var Vo,pi,Vl,UC,I$=(UC=class extends kh{constructor(){super();he(this,Vo,void 0);he(this,pi,void 0);he(this,Vl,void 0);oe(this,Vl,e=>{if(!oa&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,pi)||this.setEventListener(L(this,Vl))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,pi))==null||e.call(this),oe(this,pi,void 0))}setEventListener(e){var n;oe(this,Vl,e),(n=L(this,pi))==null||n.call(this),oe(this,pi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,Vo)!==e&&(oe(this,Vo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,Vo)=="boolean"?L(this,Vo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vo=new WeakMap,pi=new WeakMap,Vl=new WeakMap,UC),ab=new I$,Fl,mi,$l,BC,S$=(BC=class extends kh{constructor(){super();he(this,Fl,!0);he(this,mi,void 0);he(this,$l,void 0);oe(this,$l,e=>{if(!oa&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,mi)||this.setEventListener(L(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,mi))==null||e.call(this),oe(this,mi,void 0))}setEventListener(e){var n;oe(this,$l,e),(n=L(this,mi))==null||n.call(this),oe(this,mi,e(this.setOnline.bind(this)))}setOnline(e){L(this,Fl)!==e&&(oe(this,Fl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,Fl)}},Fl=new WeakMap,mi=new WeakMap,$l=new WeakMap,BC),Im=new S$;function Aw(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function T$(t){return Math.min(1e3*2**t,3e4)}function DP(t){return(t??"online")==="online"?Im.isOnline():!0}var OP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function My(t){return t instanceof OP}function MP(t){let e=!1,n=0,r=!1,s;const i=Aw(),o=w=>{var y;r||(p(new OP(w)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ab.isFocused()&&(t.networkMode==="always"||Im.isOnline())&&t.canRun(),f=()=>DP(t.networkMode)&&t.canRun(),h=w=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var y;s=x=>{(r||u())&&w(x)},(y=t.onPause)==null||y.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),b=()=>{if(r)return;let w;const y=n===0?t.initialPromise:void 0;try{w=y??t.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(h).catch(x=>{var O;if(r)return;const _=t.retry??(oa?0:3),E=t.retryDelay??T$,C=typeof E=="function"?E(n,x):E,R=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,x);if(e||!R){p(x);return}n++,(O=t.onFail)==null||O.call(t,n,x),x$(C).then(()=>u()?void 0:m()).then(()=>{e?p(x):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?b():m().then(b),i)}}var C$=t=>setTimeout(t,0);function k$(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=C$;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ft=k$(),Fo,zC,LP=(zC=class{constructor(){he(this,Fo,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kw(this.gcTime)&&oe(this,Fo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oa?1/0:5*60*1e3))}clearGcTimeout(){L(this,Fo)&&(clearTimeout(L(this,Fo)),oe(this,Fo,void 0))}},Fo=new WeakMap,zC),Ul,Bl,Kn,$o,Qt,ah,Uo,dr,cs,qC,N$=(qC=class extends LP{constructor(n){super();he(this,dr);he(this,Ul,void 0);he(this,Bl,void 0);he(this,Kn,void 0);he(this,$o,void 0);he(this,Qt,void 0);he(this,ah,void 0);he(this,Uo,void 0);oe(this,Uo,!1),oe(this,ah,n.defaultOptions),this.setOptions(n.options),this.observers=[],oe(this,$o,n.client),oe(this,Kn,L(this,$o).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,oe(this,Ul,R$(this.options)),this.state=n.state??L(this,Ul),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=L(this,Qt))==null?void 0:n.promise}setOptions(n){this.options={...L(this,ah),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,Kn).remove(this)}setData(n,r){const s=Pw(this.state.data,n,this.options);return Ne(this,dr,cs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ne(this,dr,cs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=L(this,Qt))==null?void 0:s.promise;return(i=L(this,Qt))==null||i.cancel(n),r?r.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,Ul))}isActive(){return this.observers.some(n=>gr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ob||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!PP(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=L(this,Qt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=L(this,Qt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),L(this,Kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(L(this,Qt)&&(L(this,Uo)?L(this,Qt).cancel({revert:!0}):L(this,Qt).cancelRetry()),this.scheduleGc()),L(this,Kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ne(this,dr,cs).call(this,{type:"invalidate"})}fetch(n,r){var u,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,Qt))return L(this,Qt).continueRetry(),L(this,Qt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(oe(this,Uo,!0),s.signal)})},o=()=>{const p=jP(this.options,r),m={client:L(this,$o),queryKey:this.queryKey,meta:this.meta};return i(m),oe(this,Uo,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:L(this,$o),state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),oe(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ne(this,dr,cs).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var m,b,w,y;My(p)&&p.silent||Ne(this,dr,cs).call(this,{type:"error",error:p}),My(p)||((b=(m=L(this,Kn).config).onError)==null||b.call(m,p,this),(y=(w=L(this,Kn).config).onSettled)==null||y.call(w,this.state.data,p,this)),this.scheduleGc()};return oe(this,Qt,MP({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,b,w,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){l(x);return}(b=(m=L(this,Kn).config).onSuccess)==null||b.call(m,p,this),(y=(w=L(this,Kn).config).onSettled)==null||y.call(w,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{Ne(this,dr,cs).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Ne(this,dr,cs).call(this,{type:"pause"})},onContinue:()=>{Ne(this,dr,cs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),L(this,Qt).start()}},Ul=new WeakMap,Bl=new WeakMap,Kn=new WeakMap,$o=new WeakMap,Qt=new WeakMap,ah=new WeakMap,Uo=new WeakMap,dr=new WeakSet,cs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...VP(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return My(i)&&i.revert&&L(this,Bl)?{...L(this,Bl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),L(this,Kn).notify({query:this,type:"updated",action:n})})},qC);function VP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function R$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mr,HC,P$=(HC=class extends kh{constructor(e={}){super();he(this,Mr,void 0);this.config=e,oe(this,Mr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ib(s,n);let o=this.get(i);return o||(o=new N$({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){L(this,Mr).has(e.queryHash)||(L(this,Mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,Mr).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,Mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Mr).get(e)}getAll(){return[...L(this,Mr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gS(e,r)):n}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mr=new WeakMap,HC),Lr,rn,Bo,Vr,ri,KC,A$=(KC=class extends LP{constructor(n){super();he(this,Vr);he(this,Lr,void 0);he(this,rn,void 0);he(this,Bo,void 0);this.mutationId=n.mutationId,oe(this,rn,n.mutationCache),oe(this,Lr,[]),this.state=n.state||j$(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){L(this,Lr).includes(n)||(L(this,Lr).push(n),this.clearGcTimeout(),L(this,rn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){oe(this,Lr,L(this,Lr).filter(r=>r!==n)),this.scheduleGc(),L(this,rn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){L(this,Lr).length||(this.state.status==="pending"?this.scheduleGc():L(this,rn).remove(this))}continue(){var n;return((n=L(this,Bo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,f,h,p,m,b,w,y,x,_,E,C,R,O,S,I,N;const r=()=>{Ne(this,Vr,ri).call(this,{type:"continue"})};oe(this,Bo,MP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{Ne(this,Vr,ri).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{Ne(this,Vr,ri).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,rn).canRun(this)}));const s=this.state.status==="pending",i=!L(this,Bo).canStart();try{if(s)r();else{Ne(this,Vr,ri).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=L(this,rn).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));D!==this.state.context&&Ne(this,Vr,ri).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const k=await L(this,Bo).start();return await((h=(f=L(this,rn).config).onSuccess)==null?void 0:h.call(f,k,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,k,n,this.state.context)),await((w=(b=L(this,rn).config).onSettled)==null?void 0:w.call(b,k,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,k,null,n,this.state.context)),Ne(this,Vr,ri).call(this,{type:"success",data:k}),k}catch(k){try{throw await((E=(_=L(this,rn).config).onError)==null?void 0:E.call(_,k,n,this.state.context,this)),await((R=(C=this.options).onError)==null?void 0:R.call(C,k,n,this.state.context)),await((S=(O=L(this,rn).config).onSettled)==null?void 0:S.call(O,void 0,k,this.state.variables,this.state.context,this)),await((N=(I=this.options).onSettled)==null?void 0:N.call(I,void 0,k,n,this.state.context)),k}finally{Ne(this,Vr,ri).call(this,{type:"error",error:k})}}finally{L(this,rn).runNext(this)}}},Lr=new WeakMap,rn=new WeakMap,Bo=new WeakMap,Vr=new WeakSet,ri=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{L(this,Lr).forEach(s=>{s.onMutationUpdate(n)}),L(this,rn).notify({mutation:this,type:"updated",action:n})})},KC);function j$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ps,hr,lh,WC,D$=(WC=class extends kh{constructor(e={}){super();he(this,ps,void 0);he(this,hr,void 0);he(this,lh,void 0);this.config=e,oe(this,ps,new Set),oe(this,hr,new Map),oe(this,lh,0)}build(e,n,r){const s=new A$({mutationCache:this,mutationId:++yf(this,lh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){L(this,ps).add(e);const n=$f(e);if(typeof n=="string"){const r=L(this,hr).get(n);r?r.push(e):L(this,hr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(L(this,ps).delete(e)){const n=$f(e);if(typeof n=="string"){const r=L(this,hr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&L(this,hr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=$f(e);if(typeof n=="string"){const r=L(this,hr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=$f(e);if(typeof n=="string"){const s=(r=L(this,hr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ft.batch(()=>{L(this,ps).forEach(e=>{this.notify({type:"removed",mutation:e})}),L(this,ps).clear(),L(this,hr).clear()})}getAll(){return Array.from(L(this,ps))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vS(n,r))}findAll(e={}){return this.getAll().filter(n=>vS(e,n))}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ft.batch(()=>Promise.all(e.map(n=>n.continue().catch(yn))))}},ps=new WeakMap,hr=new WeakMap,lh=new WeakMap,WC);function $f(t){var e;return(e=t.options.scope)==null?void 0:e.id}function xS(t){return{onFetch:(e,n)=>{var f,h,p,m,b;const r=e.options,s=(p=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const y=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},x=jP(e.options,e.fetchOptions),_=async(E,C,R)=>{if(w)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const O={client:e.client,queryKey:e.queryKey,pageParam:C,direction:R?"backward":"forward",meta:e.options.meta};y(O);const S=await x(O),{maxPages:I}=e.options,N=R?_$:b$;return{pages:N(E.pages,S,I),pageParams:N(E.pageParams,C,I)}};if(s&&i.length){const E=s==="backward",C=E?O$:bS,R={pages:i,pageParams:o},O=C(r,R);a=await _(R,O,E)}else{const E=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:bS(r,a);if(l>0&&C==null)break;a=await _(a,C),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var w,y;return(y=(w=e.options).persister)==null?void 0:y.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function bS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function O$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ct,gi,vi,zl,ql,yi,Hl,Kl,GC,M$=(GC=class{constructor(t={}){he(this,ct,void 0);he(this,gi,void 0);he(this,vi,void 0);he(this,zl,void 0);he(this,ql,void 0);he(this,yi,void 0);he(this,Hl,void 0);he(this,Kl,void 0);oe(this,ct,t.queryCache||new P$),oe(this,gi,t.mutationCache||new D$),oe(this,vi,t.defaultOptions||{}),oe(this,zl,new Map),oe(this,ql,new Map),oe(this,yi,0)}mount(){yf(this,yi)._++,L(this,yi)===1&&(oe(this,Hl,ab.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,ct).onFocus())})),oe(this,Kl,Im.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,ct).onOnline())})))}unmount(){var t,e;yf(this,yi)._--,L(this,yi)===0&&((t=L(this,Hl))==null||t.call(this),oe(this,Hl,void 0),(e=L(this,Kl))==null||e.call(this),oe(this,Kl,void 0))}isFetching(t){return L(this,ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,gi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=L(this,ct).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(kl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return L(this,ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=L(this,ct).get(r.queryHash),i=s==null?void 0:s.state.data,o=w$(e,i);if(o!==void 0)return L(this,ct).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ft.batch(()=>L(this,ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,ct);Ft.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,ct);return Ft.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ft.batch(()=>L(this,ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(yn).catch(yn)}invalidateQueries(t,e={}){return Ft.batch(()=>(L(this,ct).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ft.batch(()=>L(this,ct).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,ct).build(this,e);return n.isStaleByTime(kl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yn).catch(yn)}fetchInfiniteQuery(t){return t.behavior=xS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yn).catch(yn)}ensureInfiniteQueryData(t){return t.behavior=xS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Im.isOnline()?L(this,gi).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,ct)}getMutationCache(){return L(this,gi)}getDefaultOptions(){return L(this,vi)}setDefaultOptions(t){oe(this,vi,t)}setQueryDefaults(t,e){L(this,zl).set(Od(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,zl).values()],n={};return e.forEach(r=>{Md(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){L(this,ql).set(Od(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,ql).values()],n={};return e.forEach(r=>{Md(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,vi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ib(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ob&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,vi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,ct).clear(),L(this,gi).clear()}},ct=new WeakMap,gi=new WeakMap,vi=new WeakMap,zl=new WeakMap,ql=new WeakMap,yi=new WeakMap,Hl=new WeakMap,Kl=new WeakMap,GC),gn,Re,ch,sn,zo,Wl,wi,xi,uh,Gl,Ql,qo,Ho,bi,Yl,Ko,Du,dh,jw,hh,Dw,fh,Ow,ph,Mw,mh,Lw,gh,Vw,vh,Fw,fg,FP,QC,L$=(QC=class extends kh{constructor(e,n){super();he(this,Ko);he(this,dh);he(this,hh);he(this,fh);he(this,ph);he(this,mh);he(this,gh);he(this,vh);he(this,fg);he(this,gn,void 0);he(this,Re,void 0);he(this,ch,void 0);he(this,sn,void 0);he(this,zo,void 0);he(this,Wl,void 0);he(this,wi,void 0);he(this,xi,void 0);he(this,uh,void 0);he(this,Gl,void 0);he(this,Ql,void 0);he(this,qo,void 0);he(this,Ho,void 0);he(this,bi,void 0);he(this,Yl,new Set);this.options=n,oe(this,gn,e),oe(this,xi,null),oe(this,wi,Aw()),this.options.experimental_prefetchInRender||L(this,wi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Re).addObserver(this),_S(L(this,Re),this.options)?Ne(this,Ko,Du).call(this):this.updateResult(),Ne(this,ph,Mw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $w(L(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $w(L(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ne(this,mh,Lw).call(this),Ne(this,gh,Vw).call(this),L(this,Re).removeObserver(this)}setOptions(e){const n=this.options,r=L(this,Re);if(this.options=L(this,gn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gr(this.options.enabled,L(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ne(this,vh,Fw).call(this),L(this,Re).setOptions(this.options),n._defaulted&&!Nw(this.options,n)&&L(this,gn).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Re),observer:this});const s=this.hasListeners();s&&ES(L(this,Re),r,this.options,n)&&Ne(this,Ko,Du).call(this),this.updateResult(),s&&(L(this,Re)!==r||gr(this.options.enabled,L(this,Re))!==gr(n.enabled,L(this,Re))||kl(this.options.staleTime,L(this,Re))!==kl(n.staleTime,L(this,Re)))&&Ne(this,dh,jw).call(this);const i=Ne(this,hh,Dw).call(this);s&&(L(this,Re)!==r||gr(this.options.enabled,L(this,Re))!==gr(n.enabled,L(this,Re))||i!==L(this,bi))&&Ne(this,fh,Ow).call(this,i)}getOptimisticResult(e){const n=L(this,gn).getQueryCache().build(L(this,gn),e),r=this.createResult(n,e);return F$(this,r)&&(oe(this,sn,r),oe(this,Wl,this.options),oe(this,zo,L(this,Re).state)),r}getCurrentResult(){return L(this,sn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){L(this,Yl).add(e)}getCurrentQuery(){return L(this,Re)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=L(this,gn).defaultQueryOptions(e),r=L(this,gn).getQueryCache().build(L(this,gn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ne(this,Ko,Du).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,sn)))}createResult(e,n){var N;const r=L(this,Re),s=this.options,i=L(this,sn),o=L(this,zo),a=L(this,Wl),u=e!==r?e.state:L(this,ch),{state:f}=e;let h={...f},p=!1,m;if(n._optimisticResults){const k=this.hasListeners(),D=!k&&_S(e,n),P=k&&ES(e,r,n,s);(D||P)&&(h={...h,...VP(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:w,status:y}=h;m=h.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(k=i.data,x=!0):k=typeof n.placeholderData=="function"?n.placeholderData((N=L(this,Ql))==null?void 0:N.state.data,L(this,Ql)):n.placeholderData,k!==void 0&&(y="success",m=Pw(i==null?void 0:i.data,k,n),p=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(o==null?void 0:o.data)&&n.select===L(this,uh))m=L(this,Gl);else try{oe(this,uh,n.select),m=n.select(m),m=Pw(i==null?void 0:i.data,m,n),oe(this,Gl,m),oe(this,xi,null)}catch(k){oe(this,xi,k)}L(this,xi)&&(b=L(this,xi),m=L(this,Gl),w=Date.now(),y="error");const _=h.fetchStatus==="fetching",E=y==="pending",C=y==="error",R=E&&_,O=m!==void 0,I={status:y,fetchStatus:h.fetchStatus,isPending:E,isSuccess:y==="success",isError:C,isInitialLoading:R,isLoading:R,data:m,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:C&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&O,isStale:lb(e,n),refetch:this.refetch,promise:L(this,wi)};if(this.options.experimental_prefetchInRender){const k=j=>{I.status==="error"?j.reject(I.error):I.data!==void 0&&j.resolve(I.data)},D=()=>{const j=oe(this,wi,I.promise=Aw());k(j)},P=L(this,wi);switch(P.status){case"pending":e.queryHash===r.queryHash&&k(P);break;case"fulfilled":(I.status==="error"||I.data!==P.value)&&D();break;case"rejected":(I.status!=="error"||I.error!==P.reason)&&D();break}}return I}updateResult(){const e=L(this,sn),n=this.createResult(L(this,Re),this.options);if(oe(this,zo,L(this,Re).state),oe(this,Wl,this.options),L(this,zo).data!==void 0&&oe(this,Ql,L(this,Re)),Nw(n,e))return;oe(this,sn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!L(this,Yl).size)return!0;const o=new Set(i??L(this,Yl));return this.options.throwOnError&&o.add("error"),Object.keys(L(this,sn)).some(a=>{const l=a;return L(this,sn)[l]!==e[l]&&o.has(l)})};Ne(this,fg,FP).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ne(this,ph,Mw).call(this)}},gn=new WeakMap,Re=new WeakMap,ch=new WeakMap,sn=new WeakMap,zo=new WeakMap,Wl=new WeakMap,wi=new WeakMap,xi=new WeakMap,uh=new WeakMap,Gl=new WeakMap,Ql=new WeakMap,qo=new WeakMap,Ho=new WeakMap,bi=new WeakMap,Yl=new WeakMap,Ko=new WeakSet,Du=function(e){Ne(this,vh,Fw).call(this);let n=L(this,Re).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(yn)),n},dh=new WeakSet,jw=function(){Ne(this,mh,Lw).call(this);const e=kl(this.options.staleTime,L(this,Re));if(oa||L(this,sn).isStale||!kw(e))return;const r=PP(L(this,sn).dataUpdatedAt,e)+1;oe(this,qo,setTimeout(()=>{L(this,sn).isStale||this.updateResult()},r))},hh=new WeakSet,Dw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Re)):this.options.refetchInterval)??!1},fh=new WeakSet,Ow=function(e){Ne(this,gh,Vw).call(this),oe(this,bi,e),!(oa||gr(this.options.enabled,L(this,Re))===!1||!kw(L(this,bi))||L(this,bi)===0)&&oe(this,Ho,setInterval(()=>{(this.options.refetchIntervalInBackground||ab.isFocused())&&Ne(this,Ko,Du).call(this)},L(this,bi)))},ph=new WeakSet,Mw=function(){Ne(this,dh,jw).call(this),Ne(this,fh,Ow).call(this,Ne(this,hh,Dw).call(this))},mh=new WeakSet,Lw=function(){L(this,qo)&&(clearTimeout(L(this,qo)),oe(this,qo,void 0))},gh=new WeakSet,Vw=function(){L(this,Ho)&&(clearInterval(L(this,Ho)),oe(this,Ho,void 0))},vh=new WeakSet,Fw=function(){const e=L(this,gn).getQueryCache().build(L(this,gn),this.options);if(e===L(this,Re))return;const n=L(this,Re);oe(this,Re,e),oe(this,ch,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},fg=new WeakSet,FP=function(e){Ft.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(L(this,sn))}),L(this,gn).getQueryCache().notify({query:L(this,Re),type:"observerResultsUpdated"})})},QC);function V$(t,e){return gr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _S(t,e){return V$(t,e)||t.state.data!==void 0&&$w(t,e,e.refetchOnMount)}function $w(t,e,n){if(gr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&lb(t,e)}return!1}function ES(t,e,n,r){return(t!==e||gr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&lb(t,n)}function lb(t,e){return gr(e.enabled,t)!==!1&&t.isStaleByTime(kl(e.staleTime,t))}function F$(t,e){return!Nw(t.getCurrentResult(),e)}var $P=g.createContext(void 0),$$=t=>{const e=g.useContext($P);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},U$=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx($P.Provider,{value:t,children:e})),UP=g.createContext(!1),B$=()=>g.useContext(UP);UP.Provider;function z$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var q$=g.createContext(z$()),H$=()=>g.useContext(q$),K$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},W$=t=>{g.useEffect(()=>{t.clearReset()},[t])},G$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||E$(n,[t.error,r])),Q$=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Y$=(t,e)=>t.isLoading&&t.isFetching&&!e,J$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,IS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function X$(t,e,n){var h,p,m,b,w;const r=$$(n),s=B$(),i=H$(),o=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",Q$(o),K$(o,i),W$(i);const a=!r.getQueryCache().get(o.queryHash),[l]=g.useState(()=>new e(r,o)),u=l.getOptimisticResult(o),f=!s&&t.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(y=>{const x=f?l.subscribe(Ft.batchCalls(y)):yn;return l.updateResult(),x},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),g.useEffect(()=>{l.setOptions(o)},[o,l]),J$(o,u))throw IS(o,l,i);if(G$({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||b.call(m,o,u),o.experimental_prefetchInRender&&!oa&&Y$(u,s)){const y=a?IS(o,l,i):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;y==null||y.catch(yn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Z$(t,e){return X$(t,L$,e)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(this,arguments)}var Ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ii||(Ii={}));const SS="popstate";function eU(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Uw("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Sm(s)}return nU(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tU(){return Math.random().toString(36).substr(2,8)}function TS(t,e){return{usr:t.state,key:t.key,idx:e}}function Uw(t,e,n,r){return n===void 0&&(n=null),Ld({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vc(e):e,{state:n,key:e&&e.key||r||tU()})}function Sm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nU(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ii.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Ld({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=Ii.Pop;let y=f(),x=y==null?null:y-u;u=y,l&&l({action:a,location:w.location,delta:x})}function p(y,x){a=Ii.Push;let _=Uw(w.location,y,x);n&&n(_,y),u=f()+1;let E=TS(_,u),C=w.createHref(_);try{o.pushState(E,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(C)}i&&l&&l({action:a,location:w.location,delta:1})}function m(y,x){a=Ii.Replace;let _=Uw(w.location,y,x);n&&n(_,y),u=f();let E=TS(_,u),C=w.createHref(_);o.replaceState(E,"",C),i&&l&&l({action:a,location:w.location,delta:0})}function b(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof y=="string"?y:Sm(y);return _=_.replace(/ $/,"%20"),yt(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let w={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(SS,h),l=y,()=>{s.removeEventListener(SS,h),l=null}},createHref(y){return e(s,y)},createURL:b,encodeLocation(y){let x=b(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(y){return o.go(y)}};return w}var CS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(CS||(CS={}));function rU(t,e,n){return n===void 0&&(n="/"),sU(t,e,n,!1)}function sU(t,e,n,r){let s=typeof e=="string"?Vc(e):e,i=cb(s.pathname||"/",n);if(i==null)return null;let o=zP(t);iU(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=gU(i);a=pU(o[l],u,r)}return a}function zP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(yt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zP(i.children,e,f,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:hU(u,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of qP(i.path))s(i,o,l)}),e}function qP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=qP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oU=/^:[\w-]+$/,aU=3,lU=2,cU=1,uU=10,dU=-2,kS=t=>t==="*";function hU(t,e){let n=t.split("/"),r=n.length;return n.some(kS)&&(r+=dU),e&&(r+=lU),n.filter(s=>!kS(s)).reduce((s,i)=>s+(oU.test(i)?aU:i===""?cU:uU),r)}function fU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function pU(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=NS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=NS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Oi([i,h.pathname]),pathnameBase:xU(Oi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Oi([i,h.pathnameBase]))}return o}function NS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mU(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=a[h];return m&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function mU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Vc(t):t;return{pathname:n?n.startsWith("/")?n:yU(n,e):e,search:bU(r),hash:_U(s)}}function yU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ly(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function HP(t,e){let n=wU(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function KP(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Vc(t):(s=Ld({},t),yt(!s.pathname||!s.pathname.includes("?"),Ly("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),Ly("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),Ly("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=vU(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),xU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_U=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WP=["post","put","patch","delete"];new Set(WP);const IU=["get",...WP];new Set(IU);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vd.apply(this,arguments)}const ub=g.createContext(null),SU=g.createContext(null),Sa=g.createContext(null),zg=g.createContext(null),no=g.createContext({outlet:null,matches:[],isDataRoute:!1}),GP=g.createContext(null);function TU(t,e){let{relative:n}=e===void 0?{}:e;Nh()||yt(!1);let{basename:r,navigator:s}=g.useContext(Sa),{hash:i,pathname:o,search:a}=YP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Oi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Nh(){return g.useContext(zg)!=null}function ro(){return Nh()||yt(!1),g.useContext(zg).location}function QP(t){g.useContext(Sa).static||g.useLayoutEffect(t)}function Fc(){let{isDataRoute:t}=g.useContext(no);return t?FU():CU()}function CU(){Nh()||yt(!1);let t=g.useContext(ub),{basename:e,future:n,navigator:r}=g.useContext(Sa),{matches:s}=g.useContext(no),{pathname:i}=ro(),o=JSON.stringify(HP(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return QP(()=>{a.current=!0}),g.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=KP(u,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Oi([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,i,t])}function db(){let{matches:t}=g.useContext(no),e=t[t.length-1];return e?e.params:{}}function YP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Sa),{matches:s}=g.useContext(no),{pathname:i}=ro(),o=JSON.stringify(HP(s,r.v7_relativeSplatPath));return g.useMemo(()=>KP(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function kU(t,e){return NU(t,e)}function NU(t,e,n,r){Nh()||yt(!1);let{navigator:s}=g.useContext(Sa),{matches:i}=g.useContext(no),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ro(),f;if(e){var h;let y=typeof e=="string"?Vc(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||yt(!1),f=y}else f=u;let p=f.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=rU(t,{pathname:m}),w=DU(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Oi([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Oi([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&w?g.createElement(zg.Provider,{value:{location:Vd({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ii.Pop}},w):w}function RU(){let t=VU(),e=EU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,i)}const PU=g.createElement(RU,null);class AU extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(no.Provider,{value:this.props.routeContext},g.createElement(GP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jU(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(ub);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(no.Provider,{value:e},r)}function DU(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||yt(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:m}=n,b=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,p)=>{let m,b=!1,w=null,y=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||PU,l&&(u<0&&p===0?($U("route-fallback",!1),b=!0,y=null):u===p&&(b=!0,y=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),_=()=>{let E;return m?E=w:b?E=y:h.route.Component?E=g.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,g.createElement(jU,{match:h,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?g.createElement(AU,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var JP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JP||{}),Tm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tm||{});function OU(t){let e=g.useContext(ub);return e||yt(!1),e}function MU(t){let e=g.useContext(SU);return e||yt(!1),e}function LU(t){let e=g.useContext(no);return e||yt(!1),e}function XP(t){let e=LU(),n=e.matches[e.matches.length-1];return n.route.id||yt(!1),n.route.id}function VU(){var t;let e=g.useContext(GP),n=MU(Tm.UseRouteError),r=XP(Tm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FU(){let{router:t}=OU(JP.UseNavigateStable),e=XP(Tm.UseNavigateStable),n=g.useRef(!1);return QP(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Vd({fromRouteId:e},i)))},[t,e])}const RS={};function $U(t,e,n){!e&&!RS[t]&&(RS[t]=!0)}function UU(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Hn(t){yt(!1)}function BU(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ii.Pop,navigator:i,static:o=!1,future:a}=t;Nh()&&yt(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Vd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Vc(r));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:b="default"}=r,w=g.useMemo(()=>{let y=cb(f,l);return y==null?null:{location:{pathname:y,search:h,hash:p,state:m,key:b},navigationType:s}},[l,f,h,p,m,b,s]);return w==null?null:g.createElement(Sa.Provider,{value:u},g.createElement(zg.Provider,{children:n,value:w}))}function zU(t){let{children:e,location:n}=t;return kU(Bw(e),n)}new Promise(()=>{});function Bw(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Bw(r.props.children,i));return}r.type!==Hn&&yt(!1),!r.props.index||!r.props.children||yt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bw(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}function qU(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function HU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KU(t,e){return t.button===0&&(!e||e==="_self")&&!HU(t)}function qw(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function WU(t,e){let n=qw(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const GU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QU="6";try{window.__reactRouterVersion=QU}catch{}const YU="startTransition",PS=Jx[YU];function JU(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=eU({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=g.useCallback(h=>{u&&PS?PS(()=>l(h)):l(h)},[l,u]);return g.useLayoutEffect(()=>o.listen(f),[o,f]),g.useEffect(()=>UU(r),[r]),g.createElement(BU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const XU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:h}=e,p=qU(e,GU),{basename:m}=g.useContext(Sa),b,w=!1;if(typeof u=="string"&&ZU.test(u)&&(b=u,XU))try{let E=new URL(window.location.href),C=u.startsWith("//")?new URL(E.protocol+u):new URL(u),R=cb(C.pathname,m);C.origin===E.origin&&R!=null?u=R+C.search+C.hash:w=!0}catch{}let y=TU(u,{relative:s}),x=e7(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:h});function _(E){r&&r(E),E.defaultPrevented||x(E)}return g.createElement("a",zw({},p,{href:b||y,onClick:w||i?r:_,ref:n,target:l}))});var AS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(AS||(AS={}));var jS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jS||(jS={}));function e7(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Fc(),u=ro(),f=YP(t,{relative:o});return g.useCallback(h=>{if(KU(h,n)){h.preventDefault();let p=r!==void 0?r:Sm(u)===Sm(f);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,f,r,s,n,t,i,o,a])}function t7(t){let e=g.useRef(qw(t)),n=g.useRef(!1),r=ro(),s=g.useMemo(()=>WU(r.search,n.current?null:e.current),[r.search]),i=Fc(),o=g.useCallback((a,l)=>{const u=qw(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}function n7(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const DS={};function Hw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&DS[e[0]]||(typeof e[0]=="string"&&(DS[e[0]]=new Date),n7(...e))}const ZP=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function OS(t,e,n){t.loadNamespaces(e,ZP(t,n))}function MS(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,ZP(t,r))}function r7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=e.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}function s7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Hw("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(s,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):r7(t,e,n)}const i7=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,o7={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},a7=t=>o7[t],l7=t=>t.replace(i7,a7);let Kw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:l7};function c7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Kw={...Kw,...t}}function u7(){return Kw}let eA;function d7(t){eA=t}function h7(){return eA}const f7={type:"3rdParty",init(t){c7(t.options.react),d7(t)}},p7=g.createContext();class m7{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const g7=(t,e)=>{const n=g.useRef();return g.useEffect(()=>{n.current=e?n.current:t},[t,e]),n.current};function Cm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:s}=g.useContext(p7)||{},i=n||r||h7();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new m7),!i){Hw("You will need to pass in an i18next instance by using initReactI18next");const E=(R,O)=>typeof O=="string"?O:O&&typeof O=="object"&&typeof O.defaultValue=="string"?O.defaultValue:Array.isArray(R)?R[R.length-1]:R,C=[E,{},!1];return C.t=E,C.i18n={},C.ready=!1,C}i.options.react&&i.options.react.wait!==void 0&&Hw("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...u7(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=t||s||i.options&&i.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const f=(i.isInitialized||i.initializedStoreOnce)&&u.every(E=>s7(E,i,o));function h(){return i.getFixedT(e.lng||null,o.nsMode==="fallback"?u:u[0],l)}const[p,m]=g.useState(h);let b=u.join();e.lng&&(b=`${e.lng}${b}`);const w=g7(b),y=g.useRef(!0);g.useEffect(()=>{const{bindI18n:E,bindI18nStore:C}=o;y.current=!0,!f&&!a&&(e.lng?MS(i,e.lng,u,()=>{y.current&&m(h)}):OS(i,u,()=>{y.current&&m(h)})),f&&w&&w!==b&&y.current&&m(h);function R(){y.current&&m(h)}return E&&i&&i.on(E,R),C&&i&&i.store.on(C,R),()=>{y.current=!1,E&&i&&E.split(" ").forEach(O=>i.off(O,R)),C&&i&&C.split(" ").forEach(O=>i.store.off(O,R))}},[i,b]);const x=g.useRef(!0);g.useEffect(()=>{y.current&&!x.current&&m(h),x.current=!1},[i,l]);const _=[p,i,f];if(_.t=p,_.i18n=i,_.ready=f,f||!f&&!a)return _;throw new Promise(E=>{e.lng?MS(i,e.lng,u,()=>E()):OS(i,u,()=>E())})}const hb={"favorites.login_required":{ru:",   ",en:"Please login to save favorites",ge:"   "},"nav.home":{ru:"",en:"Home",ge:""},"nav.shop":{ru:"",en:"Shop",ge:""},"nav.about":{ru:" ",en:"About",ge:""},"nav.contact":{ru:"",en:"Contact",ge:""},"nav.promo_code":{ru:"",en:"Promo Code",ge:" "},"nav.enter_promo":{ru:" ",en:"Enter Promo Code",ge:"  "},"nav.faq":{ru:"",en:"FAQ",ge:""},"nav.categories":{ru:"",en:"Categories",ge:""},"nav.cart":{ru:"",en:"Shopping cart",ge:""},"nav.profile":{ru:"",en:"Profile",ge:""},"nav.profile_menu":{ru:" ",en:"Profile menu",ge:" "},"nav.favorites":{ru:"",en:"Favorites",ge:""},"favorites.item":{ru:" ",en:"favorite item",ge:" "},"favorites.items":{ru:" ",en:"favorite items",ge:" "},"home.shop_now":{ru:" ",en:"Shop Now",ge:" "},"home.our_story":{ru:" ",en:"Our Story",ge:""},"home.subtitle":{ru:"   ,        ,   . , ,   ,     ",en:"Wild aesthetics for those who forge their own style - from chains, studs, and freedom. Gothic, punk, handmade - everything that rebels with you",ge:"  ,      - ,   . , ,  - ,    "},"home.popular_products":{ru:"",en:"New Arrivals",ge:" "},"home.view_all":{ru:" ",en:"View All",ge:" "},"footer.shop_link":{ru:"",en:"Shop",ge:""},"footer.company":{ru:"",en:"Company",ge:""},"footer.info":{ru:"",en:"Info",ge:""},"footer.all_products":{ru:" ",en:"All Products",ge:" "},"footer.bracelets":{ru:"",en:"Bracelets",ge:""},"footer.necklaces":{ru:"",en:"Necklaces",ge:""},"footer.rings":{ru:"",en:"Rings",ge:""},"footer.candles":{ru:"",en:"Candles",ge:""},"footer.about_us":{ru:" ",en:"About Us",ge:" "},"footer.contact":{ru:"",en:"Contact",ge:""},"footer.faq":{ru:"",en:"FAQ",ge:"  "},"footer.shipping":{ru:"",en:"Shipping",ge:""},"footer.handmade":{ru:`,   .  ,   .
     .     `,en:`Handmade, not templated. With soul, not instructions.
If you want something flashy  look elsewhere. Here we make things with character`,ge:`,  . ,  .
        .    `},"common.close":{ru:"",en:"Close",ge:""},"delivery.title":{ru:"  ",en:"Delivery Information",ge:" "},"delivery.description":{ru:`   :  5 !

 :  1  5 

        .

   100  -  !`,en:`Delivery throughout Tbilisi: price 5 GEL!

Delivery time: 1 to 5 days

The courier will contact you in advance using the provided phone number.

Free delivery for orders over 100 GEL!`,ge:`  :  5 !

 : 1  5 

       .

100    -  !`},"footer.delivery":{ru:"  5  (  ).",en:"Delivery from 5 lari (home delivery).",ge:" 5  ( )."},"cart.delivery_fee":{ru:"+5   ",en:"+5 lari for delivery",ge:"+5  "},"cart.free_delivery":{ru:" !",en:"Free delivery!",ge:" !"},"cart.promo_info":{ru:"   100   ! -     500  -  10%!",en:"For orders from 100 lari, delivery is free! For orders from 500 lari, 10% discount!",ge:"100   ! 500  - 10% !"},"cart.discount_10":{ru:": 10%",en:"discount: 10%",ge:": 10%"},"cart.discount_5":{ru:": 5%",en:"discount: 5%",ge:": 5%"},"cart.discount_5_review":{ru:": 5%",en:"discount: 5%",ge:": 5%"},"cart.free_delivery_info":{ru:"   100    !",en:"For orders from 100 lari  free delivery!",ge:"100   !"},"product.categories":{ru:"",en:"Categories",ge:""},"products.zero":{ru:"",en:"products",ge:""},"products.one":{ru:"",en:"product",ge:""},"products.few":{ru:"",en:"products",ge:""},"products.many":{ru:"",en:"products",ge:""},"product.add_to_cart":{ru:" ",en:"Add to cart",ge:" "},"product.featured":{ru:" ",en:"Featured Product",ge:" "},"product.out_of_stock":{ru:"  ",en:"Out of Stock",ge:""},"favorites.added":{ru:"  ",en:"Added to Favorites",ge:" "},"favorites.added_description":{ru:"   ",en:"Item has been added to your favorites",ge:"  "},"favorites.remove":{ru:"  ",en:"Remove from favorites",ge:" "},"favorites.empty_title":{ru:"   ",en:"Your favorites list is empty",ge:"   "},"favorites.empty_description":{ru:"   ,    ",en:"Add items to your favorites and they will appear here",ge:"      "},"favorites.browse_shop":{ru:" ",en:"Browse Shop",ge:""},"favorites.removed":{ru:"  ",en:"Removed from Favorites",ge:" "},"favorites.removed_description":{ru:"   ",en:"Item has been removed from your favorites",ge:"  "},"favorites.empty":{ru:"   ",en:"No favorite items yet",ge:"    "},"favorites.title":{ru:"",en:"Favorites",ge:""},"product.in_cart":{ru:"-    ",en:"Someone is viewing this item ",ge:"    "},"product.in_stock":{ru:" ",en:"In stock",ge:""},"product.discounted_products":{ru:"  ",en:"Discounted Products",ge:" "},"product.no_discounted_products":{ru:"   ",en:"No discounted products available",ge:"    "},recently_viewed:{label:{ru:" ",en:"Recently Viewed",ge:" "},you_looked:{ru:"  ",en:"You were looking ",ge:"   "},you_might_like:{ru:",   ?",en:"You might be looking for this?",ge:"  ?"},dont_lose_it:{ru:"  ,  ",en:"Don't lose what you liked",ge:"   "},view_all:{ru:" ",en:"View all",ge:" "},empty_state:{ru:"    !",en:"You have not viewed anything yet!",ge:"   !"},view_shop:{ru:"",en:"View",ge:""}},"favorites.favorite":{ru:"",en:"Favorite",ge:""},"product.back_to_shop":{ru:"  ",en:"Back to shop",ge:" "},"product.details":{ru:"",en:"Details",ge:""},"product.detail_material":{ru:"",en:"Material",ge:""},"product.not_found":{ru:"  ",en:"Product not found",ge:"  "},"product.not_found_message":{ru:",    .",en:"Sorry, the requested product does not exist.",ge:",    ."},"product.return_to_shop":{ru:"  ",en:"Return to shop",ge:" "},"product.no_products_found":{ru:"  .    .",en:"No products found. Try adjusting your filter criteria.",ge:"  .    ."},"product.detail_1":{ru:"    -",en:" Handcrafted from premium materials",ge:"   "},"product.detail_2":{ru:"   ",en:" Unique alternative style",ge:"   "},"product.detail_3":{ru:"   Nekoshop -  ",en:" Signature Nekoshop - PAWCRAFTS design",ge:" Nekoshop -  "},"product.detail_4":{ru:"   ",en:" Built to last",ge:"  "},"product.remaining_stock":{ru:": {count} .",en:"Remaining: {count} pcs",ge:": {count} ."},"filters.availability":{ru:"",en:"Availability",ge:""},"product.no_stock":{ru:"  ",en:"Out of stock",ge:"  "},"product.stock_warning":{ru:"    ,    .         .",en:"You can't order more than available in stock. If more is selected, the quantity will be reduced to available.",ge:"    ,  .   ,   ."},"home.most_popular":{ru:" ",en:"MOST POPULAR",ge:" "},"product.most_viewed":{ru:" ",en:"Most Viewed",ge:" "},"product.discounts":{ru:"  ",en:"Discounted Products",ge:" "},"product.coming_soon_discounted":{ru:"    ",en:"Discounted products coming soon",ge:"   "},"filters.title":{ru:"",en:"Filters",ge:""},"filters.most_popular":{ru:"",en:"Most Popular",ge:""},"filters.discounts":{ru:"",en:"Discounts",ge:""},"filters.price":{ru:"",en:"Price",ge:""},"filters.categories":{ru:"",en:"Categories",ge:""},"filters.materials":{ru:"",en:"Materials",ge:""},"filters.in_stock":{ru:" ",en:"In stock",ge:""},"filters.out_of_stock":{ru:"  ",en:"Out of stock",ge:"  "},"filters.on_sale":{ru:" ",en:"On sale",ge:""},"filters.apply":{ru:"",en:"Apply",ge:""},"common.apply":{ru:"",en:"Apply",ge:""},"promo.have_code":{ru:" ?",en:"Have a code?",ge:" ?"},"promo.want_discount":{ru:" ?",en:"Want a discount?",ge:" ?"},"promo.how_to_get":{ru:"   :",en:"Here's how to get it:",ge:",   :"},"promo.social_codes":{ru:",     !",en:"Promo codes that we post on our social media!",ge:" ,    !"},"promo.over_500":{ru:"   500    10%!",en:"For orders over 500 lari  get 10% off!",ge:"500     10%- !"},"promo.over_200":{ru:"   200    5%!",en:"For orders over 200 lari  get 5% off!",ge:"200     5%- !"},"promo.over_100":{ru:"   100    !",en:"For orders over 100 lari  free delivery!",ge:"100      !"},"promo.facebook":{ru:"Facebook",en:"Facebook",ge:"Facebook"},"promo.instagram":{ru:"Instagram",en:"Instagram",ge:"Instagram"},"promo.discount_info_title":{ru:"  ",en:"Order Discounts",ge:" "},"promo.follow_us_for_discounts":{ru:"   ,      !",en:"Follow us on social media to get exclusive promo codes and discounts!",ge:"  ,      !"},"sort.by_price_low_high":{ru:":  ",en:"Price: Low to High",ge:": "},"sort.by_price_high_low":{ru:":  ",en:"Price: High to Low",ge:": "},"filters.reset":{ru:"",en:"Reset",ge:""},"filters.special_offers":{ru:" ",en:"Special Offers",ge:" "},"filters.reset_all":{ru:"  ",en:"Reset all filters",ge:"  "},"filters.show":{ru:" ",en:"Show filters",ge:" "},"filters.hide":{ru:" ",en:"Hide filters",ge:" "},"category.all":{ru:"",en:"All",ge:""},"category.bracelets":{ru:"",en:"Bracelets",ge:""},"category.rings":{ru:"",en:"Rings",ge:""},"category.earrings":{ru:"",en:"Earrings",ge:""},"category.chokers":{ru:"",en:"Chokers",ge:""},"category.hairpins":{ru:"",en:"Hairpins",ge:""},"category.candles":{ru:"",en:"Candles",ge:""},"category.accessories":{ru:"",en:"Accessories",ge:""},"category.necklaces":{ru:"",en:"Necklaces",ge:""},"category.bracelet":{ru:"",en:"Bracelet",ge:""},"category.keychains":{ru:"",en:"Keychains",ge:" "},"category.ring":{ru:"",en:"Ring",ge:""},"category.earring":{ru:"",en:"Earring",ge:""},"category.choker":{ru:"",en:"Choker",ge:""},"category.hairpin":{ru:"",en:"Hairpin",ge:""},"category.candle":{ru:"",en:"Candle",ge:""},"category.necklace":{ru:"",en:"Necklace",ge:""},"material.metal":{ru:"",en:"Metal",ge:""},"material.silver":{ru:"",en:"Silver",ge:""},"material.gold":{ru:"",en:"Gold",ge:""},"material.leather":{ru:"",en:"Leather",ge:""},"material.fabric":{ru:"",en:"Fabric",ge:""},"material.glass":{ru:"",en:"Glass",ge:""},"material.wood":{ru:"",en:"Wood",ge:""},"material.wax":{ru:"",en:"Wax",ge:""},"toast.added_to_cart":{ru:"  ",en:"Added to cart",ge:" "},"toast.added_to_cart_description":{ru:"     ",en:"Product has been added to your cart",ge:"   "},"toast.stock_limit_reached":{ru:",  ",en:"Hey, don't be greedy",ge:",   "},"toast.stock_limit_message":{ru:"     5.  ?  .",en:"We said  maximum 5. Want more? Wait for restock.",ge:"    5.  ?  ."},"reviews.title_part1":{ru:"",en:"User",ge:""},"reviews.title_part2":{ru:"",en:"Reviews",ge:""},"reviews.leave_review":{ru:" ",en:"Leave a Review",ge:" "},"reviews.rating":{ru:"",en:"Rating",ge:""},"reviews.comment":{ru:"",en:"Comment",ge:""},"reviews.comment_placeholder":{ru:"   ...",en:"Write your comment here...",ge:"   ..."},"reviews.photo_url":{ru:"URL ",en:"Photo URL",ge:" URL"},"reviews.photo_url_placeholder":{ru:" URL  ",en:"Paste the image URL here",ge:"  URL "},"reviews.submit":{ru:" ",en:"Submit Review",ge:" "},"reviews.review":{ru:"",en:"review",ge:""},"reviews.reviews":{ru:"",en:"reviews",ge:""},"reviews.no_reviews":{ru:"  ",en:"No reviews yet",ge:"   "},"reviews.customer_reviews":{ru:" ",en:"Customer Reviews",ge:" "},"reviews.view_all":{ru:" ",en:"View all",ge:" "},"reviews.success":{ru:"!",en:"Success!",ge:"!"},"reviews.thank_you":{ru:"   !",en:"Thank you for your review!",ge:"  !"},"reviews.error":{ru:"",en:"Error",ge:""},"reviews.comment_required":{ru:",  ",en:"Please leave a comment",ge:"  "},"reviews.rating_required":{ru:",  ",en:"Please provide a rating",ge:"  "},"reviews.must_purchase":{ru:"       ",en:"You can only leave a review after purchasing the product",ge:"       "},"reviews.already_reviewed":{ru:"      ",en:"You have already reviewed this product",ge:"     "},"reviews.must_purchase_message":{ru:"    ,    .",en:"Reviews can only be left by customers who have purchased this item.",ge:"    ,    ."},"reviews.verified_only":{ru:"(  )",en:"(verified purchases only)",ge:"(  )"},"reviews.leave_good_review_discount":{ru:"     5%    !",en:"Leave a good review and get 5% off your next order!",ge:"     5%   !"},"reviews.write_review":{ru:" ",en:"Write a Review",ge:" "},"reviews.your_rating":{ru:" ",en:"Your Rating",ge:" "},"reviews.how_was_it":{ru:"  ?",en:"How was it?",ge:" ?"},"reactions.love":{ru:"!",en:"Love it!",ge:"!"},"reactions.funny":{ru:"",en:"Funny",ge:""},"reactions.mind_blown":{ru:"!",en:"Mind blown!",ge:"!"},"reviews.what_did_you_like":{ru:"  ?",en:"What did you like?",ge:" ?"},"reviews.categories.price":{ru:"",en:"Price",ge:""},"reviews.categories.quality":{ru:"",en:"Quality",ge:""},"reviews.categories.design":{ru:"",en:"Design",ge:""},"reviews.categories.delivery":{ru:"",en:"Delivery",ge:""},"reviews.categories.packaging":{ru:"",en:"Packaging",ge:""},"reviews.categories.usability":{ru:"",en:"Usability",ge:""},"reviews.tell_us_more":{ru:" ",en:"Tell us more",ge:" "},"reviews.features_placeholder":{ru:"   ?",en:"What specifically did you like?",ge:" ?"},"reviews.example":{ru:":",en:"Example:",ge:":"},"reviews.example_text":{ru:" ,  ,  ",en:"Great quality, fast delivery, beautiful packaging",ge:" ,  ,  "},"reviews.liked":{ru:"",en:"liked",ge:""},"reviews.reactions.love":{ru:" !",en:"I fell in love!",ge:" !"},"reviews.reactions.funny":{ru:" ,  !",en:"It's weird but cool!",ge:",  !"},"reviews.reactions.mind_blown":{ru:"   !",en:"I'm completely shocked!",ge:"!"},"reviews.success_title":{ru:"  !",en:"Thank you for your review!",ge:"  !"},"reviews.success_message":{ru:"   ",en:"Your review has been published",ge:"  "},"reviews.submit_error":{ru:"    ",en:"An error occurred while submitting your review",ge:"  "},"reviews.filters":{ru:"",en:"Filters",ge:""},"reviews.clear_all":{ru:" ",en:"Clear all",ge:" "},"reviews.comment_help":{ru:"   ",en:"Write your review about this product",ge:"   "},"reviews.max_size":{ru:". {{size}}",en:"max {{size}}",ge:". {{size}}"},"reviews.choose_photo":{ru:" ",en:"Choose photo",ge:" "},"reviews.add_photo":{ru:" ",en:"Add photo",ge:" "},"common.optional":{ru:"",en:"optional",ge:""},"common.clear":{ru:"",en:"Clear",ge:""},"common.required_fields":{ru:" ",en:"Required fields",ge:" "},"reviews.sort_by":{ru:" ",en:"Sort by",ge:""},"reviews.newest":{ru:" ",en:"Newest first",ge:" "},"reviews.highest_rated":{ru:" ",en:"Highest rated",ge:" "},"reviews.with_photos":{ru:" ",en:"With photos",ge:""},"reviews.stars":{ru:"",en:"stars",ge:""},"cart.title":{ru:"",en:"Shopping Cart",ge:""},"cart.item":{ru:"",en:"item",ge:""},"cart.items":{ru:"",en:"items",ge:""},"cart.empty":{ru:"  ",en:"Your cart is empty",ge:"  "},"cart.subtotal":{ru:" ",en:"Subtotal",ge:" "},"cart.shipping":{ru:"",en:"Shipping",ge:""},"cart.free":{ru:"",en:"Free",ge:""},"cart.discount_applied":{ru:"  {{percent}}",en:"{{percent}} discount applied",ge:"{{percent}} "},"cart.total":{ru:"",en:"Total",ge:""},"cart.checkout":{ru:" ",en:"Checkout",ge:" "},"cart.empty_title":{ru:"  ",en:"Your cart is empty",ge:"  "},"cart.empty_description":{ru:"   ,    ",en:"Add items to your cart and they will appear here",ge:"      "},"cart.continue_shopping":{ru:" ",en:"Continue Shopping",ge:""},"cart.remove":{ru:"",en:"Remove",ge:""},"similar.products":{ru:" ",en:"Similar Products",ge:" "},"product.hide_details":{ru:" ",en:"Hide details",ge:" "},"product.details.handmade":{ru:"     ",en:" Handmade from premium materials",ge:"   "},"product.details.style":{ru:"   ",en:" Unique alternative style",ge:"   "},"product.details.made_by":{ru:" Nekoshop -   ",en:" Nekoshop - made with love",ge:" Nekoshop -  "},"product.quality":{ru:"   ",en:" Made to last a lifetime",ge:"  "},"cart.quantity":{ru:"",en:"Quantity",ge:""},"cart.update":{ru:"",en:"Update",ge:""},"auth.sign_in":{ru:"",en:"Sign In",ge:""},"auth.signing_in":{ru:"",en:"Signing in",ge:""},"auth.sign_up":{ru:"",en:"Sign Up",ge:""},"auth.sign_out":{ru:"",en:"Sign Out",ge:""},"auth.email":{ru:" ",en:"Email",ge:"."},"auth.password":{ru:"",en:"Password",ge:""},"auth.name":{ru:"",en:"Name",ge:""},"auth.continue_with":{ru:" ",en:"Continue with",ge:""},"auth.google":{ru:"Google",en:"Google",ge:"Google"},"auth.facebook":{ru:"Facebook",en:"Facebook",ge:"Facebook"},"auth.no_account":{ru:" ?",en:"Don't have an account?",ge:"  ?"},"auth.already_account":{ru:"  ?",en:"Already have an account?",ge:"  ?"},"auth.forgot_password":{ru:" ?",en:"Forgot password?",ge:" ?"},"auth.or":{ru:"",en:"or",ge:""},"auth.profile":{ru:"",en:"Profile",ge:""},"auth.welcome":{ru:" ",en:"Welcome",ge:""},"auth.login_success":{ru:"    ",en:"You have successfully logged in",ge:"   "},"auth.logout_success":{ru:"    ",en:"You have successfully logged out",ge:"   "},"auth.signup_success":{ru:" ",en:"Registration successful",ge:" "},"auth.login_failed":{ru:" .  email  .",en:"Login failed. Please check your email and password.",ge:"  .   .   ."},"checkout.login_with_google":{ru:"  Google",en:"Sign in with Google",ge:" Google-"},"auth.signup_failed":{ru:" ",en:"Registration failed",ge:"  "},"auth.error":{ru:"",en:"Error",ge:""},"auth.goodbye":{ru:" ",en:"Goodbye",ge:""},"reviews.login_required":{ru:"      ",en:"Login required to leave a review",ge:"    "},"about.title":{ru:" ",en:"About",ge:" "},"about.intro":{ru:"NEKO     .  ,          .   .  .  ,    .",en:"NEKO is not just a store. It is a place where every item is born in the caring and talented golden hands. No assembly lines. No banality. Just soul, style, and handmade magic.",ge:"NEKO    .  ,          .    .   .  ,    ."},"about.quote":{ru:"    .    .",en:"We do not follow fashion. We give birth to it ourselves.",ge:"   .    ."},"about.philosophy_title":{ru:" ",en:"Our Philosophy",ge:" "},"about.philosophy_text":{ru:"   NEKO    .    ,     .    ,        ,  .",en:"Every item at NEKO is a challenge to the ordinary. It is a thing with character, emotion, and a story. We create for those who value authenticity and want to stand out not with screams, but with an aura.",ge:"NEKO-    .    ,   .   ,        ,  ."},"about.craftsmanship_title":{ru:" ",en:"Handmade Magic",ge:" "},"about.craftsmanship_text":{ru:",        .        .          , ,     ,     .      .",en:"Everything you find here is handmade. Our masters do not just workthey improvise. Any material that comes into their hands is used: metal, fabric, and even strange things that turn into amazing artifacts. The main thing is that the item should be alive.",ge:",   , .      -  .  ,    , : ,     ,    . ,    ."},"about.join_title":{ru:"  NEKO-",en:"Join the NEKO Movement",ge:" NEKO "},"about.join_text":{ru:"        .    .    .  ,   ,       .",en:"When you buy from us, you are not just taking an item. You are carrying a piece of an idea. You become part of the pack. You become someone who values uniqueness, attention to detail, and the magic of handmade.",ge:"  ,     .    .    .  ,   ,      ."},"about.closing":{ru:"NEKO SHOP    ,          ,     <3",en:"NEKO SHOP is not just a shop, it's my princess's shop for selling her handmade creations with golden paws, I'm proud of you my little witch <3",ge:"NEKO SHOP    ,           ,     witch<3"},"faq.title":{ru:"  ",en:"Frequently Asked Questions",ge:"  "},"faq.subtitle":{ru:"       ",en:"Find answers to the most common questions",ge:"    "},"faq.q1.question":{ru:"   ?",en:"Are these items handmade?",ge:"  ?"},"faq.q1.answer":{ru:"!     !",en:"Yes! We make all our jewelry by hand!",ge:"!     !"},"faq.q2.question":{ru:"   ?",en:"What materials do you use?",ge:"  ?"},"faq.q2.answer":{ru:",     !      ..",en:"Whatever we can get our hands on! From leather to copper and more.",ge:",   !    .."},"faq.q3.question":{ru:"   ?",en:"How long does delivery take?",ge:"   ?"},"faq.q3.answer":{ru:" 1  5     .        -        .",en:"From 1 to 5 days depending on the workload. We will notify you by phone in advance - before the courier goes out to deliver your order.",ge:"1- 5   .     -      ."},"faq.q4.question":{ru:"       ?",en:"Can I sell my handmade items on your website?",ge:"      ?"},"faq.q4.answer":{ru:" ,     !     : Contact Us",en:"Everything is possible, you never know until you try! Contact us in the Contact Us section",ge:" ,  ,   !  : Contact Us"},"faq.q5.question":{ru:"      ?",en:"Why are your items only available in single quantities?",ge:"     ?"},"faq.q5.answer":{ru:"    ,      (-)  !",en:"Because we create everything using imagination and a bit of magic (hehe) and improvisation!",ge:",     ,   ( - )   !"},"faq.needHelp":{ru:" ?    !",en:"Still have questions? We're happy to help!",ge:"  ?  !"},"faq.contactUs":{ru:"  ",en:"Contact Us",ge:""},"contact.title":{ru:"",en:"Contact",ge:""},"contact.us":{ru:" ",en:"Us",ge:""},"contact.get_in_touch":{ru:" !",en:"Let's Talk!",ge:" !"},"contact.questions":{ru:"    ?     ?   ,        !",en:"Interested in collaboration? Or maybe you have questions? Get in touch with us, and we'll help you bring your ideas to life!",ge:"  ?    ?      !"},"contact.collaboration":{ru:"    ,        -         .      ,      .     :",en:"If you are interested in collaboration, partnership, or have a special request - our team will be happy to discuss all the details with you. We are open to collaboration proposals, wholesale orders, and other forms of cooperation. Contact us in any convenient way:",ge:"  ,      -      .     ,      .    :"},"contact.telegram":{ru:":",en:"Telegram:",ge:":"},"contact.telegram_username":{ru:"@not_even_here",en:"@not_even_here",ge:"@not_even_here"},"contact.email_address":{ru:"grge339@gmail.com",en:"grge339@gmail.com",ge:"grge339@gmail.com"},"contact.submit":{ru:" ",en:"Send Message",ge:" "},"contact.social_media":{ru:" ",en:"Social Media",ge:" "},"contact.first_name":{ru:"",en:"First Name",ge:""},"contact.last_name":{ru:"",en:"Last Name",ge:""},"contact.email":{ru:" ",en:"Email Address",ge:"."},"contact.message":{ru:"",en:"Message",ge:""},"contact.first_name_placeholder":{ru:"  ",en:"Enter your first name",ge:"  "},"contact.last_name_placeholder":{ru:"  ",en:"Enter your last name",ge:"  "},"contact.email_placeholder":{ru:"example@email.com",en:"example@email.com",ge:"example@email.com"},"contact.message_placeholder":{ru:"   ?",en:"How can we help you?",ge:"  ?"},"contact.send_message":{ru:" ",en:"Send Message",ge:" "},"contact.message_sent":{ru:" ",en:"Message sent",ge:" "},"contact.message_received":{ru:"      !",en:"We have received your message and will respond soon!",ge:"      !"},"contact.sending":{ru:"...",en:"Sending...",ge:"..."},"contact.error":{ru:"",en:"Error",ge:""},"contact.error_message":{ru:"    . ,    .",en:"There was an error sending your message. Please try again later.",ge:" . ,  ."},"contact.error_name_required":{ru:",   ",en:"Please enter your name",ge:"   "},"contact.error_email_invalid":{ru:",   email ",en:"Please enter a valid email address",ge:"     "},"contact.error_message_required":{ru:",   ",en:"Please enter your message",ge:"   "},"contact.error_configuration":{ru:"    ",en:"Email service configuration error",ge:"    "},"product.details.material":{ru:"",en:"Material",ge:""},"product.details.stainless_steel":{ru:" ",en:"Stainless Steel",ge:" "},"product.details.chain_length":{ru:" ",en:"Chain Length",ge:" "},"product.details.pendant_size":{ru:" ",en:"Pendant Size",ge:" "},"product.details.cm":{ru:"",en:"cm",ge:""},"profile.purchases":{ru:"",en:"Purchases",ge:""},"profile.reviews":{ru:"",en:"Reviews",ge:""},"profile.pending_reviews":{ru:" ",en:"Pending Reviews",ge:" "},"profile.purchase_history":{ru:" ",en:"Purchase History",ge:" "},"profile.recent_purchases":{ru:"  ",en:"Your recent purchases",ge:"  "},"profile.my_reviews":{ru:" ",en:"My Reviews",ge:" "},"profile.reviews_description":{ru:",     ",en:"Reviews you have left for products",ge:",   "},"profile.no_purchases":{ru:"    ",en:"You have no purchases yet",ge:"    "},"profile.no_reviews":{ru:"    ",en:"You haven't left any reviews yet",ge:"    "},"profile.view_product":{ru:" ",en:"View Product",ge:" "},"profile.no_pending_reviews":{ru:" ,  ",en:"No products awaiting review",ge:"    "},language:{ru:"ru",en:"en",ge:"ge"},"profile.address":{ru:"",en:"Address",ge:""},"profile.address_description":{ru:"       ",en:"Enter your address and phone number for delivery",ge:"     "},"profile.city":{ru:"",en:"City",ge:""},"profile.tbilisi":{ru:"",en:"Tbilisi",ge:""},"profile.only_tbilisi":{ru:"      ",en:"We currently deliver only in Tbilisi",ge:"   "},"profile.address_field":{ru:" ",en:"Address",ge:" "},"profile.address_placeholder":{ru:", , ",en:"Street, house, apartment",ge:", , "},"profile.phone":{ru:"",en:"Phone",ge:""},"profile.phone_placeholder":{ru:"  ",en:"Your phone number",ge:"  "},"profile.save":{ru:"",en:"Save",ge:""},"profile.saved":{ru:"!",en:"Saved!",ge:"!"},"profile.edit":{ru:"",en:"Edit",ge:""},"custom_order.title":{ru:"  ",en:"Custom Design Order",ge:"  "},"custom_order.description":{ru:"     ,    ,             .",en:"If you have an example of a product you'd like to create, send us its photo or link through any social network that works best for you.",ge:"   ,   ,        ."},"custom_order.social_links":{ru:"  ",en:"Contact us",ge:""},"custom_order.button":{ru:"  ",en:"Custom Order",ge:" "},"home.search_placeholder":{ru:"  ...",en:"Search products...",ge:" ..."},"shop.search_title":{ru:" - ?",en:"Looking for something? ",ge:"  ?"},"shop.custom_design_title":{ru:"   ?",en:"Want to order your own design?",ge:"   ?"},"shop.custom_design_button":{ru:"  !",en:"THEN CLICK HERE!",ge:"  !"},"footer.shop":{ru:"",en:"Shop",ge:""},"footer.alternative_jewelry":{ru:"   ,       .",en:"Alternative jewelry for those who defy norms and embrace anarchy.",ge:" ,       ."},"reviews.testimonials":{ru:"",en:"Testimonials",ge:""},most_popular:{ru:" ",en:"MOST POPULAR",ge:" "},"profile.fill_address_warning":{ru:",        .",en:"Please fill in your address and phone number in your profile.",ge:"       ."},"profile.important":{ru:"!",en:"IMPORTANT!",ge:"!"},"checkout.title":{ru:" ",en:"Checkout",ge:" "},"checkout.delivery_info":{ru:"  ",en:"Delivery Information",ge:" "},purchase_messages:[" Quest completed: [Purchase successful]."," Unlocked: New equipment item."," Added to inventory. Use wisely."," You found hidden loot. Not everyone gets this far."," The odds were in your favor. Epic drop!"," You chose the path. This item is now part of your story."," Crafted something worthy. Let's test it in battle."," Your build is looking serious now."," You saw potential where others passed by."," Equipment slot filled. Time to take the next step."," Progress saved. No turning back now."," This is not just an item  it's your advantage."," Purchase confirmed. Prestige +1."," Signal received. Artifact en route to your world."," Combat rating increased. You're ready for the next wave."," Item received. Rarity: Unique."," You unlocked a new ally."," You activated an artifact. Now to figure out what it does."," This is not just gear. It's a buff to your style."," Inventory updated. Someone just got stronger."," Stylish. Dangerous. Yours."," NPCs are jealous. You're the main character now."," You pulled an artifact from another reality. Must-have."," +10 to charisma. The rest will follow."," You didn't just choose a product. You chose an upgrade."," Item bound to owner. No returns."," Loot secured. Mission accomplished."," A new chapter begins with this purchase."," You received  buff: Confidence +25%"," Your signal received. Delivery launched from the stratosphere."," The power is in the details. And you've got it all."," You spent coins. Got a legend."," You're no longer the one who watched. You're the one who chose."," Something ominously good in your inventory."," You never miss. And this choice is no exception."," Interdimensional delivery activated. Prepare your slot."," Achievement unlocked: Good taste."," You looked into the black box... and took the best."," You didn't just order. You summoned this."," They'll be asking: where did you get that?"],"checkout.name":{ru:"",en:"Name",ge:""},"checkout.email":{ru:" ",en:"Email",ge:". "},"checkout.phone":{ru:"",en:"Phone",ge:""},"checkout.address":{ru:" ",en:"Delivery Address",ge:" "},"checkout.order_summary":{ru:" ",en:"Order Summary",ge:" "},"checkout.complete_order":{ru:" ",en:"Complete Order",ge:" "},"checkout.processing":{ru:"...",en:"Processing...",ge:"..."},"checkout.empty_cart":{ru:"  ",en:"Your cart is empty",ge:"  "},"checkout.add_items":{ru:"   ,  ",en:"Add items to your cart to continue",ge:" "},"checkout.continue_shopping":{ru:" ",en:"Continue Shopping",ge:" "},"checkout.login_required":{ru:" ",en:"Login Required",ge:" "},"checkout.login_prompt":{ru:", ,    ",en:"Please log in to continue with your order",ge:"    "},"auth.sign_in_with_google":{ru:"  Google",en:"Sign in with Google",ge:" Google-"},"common.back_to_home":{ru:"  ",en:"Back to Home",ge:" "},"profile.go_to_address":{ru:"",en:"Fill in",ge:""},"cart.decrease_quantity":{ru:" ",en:"Decrease quantity",ge:" "},"cart.increase_quantity":{},"cart.discount":{ru:"",en:"Discount",ge:""},"cart.get_discount":{ru:" ",en:"Get discount",ge:" "},"cart.delivery":{ru:":",en:"delivery:",ge:":"},"home.discounts":{ru:"",en:"Discounts",ge:""},"cart.success":{ru:"  !",en:"Order placed successfully!",ge:"  !"},"product.items":{ru:"",en:"pcs",ge:""},"product.our_story":{ru:"",en:"Story",ge:""},"product.no_reviews":{ru:" .  ,   !",en:"No reviews yet. Be the first to review!",ge:"   .  !"},"product.image_not_available":{ru:" ",en:"Image not available",ge:" "}},tA=g.createContext({language:"ru",currentLanguage:"ru",setLanguage:()=>{},t:t=>t,i18n:{language:"ru",changeLanguage:async()=>{}}}),nA="shoppy_language",v7=()=>typeof window<"u"&&localStorage.getItem(nA)||"ru",y7=({children:t})=>{const[e,n]=g.useState(v7),{i18n:r}=Cm();g.useEffect(()=>{typeof window<"u"&&localStorage.setItem(nA,e)},[e]);const s=(i,o)=>{const a=hb[i];if(!a)return i;let l=a[e]||a.ru||i;return o&&Object.entries(o).forEach(([u,f])=>{l=l.replace(`{${u}}`,String(f))}),l};return c.jsx(tA.Provider,{value:{language:e,currentLanguage:e,setLanguage:n,t:s,i18n:{language:e,changeLanguage:async i=>{n(i),await r.changeLanguage(i)}}},children:t})},ze=()=>g.useContext(tA),LS=15*60*1e3,wu="cart_interests",Vy=Math.random().toString(36).substring(2),Nl={addInterest(t){const e=this.getAllInterests(),n=Date.now();this.cleanExpiredInterests(),e[t]={timestamp:n,sessionId:Vy},localStorage.setItem(wu,JSON.stringify(e))},checkInterest(t){const e=this.getAllInterests(),n=e[t];return!n||n.sessionId===Vy?!1:Date.now()-n.timestamp>LS?(delete e[t],localStorage.setItem(wu,JSON.stringify(e)),!1):!0},removeInterest(t){const e=this.getAllInterests(),n=e[t];n&&n.sessionId===Vy&&(delete e[t],localStorage.setItem(wu,JSON.stringify(e)))},getAllInterests(){const t=localStorage.getItem(wu);return t?JSON.parse(t):{}},cleanExpiredInterests(){const t=this.getAllInterests(),e=Date.now();let n=!1;Object.entries(t).forEach(([r,s])=>{e-s.timestamp>LS&&(delete t[r],n=!0)}),n&&localStorage.setItem(wu,JSON.stringify(t))}},rA=g.createContext(void 0),so=()=>{const t=g.useContext(rA);if(t===void 0)throw new Error("useCartContext must be used within a CartProvider");return t},w7=({children:t})=>{const[e,n]=g.useState(()=>{const m=localStorage.getItem("cart");return m?JSON.parse(m):[]}),{toast:r}=Ia(),{t:s}=ze();g.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=m=>{n(b=>{const w=b.find(y=>y.product.id===m.id);return w?w.quantity>=m.stock?b:b.map(y=>y.product.id===m.id?{...y,quantity:y.quantity+1}:y):(Nl.addInterest(m.id),[...b,{product:m,quantity:1}])})},o=m=>{Nl.removeInterest(m),n(e.filter(b=>b.product.id!==m))},a=(m,b)=>{var y;if(b<=0){o(m);return}const w=(y=e.find(x=>x.product.id===m))==null?void 0:y.product;if(w&&b>w.stock){r({title:s("toast.stock_limit_reached"),description:s("toast.stock_limit_message"),duration:3e3}),n(e.map(x=>x.product.id===m?{...x,quantity:w.stock}:x));return}n(e.map(x=>x.product.id===m?{...x,quantity:b}:x))},l=()=>{e.forEach(m=>Nl.removeInterest(m.product.id)),n([]),localStorage.removeItem("cart")},u=()=>e.reduce((m,b)=>m+b.product.price*b.quantity,0),f=()=>{const m=u();return m>=500?{amount:m*.1,percentage:10}:m>=200?{amount:m*.05,percentage:5}:{amount:0,percentage:0}},h=()=>{const m=u(),{amount:b}=f();return Math.max(0,m-b)},p=()=>u()>=100;return c.jsx(rA.Provider,{value:{cart:e,addToCart:i,removeFromCart:o,updateQuantity:a,clearCart:l,calculateTotal:u,calculateDiscount:f,calculateTotalWithDiscount:h,isFreeDelivery:p},children:t})},Uf="favorites",yo={getFavorites(){const t=localStorage.getItem(Uf);return t?JSON.parse(t):[]},addToFavorites(t){const e=this.getFavorites();e.some(n=>n.productId===t)||(e.push({productId:t,dateAdded:new Date().toISOString()}),localStorage.setItem(Uf,JSON.stringify(e)))},removeFromFavorites(t){const n=this.getFavorites().filter(r=>r.productId!==t);localStorage.setItem(Uf,JSON.stringify(n))},isInFavorites(t){return this.getFavorites().some(n=>n.productId===t)},clearFavorites(){localStorage.removeItem(Uf)}},x7=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},b7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,f=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(n[f],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new _7;const p=i<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E7=function(t){const e=sA(t);return iA.encodeByteArray(e,!0)},km=function(t){return E7(t).replace(/\./g,"")},oA=function(t){try{return iA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=()=>aA().__FIREBASE_DEFAULTS__,S7=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oA(t[1]);return e&&JSON.parse(e)},qg=()=>{try{return x7()||I7()||S7()||T7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lA=t=>{var e,n;return(n=(e=qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},C7=t=>{const e=lA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cA=()=>{var t;return(t=qg())===null||t===void 0?void 0:t.config},uA=t=>{var e;return(e=qg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){return t.endsWith(".cloudworkstations.dev")}async function dA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[km(JSON.stringify(n)),km(JSON.stringify(o)),a].join(".")}const ed={};function R7(){const t={prod:[],emulator:[]};for(const e of Object.keys(ed))ed[e]?t.emulator.push(e):t.prod.push(e);return t}function P7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let VS=!1;function hA(t,e){if(typeof window>"u"||typeof document>"u"||!Rh(window.location.host)||ed[t]===e||ed[t]||VS)return;ed[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=R7().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{VS=!0,o()},p}function f(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=P7(r),m=n("text"),b=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),y=document.getElementById(w)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),f(y,w);const C=u();l(_,x),E.append(_,b,y,C),document.body.appendChild(E)}i?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function fA(){var t;const e=(t=qg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function D7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O7(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mA(){return!fA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gA(){return!fA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function fb(){try{return typeof indexedDB=="object"}catch{return!1}}function vA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function M7(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L7,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?V7(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kr(s,a,r)}}function V7(t,e){return t.replace(F7,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const F7=/\{\$([^}]+)}/g;function $7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(FS(i)&&FS(o)){if(!Wi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function FS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Mu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function U7(t,e){const n=new B7(t,e);return n.subscribe.bind(n)}class B7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");z7(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Fy),s.error===void 0&&(s.error=Fy),s.complete===void 0&&(s.complete=Fy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=1e3,H7=2,K7=4*60*60*1e3,W7=.5;function $S(t,e=q7,n=H7){const r=e*Math.pow(n,t),s=Math.round(W7*r*(Math.random()-.5)*2);return Math.min(K7,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y7(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q7(t){return t===Eo?void 0:t}function Y7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const X7={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Z7=Ce.INFO,eB={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},tB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=eB[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Hg=class{constructor(e){this.name=e,this._logLevel=Z7,this._logHandler=tB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};const nB=(t,e)=>e.some(n=>t instanceof n);let US,BS;function rB(){return US||(US=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sB(){return BS||(BS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yA=new WeakMap,Ww=new WeakMap,wA=new WeakMap,$y=new WeakMap,pb=new WeakMap;function iB(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Mi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yA.set(n,t)}).catch(()=>{}),pb.set(e,t),e}function oB(t){if(Ww.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ww.set(t,e)}let Gw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ww.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aB(t){Gw=t(Gw)}function lB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uy(this),e,...n);return wA.set(r,e.sort?e.sort():[e]),Mi(r)}:sB().includes(t)?function(...e){return t.apply(Uy(this),e),Mi(yA.get(this))}:function(...e){return Mi(t.apply(Uy(this),e))}}function cB(t){return typeof t=="function"?lB(t):(t instanceof IDBTransaction&&oB(t),nB(t,rB())?new Proxy(t,Gw):t)}function Mi(t){if(t instanceof IDBRequest)return iB(t);if($y.has(t))return $y.get(t);const e=cB(t);return e!==t&&($y.set(t,e),pb.set(e,t)),e}const Uy=t=>pb.get(t);function xA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mi(o.result),l.oldVersion,l.newVersion,Mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const uB=["get","getKey","getAll","getAllKeys","count"],dB=["put","add","delete","clear"],By=new Map;function zS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(By.get(e))return By.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uB.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return By.set(e,i),i}aB(t=>({...t,get:(e,n,r)=>zS(e,n)||t.get(e,n,r),has:(e,n)=>!!zS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qw="@firebase/app",qS="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Hg("@firebase/app"),pB="@firebase/app-compat",mB="@firebase/analytics-compat",gB="@firebase/analytics",vB="@firebase/app-check-compat",yB="@firebase/app-check",wB="@firebase/auth",xB="@firebase/auth-compat",bB="@firebase/database",_B="@firebase/data-connect",EB="@firebase/database-compat",IB="@firebase/functions",SB="@firebase/functions-compat",TB="@firebase/installations",CB="@firebase/installations-compat",kB="@firebase/messaging",NB="@firebase/messaging-compat",RB="@firebase/performance",PB="@firebase/performance-compat",AB="@firebase/remote-config",jB="@firebase/remote-config-compat",DB="@firebase/storage",OB="@firebase/storage-compat",MB="@firebase/firestore",LB="@firebase/ai",VB="@firebase/firestore-compat",FB="firebase",$B="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="[DEFAULT]",UB={[Qw]:"fire-core",[pB]:"fire-core-compat",[gB]:"fire-analytics",[mB]:"fire-analytics-compat",[yB]:"fire-app-check",[vB]:"fire-app-check-compat",[wB]:"fire-auth",[xB]:"fire-auth-compat",[bB]:"fire-rtdb",[_B]:"fire-data-connect",[EB]:"fire-rtdb-compat",[IB]:"fire-fn",[SB]:"fire-fn-compat",[TB]:"fire-iid",[CB]:"fire-iid-compat",[kB]:"fire-fcm",[NB]:"fire-fcm-compat",[RB]:"fire-perf",[PB]:"fire-perf-compat",[AB]:"fire-rc",[jB]:"fire-rc-compat",[DB]:"fire-gcs",[OB]:"fire-gcs-compat",[MB]:"fire-fst",[VB]:"fire-fst-compat",[LB]:"fire-vertex","fire-js":"fire-js",[FB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Map,BB=new Map,Jw=new Map;function HS(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xr(t){const e=t.name;if(Jw.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;Jw.set(e,t);for(const n of Fd.values())HS(n,t);for(const n of BB.values())HS(n,t);return!0}function Ca(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Ta("app","Firebase",zB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=$B;function bA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yw,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Li.create("bad-app-name",{appName:String(s)});if(n||(n=cA()),!n)throw Li.create("no-options");const i=Fd.get(s);if(i){if(Wi(n,i.options)&&Wi(r,i.config))return i;throw Li.create("duplicate-app",{appName:s})}const o=new J7(s);for(const l of Jw.values())o.addComponent(l);const a=new qB(n,r,o);return Fd.set(s,a),a}function Kg(t=Yw){const e=Fd.get(t);if(!e&&t===Yw&&cA())return bA();if(!e)throw Li.create("no-app",{appName:t});return e}function HB(){return Array.from(Fd.values())}function Xn(t,e,n){var r;let s=(r=UB[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(a.join(" "));return}Xr(new Cr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="firebase-heartbeat-database",WB=1,$d="firebase-heartbeat-store";let zy=null;function _A(){return zy||(zy=xA(KB,WB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($d)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),zy}async function GB(t){try{const n=(await _A()).transaction($d),r=await n.objectStore($d).get(EA(t));return await n.done,r}catch(e){if(e instanceof kr)As.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});As.warn(n.message)}}}async function KS(t,e){try{const r=(await _A()).transaction($d,"readwrite");await r.objectStore($d).put(e,EA(t)),await r.done}catch(n){if(n instanceof kr)As.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});As.warn(r.message)}}}function EA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=1024,YB=30;class JB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>YB){const o=ez(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){As.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WS(),{heartbeatsToSend:r,unsentEntries:s}=XB(this._heartbeatsCache.heartbeats),i=km(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return As.warn(n),""}}}function WS(){return new Date().toISOString().substring(0,10)}function XB(t,e=QB){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),GS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),GS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fb()?vA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return KS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return KS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function GS(t){return km(JSON.stringify({version:2,heartbeats:t})).length}function ez(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t){Xr(new Cr("platform-logger",e=>new hB(e),"PRIVATE")),Xr(new Cr("heartbeat",e=>new JB(e),"PRIVATE")),Xn(Qw,qS,t),Xn(Qw,qS,"esm2017"),Xn("fire-js","")}tz("");var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,IA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function N(){}N.prototype=I.prototype,S.D=I.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(k,D,P){for(var j=Array(arguments.length-2),K=2;K<arguments.length;K++)j[K-2]=arguments[K];return I.prototype[D].apply(k,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,I,N){N||(N=0);var k=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)k[D]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(D=0;16>D;++D)k[D]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=S.g[0],N=S.g[1],D=S.g[2];var P=S.g[3],j=I+(P^N&(D^P))+k[0]+3614090360&4294967295;I=N+(j<<7&4294967295|j>>>25),j=P+(D^I&(N^D))+k[1]+3905402710&4294967295,P=I+(j<<12&4294967295|j>>>20),j=D+(N^P&(I^N))+k[2]+606105819&4294967295,D=P+(j<<17&4294967295|j>>>15),j=N+(I^D&(P^I))+k[3]+3250441966&4294967295,N=D+(j<<22&4294967295|j>>>10),j=I+(P^N&(D^P))+k[4]+4118548399&4294967295,I=N+(j<<7&4294967295|j>>>25),j=P+(D^I&(N^D))+k[5]+1200080426&4294967295,P=I+(j<<12&4294967295|j>>>20),j=D+(N^P&(I^N))+k[6]+2821735955&4294967295,D=P+(j<<17&4294967295|j>>>15),j=N+(I^D&(P^I))+k[7]+4249261313&4294967295,N=D+(j<<22&4294967295|j>>>10),j=I+(P^N&(D^P))+k[8]+1770035416&4294967295,I=N+(j<<7&4294967295|j>>>25),j=P+(D^I&(N^D))+k[9]+2336552879&4294967295,P=I+(j<<12&4294967295|j>>>20),j=D+(N^P&(I^N))+k[10]+4294925233&4294967295,D=P+(j<<17&4294967295|j>>>15),j=N+(I^D&(P^I))+k[11]+2304563134&4294967295,N=D+(j<<22&4294967295|j>>>10),j=I+(P^N&(D^P))+k[12]+1804603682&4294967295,I=N+(j<<7&4294967295|j>>>25),j=P+(D^I&(N^D))+k[13]+4254626195&4294967295,P=I+(j<<12&4294967295|j>>>20),j=D+(N^P&(I^N))+k[14]+2792965006&4294967295,D=P+(j<<17&4294967295|j>>>15),j=N+(I^D&(P^I))+k[15]+1236535329&4294967295,N=D+(j<<22&4294967295|j>>>10),j=I+(D^P&(N^D))+k[1]+4129170786&4294967295,I=N+(j<<5&4294967295|j>>>27),j=P+(N^D&(I^N))+k[6]+3225465664&4294967295,P=I+(j<<9&4294967295|j>>>23),j=D+(I^N&(P^I))+k[11]+643717713&4294967295,D=P+(j<<14&4294967295|j>>>18),j=N+(P^I&(D^P))+k[0]+3921069994&4294967295,N=D+(j<<20&4294967295|j>>>12),j=I+(D^P&(N^D))+k[5]+3593408605&4294967295,I=N+(j<<5&4294967295|j>>>27),j=P+(N^D&(I^N))+k[10]+38016083&4294967295,P=I+(j<<9&4294967295|j>>>23),j=D+(I^N&(P^I))+k[15]+3634488961&4294967295,D=P+(j<<14&4294967295|j>>>18),j=N+(P^I&(D^P))+k[4]+3889429448&4294967295,N=D+(j<<20&4294967295|j>>>12),j=I+(D^P&(N^D))+k[9]+568446438&4294967295,I=N+(j<<5&4294967295|j>>>27),j=P+(N^D&(I^N))+k[14]+3275163606&4294967295,P=I+(j<<9&4294967295|j>>>23),j=D+(I^N&(P^I))+k[3]+4107603335&4294967295,D=P+(j<<14&4294967295|j>>>18),j=N+(P^I&(D^P))+k[8]+1163531501&4294967295,N=D+(j<<20&4294967295|j>>>12),j=I+(D^P&(N^D))+k[13]+2850285829&4294967295,I=N+(j<<5&4294967295|j>>>27),j=P+(N^D&(I^N))+k[2]+4243563512&4294967295,P=I+(j<<9&4294967295|j>>>23),j=D+(I^N&(P^I))+k[7]+1735328473&4294967295,D=P+(j<<14&4294967295|j>>>18),j=N+(P^I&(D^P))+k[12]+2368359562&4294967295,N=D+(j<<20&4294967295|j>>>12),j=I+(N^D^P)+k[5]+4294588738&4294967295,I=N+(j<<4&4294967295|j>>>28),j=P+(I^N^D)+k[8]+2272392833&4294967295,P=I+(j<<11&4294967295|j>>>21),j=D+(P^I^N)+k[11]+1839030562&4294967295,D=P+(j<<16&4294967295|j>>>16),j=N+(D^P^I)+k[14]+4259657740&4294967295,N=D+(j<<23&4294967295|j>>>9),j=I+(N^D^P)+k[1]+2763975236&4294967295,I=N+(j<<4&4294967295|j>>>28),j=P+(I^N^D)+k[4]+1272893353&4294967295,P=I+(j<<11&4294967295|j>>>21),j=D+(P^I^N)+k[7]+4139469664&4294967295,D=P+(j<<16&4294967295|j>>>16),j=N+(D^P^I)+k[10]+3200236656&4294967295,N=D+(j<<23&4294967295|j>>>9),j=I+(N^D^P)+k[13]+681279174&4294967295,I=N+(j<<4&4294967295|j>>>28),j=P+(I^N^D)+k[0]+3936430074&4294967295,P=I+(j<<11&4294967295|j>>>21),j=D+(P^I^N)+k[3]+3572445317&4294967295,D=P+(j<<16&4294967295|j>>>16),j=N+(D^P^I)+k[6]+76029189&4294967295,N=D+(j<<23&4294967295|j>>>9),j=I+(N^D^P)+k[9]+3654602809&4294967295,I=N+(j<<4&4294967295|j>>>28),j=P+(I^N^D)+k[12]+3873151461&4294967295,P=I+(j<<11&4294967295|j>>>21),j=D+(P^I^N)+k[15]+530742520&4294967295,D=P+(j<<16&4294967295|j>>>16),j=N+(D^P^I)+k[2]+3299628645&4294967295,N=D+(j<<23&4294967295|j>>>9),j=I+(D^(N|~P))+k[0]+4096336452&4294967295,I=N+(j<<6&4294967295|j>>>26),j=P+(N^(I|~D))+k[7]+1126891415&4294967295,P=I+(j<<10&4294967295|j>>>22),j=D+(I^(P|~N))+k[14]+2878612391&4294967295,D=P+(j<<15&4294967295|j>>>17),j=N+(P^(D|~I))+k[5]+4237533241&4294967295,N=D+(j<<21&4294967295|j>>>11),j=I+(D^(N|~P))+k[12]+1700485571&4294967295,I=N+(j<<6&4294967295|j>>>26),j=P+(N^(I|~D))+k[3]+2399980690&4294967295,P=I+(j<<10&4294967295|j>>>22),j=D+(I^(P|~N))+k[10]+4293915773&4294967295,D=P+(j<<15&4294967295|j>>>17),j=N+(P^(D|~I))+k[1]+2240044497&4294967295,N=D+(j<<21&4294967295|j>>>11),j=I+(D^(N|~P))+k[8]+1873313359&4294967295,I=N+(j<<6&4294967295|j>>>26),j=P+(N^(I|~D))+k[15]+4264355552&4294967295,P=I+(j<<10&4294967295|j>>>22),j=D+(I^(P|~N))+k[6]+2734768916&4294967295,D=P+(j<<15&4294967295|j>>>17),j=N+(P^(D|~I))+k[13]+1309151649&4294967295,N=D+(j<<21&4294967295|j>>>11),j=I+(D^(N|~P))+k[4]+4149444226&4294967295,I=N+(j<<6&4294967295|j>>>26),j=P+(N^(I|~D))+k[11]+3174756917&4294967295,P=I+(j<<10&4294967295|j>>>22),j=D+(I^(P|~N))+k[2]+718787259&4294967295,D=P+(j<<15&4294967295|j>>>17),j=N+(P^(D|~I))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var N=I-this.blockSize,k=this.B,D=this.h,P=0;P<I;){if(D==0)for(;P<=N;)s(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<I;)if(k[D++]=S.charCodeAt(P++),D==this.blockSize){s(this,k),D=0;break}}else for(;P<I;)if(k[D++]=S[P++],D==this.blockSize){s(this,k),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var N=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=N&255,N/=256;for(this.u(S),S=Array(16),I=N=0;4>I;++I)for(var k=0;32>k;k+=8)S[N++]=this.g[I]>>>k&255;return S};function i(S,I){var N=a;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=I(S)}function o(S,I){this.h=I;for(var N=[],k=!0,D=S.length-1;0<=D;D--){var P=S[D]|0;k&&P==I||(N[D]=P,k=!1)}this.g=N}var a={};function l(S){return-128<=S&&128>S?i(S,function(I){return new o([I|0],0>I?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return y(u(-S));for(var I=[],N=1,k=0;S>=N;k++)I[k]=S/N|0,N*=4294967296;return new o(I,0)}function f(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return y(f(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(I,8)),k=h,D=0;D<S.length;D+=8){var P=Math.min(8,S.length-D),j=parseInt(S.substring(D,D+P),I);8>P?(P=u(Math.pow(I,P)),k=k.j(P).add(u(j))):(k=k.j(N),k=k.add(u(j)))}return k}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-y(this).m();for(var S=0,I=1,N=0;N<this.g.length;N++){var k=this.i(N);S+=(0<=k?k:4294967296+k)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(w(this))return"-"+y(this).toString(S);for(var I=u(Math.pow(S,6)),N=this,k="";;){var D=C(N,I).g;N=x(N,D.j(I));var P=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=D,b(N))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=x(this,S),w(S)?-1:b(S)?0:1};function y(S){for(var I=S.g.length,N=[],k=0;k<I;k++)N[k]=~S.g[k];return new o(N,~S.h).add(p)}t.abs=function(){return w(this)?y(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),N=[],k=0,D=0;D<=I;D++){var P=k+(this.i(D)&65535)+(S.i(D)&65535),j=(P>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);k=j>>>16,P&=65535,j&=65535,N[D]=j<<16|P}return new o(N,N[N.length-1]&-2147483648?-1:0)};function x(S,I){return S.add(y(I))}t.j=function(S){if(b(this)||b(S))return h;if(w(this))return w(S)?y(this).j(y(S)):y(y(this).j(S));if(w(S))return y(this.j(y(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var I=this.g.length+S.g.length,N=[],k=0;k<2*I;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<S.g.length;D++){var P=this.i(k)>>>16,j=this.i(k)&65535,K=S.i(D)>>>16,X=S.i(D)&65535;N[2*k+2*D]+=j*X,_(N,2*k+2*D),N[2*k+2*D+1]+=P*X,_(N,2*k+2*D+1),N[2*k+2*D+1]+=j*K,_(N,2*k+2*D+1),N[2*k+2*D+2]+=P*K,_(N,2*k+2*D+2)}for(k=0;k<I;k++)N[k]=N[2*k+1]<<16|N[2*k];for(k=I;k<2*I;k++)N[k]=0;return new o(N,0)};function _(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function E(S,I){this.g=S,this.h=I}function C(S,I){if(b(I))throw Error("division by zero");if(b(S))return new E(h,h);if(w(S))return I=C(y(S),I),new E(y(I.g),y(I.h));if(w(I))return I=C(S,y(I)),new E(y(I.g),I.h);if(30<S.g.length){if(w(S)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var N=p,k=I;0>=k.l(S);)N=R(N),k=R(k);var D=O(N,1),P=O(k,1);for(k=O(k,2),N=O(N,2);!b(k);){var j=P.add(k);0>=j.l(S)&&(D=D.add(N),P=j),k=O(k,1),N=O(N,1)}return I=x(S,D.j(I)),new E(D,I)}for(D=h;0<=S.l(I);){for(N=Math.max(1,Math.floor(S.m()/I.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=u(N),j=P.j(I);w(j)||0<j.l(S);)N-=k,P=u(N),j=P.j(I);b(P)&&(P=p),D=D.add(P),S=x(S,j)}return new E(D,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),N=[],k=0;k<I;k++)N[k]=this.i(k)&S.i(k);return new o(N,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),N=[],k=0;k<I;k++)N[k]=this.i(k)|S.i(k);return new o(N,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),N=[],k=0;k<I;k++)N[k]=this.i(k)^S.i(k);return new o(N,this.h^S.h)};function R(S){for(var I=S.g.length+1,N=[],k=0;k<I;k++)N[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(N,S.h)}function O(S,I){var N=I>>5;I%=32;for(var k=S.g.length-N,D=[],P=0;P<k;P++)D[P]=0<I?S.i(P+N)>>>I|S.i(P+N+1)<<32-I:S.i(P+N);return new o(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,IA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Vi=o}).apply(typeof QS<"u"?QS:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SA,Lu,TA,xp,Xw,CA,kA,NA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,v){if(v)e:{var T=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var V=d[A];if(!(V in T))break e;T=T[V]}d=d[d.length-1],A=T[d],v=v(A),v!=A&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function i(d,v){d instanceof String&&(d+="");var T=0,A=!1,V={next:function(){if(!A&&T<d.length){var B=T++;return{value:v(B,d[B]),done:!1}}return A=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(d){return d||function(){return i(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function u(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function h(d,v,T){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,A),d.apply(v,V)}}return function(){return d.apply(v,arguments)}}function p(d,v,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,p.apply(null,arguments)}function m(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function b(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(A,V,B){for(var ee=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ee[Be-2]=arguments[Be];return v.prototype[V].apply(A,ee)}}function w(d){const v=d.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=d[A];return T}return[]}function y(d,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(l(A)){const V=d.length||0,B=A.length||0;d.length=V+B;for(let ee=0;ee<B;ee++)d[V+ee]=A[ee]}else d.push(A)}}class x{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function _(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(d,v,T){for(const A in d)v.call(T,d[A],A,d)}function S(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function I(d){const v={};for(const T in d)v[T]=d[T];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,v){let T,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(T in A)d[T]=A[T];for(let B=0;B<N.length;B++)T=N[B],Object.prototype.hasOwnProperty.call(A,T)&&(d[T]=A[T])}}function D(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function P(d){a.setTimeout(()=>{throw d},0)}function j(){var d=F;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,T){const A=X.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new x(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let G,M=!1,F=new K,W=()=>{const d=a.Promise.resolve(void 0);G=()=>{d.then(z)}};var z=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(T){P(T)}var v=X;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}M=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};a.addEventListener("test",T,v),a.removeEventListener("test",T,v)}catch{}return d}();function ie(d,v){if(Z.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(R){e:{try{C(v.nodeName);var V=!0;break e}catch{}V=!1}V||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ie.aa.h.call(this)}}b(ie,Z);var ce={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Oe(d,v,T,A,V){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=V,this.key=++Je,this.da=this.fa=!1}function at(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function pn(d){this.src=d,this.g={},this.h=0}pn.prototype.add=function(d,v,T,A,V){var B=d.toString();d=this.g[B],d||(d=this.g[B]=[],this.h++);var ee=ar(d,v,A,V);return-1<ee?(v=d[ee],T||(v.fa=!1)):(v=new Oe(v,this.src,B,!!A,V),v.fa=T,d.push(v)),v};function St(d,v){var T=v.type;if(T in d.g){var A=d.g[T],V=Array.prototype.indexOf.call(A,v,void 0),B;(B=0<=V)&&Array.prototype.splice.call(A,V,1),B&&(at(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function ar(d,v,T,A){for(var V=0;V<d.length;++V){var B=d[V];if(!B.da&&B.listener==v&&B.capture==!!T&&B.ha==A)return V}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),uo={};function ho(d,v,T,A,V){if(A&&A.once)return jt(d,v,T,A,V);if(Array.isArray(v)){for(var B=0;B<v.length;B++)ho(d,v[B],T,A,V);return null}return T=Bs(T),d&&d[be]?d.K(v,T,u(A)?!!A.capture:!!A,V):Pr(d,v,T,!1,A,V)}function Pr(d,v,T,A,V,B){if(!v)throw Error("Invalid event type");var ee=u(V)?!!V.capture:!!V,Be=Yc(d);if(Be||(d[Rr]=Be=new pn(d)),T=Be.add(v,T,A,ee,B),T.proxy)return T;if(A=Aa(),T.proxy=A,A.src=d,A.listener=T,d.addEventListener)ue||(V=ee),V===void 0&&(V=!1),d.addEventListener(v.toString(),A,V);else if(d.attachEvent)d.attachEvent(zt(v.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Aa(){function d(T){return v.call(d.src,d.listener,T)}const v=Us;return d}function jt(d,v,T,A,V){if(Array.isArray(v)){for(var B=0;B<v.length;B++)jt(d,v[B],T,A,V);return null}return T=Bs(T),d&&d[be]?d.L(v,T,u(A)?!!A.capture:!!A,V):Pr(d,v,T,!0,A,V)}function Zh(d,v,T,A,V){if(Array.isArray(v))for(var B=0;B<v.length;B++)Zh(d,v[B],T,A,V);else A=u(A)?!!A.capture:!!A,T=Bs(T),d&&d[be]?(d=d.i,v=String(v).toString(),v in d.g&&(B=d.g[v],T=ar(B,T,A,V),-1<T&&(at(B[T]),Array.prototype.splice.call(B,T,1),B.length==0&&(delete d.g[v],d.h--)))):d&&(d=Yc(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ar(v,T,A,V)),(T=-1<d?v[d]:null)&&Qc(T))}function Qc(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[be])St(v.i,d);else{var T=d.type,A=d.proxy;v.removeEventListener?v.removeEventListener(T,A,d.capture):v.detachEvent?v.detachEvent(zt(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=Yc(v))?(St(T,d),T.h==0&&(T.src=null,v[Rr]=null)):at(d)}}}function zt(d){return d in uo?uo[d]:uo[d]="on"+d}function Us(d,v){if(d.da)d=!0;else{v=new ie(v,this);var T=d.listener,A=d.ha||d.src;d.fa&&Qc(d),d=T.call(A,v)}return d}function Yc(d){return d=d[Rr],d instanceof pn?d:null}var Jc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(d){return typeof d=="function"?d:(d[Jc]||(d[Jc]=function(v){return d.handleEvent(v)}),d[Jc])}function Tt(){q.call(this),this.i=new pn(this),this.M=this,this.F=null}b(Tt,q),Tt.prototype[be]=!0,Tt.prototype.removeEventListener=function(d,v,T,A){Zh(this,d,v,T,A)};function Ct(d,v){var T,A=d.F;if(A)for(T=[];A;A=A.F)T.push(A);if(d=d.M,A=v.type||v,typeof v=="string")v=new Z(v,d);else if(v instanceof Z)v.target=v.target||d;else{var V=v;v=new Z(A,d),k(v,V)}if(V=!0,T)for(var B=T.length-1;0<=B;B--){var ee=v.g=T[B];V=zs(ee,A,!0,v)&&V}if(ee=v.g=d,V=zs(ee,A,!0,v)&&V,V=zs(ee,A,!1,v)&&V,T)for(B=0;B<T.length;B++)ee=v.g=T[B],V=zs(ee,A,!1,v)&&V}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],A=0;A<T.length;A++)at(T[A]);delete d.g[v],d.h--}}this.F=null},Tt.prototype.K=function(d,v,T,A){return this.i.add(String(d),v,!1,T,A)},Tt.prototype.L=function(d,v,T,A){return this.i.add(String(d),v,!0,T,A)};function zs(d,v,T,A){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var V=!0,B=0;B<v.length;++B){var ee=v[B];if(ee&&!ee.da&&ee.capture==T){var Be=ee.listener,Ot=ee.ha||ee.src;ee.fa&&St(d.i,ee),V=Be.call(Ot,A)!==!1&&V}}return V&&!A.defaultPrevented}function rs(d,v,T){if(typeof d=="function")T&&(d=p(d,T));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(d,v||0)}function Xc(d){d.g=rs(()=>{d.g=null,d.i&&(d.i=!1,Xc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class qs extends q{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(d){q.call(this),this.h=d,this.g={}}b(fo,q);var ef=[];function Zc(d){O(d.g,function(v,T){this.g.hasOwnProperty(T)&&Qc(v)},d),d.g={}}fo.prototype.N=function(){fo.aa.N.call(this),Zc(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ja=a.JSON.stringify,zv=a.JSON.parse,eu=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function qn(){}qn.prototype.h=null;function tf(d){return d.h||(d.h=d.i())}function nf(){}var Hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Da(){Z.call(this,"d")}b(Da,Z);function we(){Z.call(this,"c")}b(we,Z);var qe={},xt=null;function kt(){return xt=xt||new Tt}qe.La="serverreachability";function po(d){Z.call(this,qe.La,d)}b(po,Z);function tt(d){const v=kt();Ct(v,new po(v))}qe.STAT_EVENT="statevent";function nn(d,v){Z.call(this,qe.STAT_EVENT,d),this.stat=v}b(nn,Z);function pt(d){const v=kt();Ct(v,new nn(v,d))}qe.Ma="timingevent";function mn(d,v){Z.call(this,qe.Ma,d),this.size=v}b(mn,Z);function Dt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},v)}function Ks(){this.g=!0}Ks.prototype.xa=function(){this.g=!1};function ss(d,v,T,A,V,B){d.info(function(){if(d.g)if(B)for(var ee="",Be=B.split("&"),Ot=0;Ot<Be.length;Ot++){var je=Be[Ot].split("=");if(1<je.length){var qt=je[0];je=je[1];var Ht=qt.split("_");ee=2<=Ht.length&&Ht[1]=="type"?ee+(qt+"="+je+"&"):ee+(qt+"=redacted&")}}else ee=null;else ee=B;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+v+`
`+T+`
`+ee})}function X_(d,v,T,A,V,B,ee){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+v+`
`+T+`
`+B+" "+ee})}function Oa(d,v,T,A){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+_3(d,T)+(A?" "+A:"")})}function b3(d,v){d.info(function(){return"TIMEOUT: "+v})}Ks.prototype.info=function(){};function _3(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var A=T[d];if(!(2>A.length)){var V=A[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return ja(T)}catch{return v}}var rf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qv;function sf(){}b(sf,qn),sf.prototype.g=function(){return new XMLHttpRequest},sf.prototype.i=function(){return{}},qv=new sf;function Ws(d,v,T,A){this.j=d,this.i=v,this.l=T,this.R=A||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eE}function eE(){this.i=null,this.g="",this.h=!1}var tE={},Hv={};function Kv(d,v,T){d.L=1,d.v=cf(is(v)),d.m=T,d.P=!0,nE(d,null)}function nE(d,v){d.F=Date.now(),of(d),d.A=is(d.v);var T=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),gE(T.i,"t",A),d.C=0,T=d.j.J,d.h=new eE,d.g=DE(d.j,T?v:null,!d.m),0<d.O&&(d.M=new qs(p(d.Y,d,d.g),d.O)),v=d.U,T=d.g,A=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(ef[0]=V.toString()),V=ef);for(var B=0;B<V.length;B++){var ee=ho(T,V[B],A||v.handleEvent,!1,v.h||v);if(!ee)break;v.g[ee.key]=ee}v=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),tt(),ss(d.i,d.u,d.A,d.l,d.R,d.m)}Ws.prototype.ca=function(d){d=d.target;const v=this.M;v&&os(d)==3?v.j():this.Y(d)},Ws.prototype.Y=function(d){try{if(d==this.g)e:{const Ht=os(this.g);var v=this.g.Ba();const Va=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||EE(this.g)))){this.J||Ht!=4||v==7||(v==8||0>=Va?tt(3):tt(2)),Wv(this);var T=this.g.Z();this.X=T;t:if(rE(this)){var A=EE(this.g);d="";var V=A.length,B=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),tu(this);var ee="";break t}this.h.i=new a.TextDecoder}for(v=0;v<V;v++)this.h.h=!0,d+=this.h.i.decode(A[v],{stream:!(B&&v==V-1)});A.length=0,this.h.g+=d,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=T==200,X_(this.i,this.u,this.A,this.l,this.R,Ht,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ot=this.g;if((Be=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Be)){var je=Be;break t}}je=null}if(T=je)Oa(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gv(this,T);else{this.o=!1,this.s=3,pt(12),mo(this),tu(this);break e}}if(this.P){T=!0;let lr;for(;!this.J&&this.C<ee.length;)if(lr=E3(this,ee),lr==Hv){Ht==4&&(this.s=4,pt(14),T=!1),Oa(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==tE){this.s=4,pt(15),Oa(this.i,this.l,ee,"[Invalid Chunk]"),T=!1;break}else Oa(this.i,this.l,lr,null),Gv(this,lr);if(rE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ee.length!=0||this.h.h||(this.s=1,pt(16),T=!1),this.o=this.o&&T,!T)Oa(this.i,this.l,ee,"[Invalid Chunked Response]"),mo(this),tu(this);else if(0<ee.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ey(qt),qt.M=!0,pt(11))}}else Oa(this.i,this.l,ee,null),Gv(this,ee);Ht==4&&mo(this),this.o&&!this.J&&(Ht==4?RE(this.j,this):(this.o=!1,of(this)))}else $3(this.g),T==400&&0<ee.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),mo(this),tu(this)}}}catch{}finally{}};function rE(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function E3(d,v){var T=d.C,A=v.indexOf(`
`,T);return A==-1?Hv:(T=Number(v.substring(T,A)),isNaN(T)?tE:(A+=1,A+T>v.length?Hv:(v=v.slice(A,A+T),d.C=A+T,v)))}Ws.prototype.cancel=function(){this.J=!0,mo(this)};function of(d){d.S=Date.now()+d.I,sE(d,d.I)}function sE(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Dt(p(d.ba,d),v)}function Wv(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ws.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(b3(this.i,this.A),this.L!=2&&(tt(),pt(17)),mo(this),this.s=2,tu(this)):sE(this,this.S-d)};function tu(d){d.j.G==0||d.J||RE(d.j,d)}function mo(d){Wv(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Zc(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Gv(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Qv(T.h,d))){if(!d.K&&Qv(T.h,d)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)mf(T),ff(T);else break e;Zv(T),pt(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=Dt(p(T.Za,T),6e3));if(1>=aE(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else vo(T,11)}else if((d.K||T.g==d)&&mf(T),!_(v))for(V=T.Da.g.parse(v),v=0;v<V.length;v++){let je=V[v];if(T.T=je[0],je=je[1],T.G==2)if(je[0]=="c"){T.K=je[1],T.ia=je[2];const qt=je[3];qt!=null&&(T.la=qt,T.j.info("VER="+T.la));const Ht=je[4];Ht!=null&&(T.Aa=Ht,T.j.info("SVER="+T.Aa));const Va=je[5];Va!=null&&typeof Va=="number"&&0<Va&&(A=1.5*Va,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const lr=d.g;if(lr){const vf=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vf){var B=A.h;B.g||vf.indexOf("spdy")==-1&&vf.indexOf("quic")==-1&&vf.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Yv(B,B.h),B.h=null))}if(A.D){const ty=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;ty&&(A.ya=ty,Ke(A.I,A.D,ty))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ee=d;if(A.qa=jE(A,A.J?A.ia:null,A.W),ee.K){lE(A.h,ee);var Be=ee,Ot=A.L;Ot&&(Be.I=Ot),Be.B&&(Wv(Be),of(Be)),A.g=ee}else kE(A);0<T.i.length&&pf(T)}else je[0]!="stop"&&je[0]!="close"||vo(T,7);else T.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?vo(T,7):Xv(T):je[0]!="noop"&&T.l&&T.l.ta(je),T.v=0)}}tt(4)}catch{}}var I3=class{constructor(d,v){this.g=d,this.map=v}};function iE(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oE(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function aE(d){return d.h?1:d.g?d.g.size:0}function Qv(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Yv(d,v){d.g?d.g.add(v):d.h=v}function lE(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}iE.prototype.cancel=function(){if(this.i=cE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function cE(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return w(d.i)}function S3(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var v=[],T=d.length,A=0;A<T;A++)v.push(d[A]);return v}v=[],T=0;for(A in d)v[T++]=d[A];return v}function T3(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const A in d)v[T++]=A;return v}}}function uE(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=T3(d),A=S3(d),V=A.length,B=0;B<V;B++)v.call(void 0,A[B],T&&T[B],d)}var dE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C3(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var A=d[T].indexOf("="),V=null;if(0<=A){var B=d[T].substring(0,A);V=d[T].substring(A+1)}else B=d[T];v(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function go(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof go){this.h=d.h,af(this,d.j),this.o=d.o,this.g=d.g,lf(this,d.s),this.l=d.l;var v=d.i,T=new su;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),hE(this,T),this.m=d.m}else d&&(v=String(d).match(dE))?(this.h=!1,af(this,v[1]||"",!0),this.o=nu(v[2]||""),this.g=nu(v[3]||"",!0),lf(this,v[4]),this.l=nu(v[5]||"",!0),hE(this,v[6]||"",!0),this.m=nu(v[7]||"")):(this.h=!1,this.i=new su(null,this.h))}go.prototype.toString=function(){var d=[],v=this.j;v&&d.push(ru(v,fE,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ru(v,fE,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(ru(T,T.charAt(0)=="/"?R3:N3,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",ru(T,A3)),d.join("")};function is(d){return new go(d)}function af(d,v,T){d.j=T?nu(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function lf(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function hE(d,v,T){v instanceof su?(d.i=v,j3(d.i,d.h)):(T||(v=ru(v,P3)),d.i=new su(v,d.h))}function Ke(d,v,T){d.i.set(v,T)}function cf(d){return Ke(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function nu(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ru(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,k3),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function k3(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fE=/[#\/\?@]/g,N3=/[#\?:]/g,R3=/[#\?]/g,P3=/[#\?@]/g,A3=/#/g;function su(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Gs(d){d.g||(d.g=new Map,d.h=0,d.i&&C3(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=su.prototype,t.add=function(d,v){Gs(this),this.i=null,d=Ma(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function pE(d,v){Gs(d),v=Ma(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function mE(d,v){return Gs(d),v=Ma(d,v),d.g.has(v)}t.forEach=function(d,v){Gs(this),this.g.forEach(function(T,A){T.forEach(function(V){d.call(v,V,A,this)},this)},this)},t.na=function(){Gs(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const V=d[A];for(let B=0;B<V.length;B++)T.push(v[A])}return T},t.V=function(d){Gs(this);let v=[];if(typeof d=="string")mE(this,d)&&(v=v.concat(this.g.get(Ma(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},t.set=function(d,v){return Gs(this),this.i=null,d=Ma(this,d),mE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function gE(d,v,T){pE(d,v),0<T.length&&(d.i=null,d.g.set(Ma(d,v),w(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const B=encodeURIComponent(String(A)),ee=this.V(A);for(A=0;A<ee.length;A++){var V=B;ee[A]!==""&&(V+="="+encodeURIComponent(String(ee[A]))),d.push(V)}}return this.i=d.join("&")};function Ma(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function j3(d,v){v&&!d.j&&(Gs(d),d.i=null,d.g.forEach(function(T,A){var V=A.toLowerCase();A!=V&&(pE(this,A),gE(this,V,T))},d)),d.j=v}function D3(d,v){const T=new Ks;if(a.Image){const A=new Image;A.onload=m(Qs,T,"TestLoadImage: loaded",!0,v,A),A.onerror=m(Qs,T,"TestLoadImage: error",!1,v,A),A.onabort=m(Qs,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=m(Qs,T,"TestLoadImage: timeout",!1,v,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else v(!1)}function O3(d,v){const T=new Ks,A=new AbortController,V=setTimeout(()=>{A.abort(),Qs(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:A.signal}).then(B=>{clearTimeout(V),B.ok?Qs(T,"TestPingServer: ok",!0,v):Qs(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(V),Qs(T,"TestPingServer: error",!1,v)})}function Qs(d,v,T,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(T)}catch{}}function M3(){this.g=new eu}function L3(d,v,T){const A=T||"";try{uE(d,function(V,B){let ee=V;u(V)&&(ee=ja(V)),v.push(A+B+"="+encodeURIComponent(ee))})}catch(V){throw v.push(A+"type="+encodeURIComponent("_badmap")),V}}function uf(d){this.l=d.Ub||null,this.j=d.eb||!1}b(uf,qn),uf.prototype.g=function(){return new df(this.l,this.j)},uf.prototype.i=function(d){return function(){return d}}({});function df(d,v){Tt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(df,Tt),t=df.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,ou(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,iu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function vE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?iu(this):ou(this),this.readyState==3&&vE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,iu(this))},t.Qa=function(d){this.g&&(this.response=d,iu(this))},t.ga=function(){this.g&&iu(this)};function iu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ou(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function ou(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function yE(d){let v="";return O(d,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function Jv(d,v,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=yE(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Ke(d,v,T))}function lt(d){Tt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(lt,Tt);var V3=/^https?$/i,F3=["POST","PUT"];t=lt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qv.g(),this.v=this.o?tf(this.o):tf(qv),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(B){wE(this,B);return}if(d=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)T.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())T.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(B=>B.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(F3,v,void 0))||A||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of T)this.g.setRequestHeader(B,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_E(this),this.u=!0,this.g.send(d),this.u=!1}catch(B){wE(this,B)}};function wE(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,xE(d),hf(d)}function xE(d){d.A||(d.A=!0,Ct(d,"complete"),Ct(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ct(this,"complete"),Ct(this,"abort"),hf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hf(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bE(this):this.bb())},t.bb=function(){bE(this)};function bE(d){if(d.h&&typeof o<"u"&&(!d.v[1]||os(d)!=4||d.Z()!=2)){if(d.u&&os(d)==4)rs(d.Ea,0,d);else if(Ct(d,"readystatechange"),os(d)==4){d.h=!1;try{const ee=d.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var A;if(A=ee===0){var V=String(d.D).match(dE)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),A=!V3.test(V?V.toLowerCase():"")}T=A}if(T)Ct(d,"complete"),Ct(d,"success");else{d.m=6;try{var B=2<os(d)?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.Z()+"]",xE(d)}}finally{hf(d)}}}}function hf(d,v){if(d.g){_E(d);const T=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ct(d,"ready");try{T.onreadystatechange=A}catch{}}}function _E(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function os(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),zv(v)}};function EE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function $3(d){const v={};d=(d.g&&2<=os(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(_(d[A]))continue;var T=D(d[A]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const B=v[V]||[];v[V]=B,B.push(T)}S(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function au(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function IE(d){this.Aa=0,this.i=[],this.j=new Ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=au("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=au("baseRetryDelayMs",5e3,d),this.cb=au("retryDelaySeedMs",1e4,d),this.Wa=au("forwardChannelMaxRetries",2,d),this.wa=au("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new iE(d&&d.concurrentRequestLimit),this.Da=new M3,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=IE.prototype,t.la=8,t.G=1,t.connect=function(d,v,T,A){pt(0),this.W=d,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=jE(this,null,this.W),pf(this)};function Xv(d){if(SE(d),d.G==3){var v=d.U++,T=is(d.I);if(Ke(T,"SID",d.K),Ke(T,"RID",v),Ke(T,"TYPE","terminate"),lu(d,T),v=new Ws(d,d.j,v),v.L=2,v.v=cf(is(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=v.v,T=!0),T||(v.g=DE(v.j,null),v.g.ea(v.v)),v.F=Date.now(),of(v)}AE(d)}function ff(d){d.g&&(ey(d),d.g.cancel(),d.g=null)}function SE(d){ff(d),d.u&&(a.clearTimeout(d.u),d.u=null),mf(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function pf(d){if(!oE(d.h)&&!d.s){d.s=!0;var v=d.Ga;G||W(),M||(G(),M=!0),F.add(v,d),d.B=0}}function U3(d,v){return aE(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Dt(p(d.Ga,d,v),PE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Ws(this,this.j,d);let B=this.o;if(this.S&&(B?(B=I(B),k(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=CE(this,V,v),T=is(this.I),Ke(T,"RID",d),Ke(T,"CVER",22),this.D&&Ke(T,"X-HTTP-Session-Id",this.D),lu(this,T),B&&(this.O?v="headers="+encodeURIComponent(String(yE(B)))+"&"+v:this.m&&Jv(T,this.m,B)),Yv(this.h,V),this.Ua&&Ke(T,"TYPE","init"),this.P?(Ke(T,"$req",v),Ke(T,"SID","null"),V.T=!0,Kv(V,T,null)):Kv(V,T,v),this.G=2}}else this.G==3&&(d?TE(this,d):this.i.length==0||oE(this.h)||TE(this))};function TE(d,v){var T;v?T=v.l:T=d.U++;const A=is(d.I);Ke(A,"SID",d.K),Ke(A,"RID",T),Ke(A,"AID",d.T),lu(d,A),d.m&&d.o&&Jv(A,d.m,d.o),T=new Ws(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=CE(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Yv(d.h,T),Kv(T,A,v)}function lu(d,v){d.H&&O(d.H,function(T,A){Ke(v,A,T)}),d.l&&uE({},function(T,A){Ke(v,A,T)})}function CE(d,v,T){T=Math.min(d.i.length,T);var A=d.l?p(d.l.Na,d.l,d):null;e:{var V=d.i;let B=-1;for(;;){const ee=["count="+T];B==-1?0<T?(B=V[0].g,ee.push("ofs="+B)):B=0:ee.push("ofs="+B);let Be=!0;for(let Ot=0;Ot<T;Ot++){let je=V[Ot].g;const qt=V[Ot].map;if(je-=B,0>je)B=Math.max(0,V[Ot].g-100),Be=!1;else try{L3(qt,ee,"req"+je+"_")}catch{A&&A(qt)}}if(Be){A=ee.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,A}function kE(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;G||W(),M||(G(),M=!0),F.add(v,d),d.v=0}}function Zv(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Dt(p(d.Fa,d),PE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,NE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Dt(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),ff(this),NE(this))};function ey(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function NE(d){d.g=new Ws(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=is(d.qa);Ke(v,"RID","rpc"),Ke(v,"SID",d.K),Ke(v,"AID",d.T),Ke(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ke(v,"TO",d.ja),Ke(v,"TYPE","xmlhttp"),lu(d,v),d.m&&d.o&&Jv(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=cf(is(v)),T.m=null,T.P=!0,nE(T,d)}t.Za=function(){this.C!=null&&(this.C=null,ff(this),Zv(this),pt(19))};function mf(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function RE(d,v){var T=null;if(d.g==v){mf(d),ey(d),d.g=null;var A=2}else if(Qv(d.h,v))T=v.D,lE(d.h,v),A=1;else return;if(d.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var V=d.B;A=kt(),Ct(A,new mn(A,T)),pf(d)}else kE(d);else if(V=v.s,V==3||V==0&&0<v.X||!(A==1&&U3(d,v)||A==2&&Zv(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),V){case 1:vo(d,5);break;case 4:vo(d,10);break;case 3:vo(d,6);break;default:vo(d,2)}}}function PE(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function vo(d,v){if(d.j.info("Error code "+v),v==2){var T=p(d.fb,d),A=d.Xa;const V=!A;A=new go(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||af(A,"https"),cf(A),V?D3(A.toString(),T):O3(A.toString(),T)}else pt(2);d.G=0,d.l&&d.l.sa(v),AE(d),SE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function AE(d){if(d.G=0,d.ka=[],d.l){const v=cE(d.h);(v.length!=0||d.i.length!=0)&&(y(d.ka,v),y(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function jE(d,v,T){var A=T instanceof go?is(T):new go(T);if(A.g!="")v&&(A.g=v+"."+A.g),lf(A,A.s);else{var V=a.location;A=V.protocol,v=v?v+"."+V.hostname:V.hostname,V=+V.port;var B=new go(null);A&&af(B,A),v&&(B.g=v),V&&lf(B,V),T&&(B.l=T),A=B}return T=d.D,v=d.ya,T&&v&&Ke(A,T,v),Ke(A,"VER",d.la),lu(d,A),A}function DE(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new lt(new uf({eb:T})):new lt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function OE(){}t=OE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gf(){}gf.prototype.g=function(d,v){return new Nn(d,v)};function Nn(d,v){Tt.call(this),this.g=new IE(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!_(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!_(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new La(this)}b(Nn,Tt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){Xv(this.g)},Nn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=ja(d),d=T);v.i.push(new I3(v.Ya++,d)),v.G==3&&pf(v)},Nn.prototype.N=function(){this.g.l=null,delete this.j,Xv(this.g),delete this.g,Nn.aa.N.call(this)};function ME(d){Da.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(ME,Da);function LE(){we.call(this),this.status=1}b(LE,we);function La(d){this.g=d}b(La,OE),La.prototype.ua=function(){Ct(this.g,"a")},La.prototype.ta=function(d){Ct(this.g,new ME(d))},La.prototype.sa=function(d){Ct(this.g,new LE)},La.prototype.ra=function(){Ct(this.g,"b")},gf.prototype.createWebChannel=gf.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,NA=function(){return new gf},kA=function(){return kt()},CA=qe,Xw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rf.NO_ERROR=0,rf.TIMEOUT=8,rf.HTTP_ERROR=6,xp=rf,Z_.COMPLETE="complete",TA=Z_,nf.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Lu=nf,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,SA=lt}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const YS="@firebase/firestore",JS="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Hg("@firebase/firestore");function Za(){return aa.logLevel}function Y(t,...e){if(aa.logLevel<=Ce.DEBUG){const n=e.map(mb);aa.debug(`Firestore (${Uc}): ${t}`,...n)}}function an(t,...e){if(aa.logLevel<=Ce.ERROR){const n=e.map(mb);aa.error(`Firestore (${Uc}): ${t}`,...n)}}function la(t,...e){if(aa.logLevel<=Ce.WARN){const n=e.map(mb);aa.warn(`Firestore (${Uc}): ${t}`,...n)}}function mb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RA(t,r,n)}function RA(t,e,n){let r=`FIRESTORE (${Uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw an(r),new Error(r)}function de(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||RA(e,s,r)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class rz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sz{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Es,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Es)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new PA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new Lt(e)}}class iz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class az{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lz(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Zw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return me(r,s);{const i=AA(),o=cz(i.encode(ZS(t,n)),i.encode(ZS(e,n)));return o!==0?o:me(r,s)}}n+=r>65535?2:1}return me(t.length,e.length)}function ZS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function cz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return me(t[n],e[n]);return me(t.length,e.length)}function ac(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function DA(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=-62135596800,tT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tT);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eT)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tT}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-eT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new it(0,0))}static max(){return new fe(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__name__";class Or{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Or.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Or.isNumericId(e),s=Or.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Or.extractNumericId(e).compare(Or.extractNumericId(n)):Zw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vi.fromString(e.substring(4,e.length-2))}}class Le extends Or{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const uz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Or{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return uz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new rt([nT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Le.fromString(e))}static fromName(e){return new ne(Le.fromString(e).popFirst(5))}static empty(){return new ne(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=-1;class Nm{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function ex(t){return t.fields.find(e=>e.kind===2)}function Io(t){return t.fields.filter(e=>e.kind!==2)}Nm.UNKNOWN_ID=-1;class bp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Bd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Bd(0,$n.min())}}function dz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new $n(s,ne.empty(),e)}function OA(t){return new $n(t.readTime,t.key,Ud)}class $n{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $n(fe.min(),ne.empty(),Ud)}static max(){return new $n(fe.max(),ne.empty(),Ud)}}function gb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==MA)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="SimpleDb";class Wg{static open(e,n,r,s){try{return new Wg(n,e.transaction(s,r))}catch(i){throw new td(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Es,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new td(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=vb(r.target.error);this.S.reject(new td(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Y(Pn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new fz(n)}}class Fi{static delete(e){return Y(Pn,"Removing database:",e),To(aA().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!fb())return!1;if(Fi.F())return!0;const e=Et(),n=Fi.M(e),r=0<n&&n<10,s=VA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,Fi.M(Et())===12.2&&an("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(Y(Pn,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new td(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new te(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new td(e,o))},s.onupgradeneeded=i=>{Y(Pn,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;if(this.L!==null&&this.L!==i.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${i.oldVersion}, event.newVersion=${i.newVersion}, db.version=${o.version}`);this.B.q(o,s.transaction,i.oldVersion,this.version).next(()=>{Y(Pn,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=n=>this.$(n)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=Wg.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(u=>(a.v(),u)).catch(u=>(a.abort(u),$.reject(u))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(Y(Pn,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function VA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class hz{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return To(this.K.delete())}}class td extends te{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function io(t){return t.name==="IndexedDbTransactionError"}class fz{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Y(Pn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(Y(Pn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),To(r)}add(e){return Y(Pn,"ADD",this.store.name,e,e),To(this.store.add(e))}get(e){return To(this.store.get(e)).next(n=>(n===void 0&&(n=null),Y(Pn,"GET",this.store.name,e,n),n))}delete(e){return Y(Pn,"DELETE",this.store.name,e),To(this.store.delete(e))}count(){return Y(Pn,"COUNT",this.store.name),To(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new $((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.Y(i,(a,l)=>{o.push(l)}).next(()=>o)}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}X(e,n){Y(Pn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.ee=!1;const s=this.cursor(r);return this.Y(s,(i,o,a)=>a.delete())}te(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.Y(s,n)}ne(e){const n=this.cursor({});return new $((r,s)=>{n.onerror=i=>{const o=vb(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}Y(e,n){const r=[];return new $((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new hz(a),u=n(a.primaryKey,a.value,l);if(u instanceof $){const f=u.catch(h=>(l.done(),$.reject(h)));r.push(f)}l.isDone?s():l.j===null?a.continue():a.continue(l.j)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function To(t){return new $((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=vb(r.target.error);n(s)}})}let rT=!1;function vb(t){const e=Fi.M(Et());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rT||(rT=!0,setTimeout(()=>{throw r},0)),r}}return t}const nd="IndexBackfiller";class pz{constructor(e,n){this.asyncQueue=e,this.re=n,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){Y(nd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.re.se();Y(nd,`Documents written: ${n}`)}catch(n){io(n)?Y(nd,"Ignoring IndexedDB error during index backfill: ",n):await ka(n)}await this.ie(6e4)})}}class mz{constructor(e,n){this.localStore=e,this.persistence=n}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.oe(n,e))}oe(e,n){const r=new Set;let s=n,i=!0;return $.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Y(nd,`Processing collection: ${o}`),this._e(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}_e(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(s,i)).next(a=>(Y(nd,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ae(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=OA(i);gb(o,r)>0&&(r=o)}),new $n(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yn.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=-1;function Gg(t){return t==null}function zd(t){return t===0&&1/t==-1/0}function gz(t){return typeof t=="number"&&Number.isInteger(t)&&!zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="";function Zt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sT(e)),e=vz(t.get(n),e);return sT(e)}function vz(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Rm:n+="";break;default:n+=i}}return n}function sT(t){return t+Rm+""}function qr(t){const e=t.length;if(de(e>=2,64408,{path:t}),e===2)return de(t.charAt(0)===Rm&&t.charAt(1)==="",56145,{path:t}),Le.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(Rm,i);switch((o<0||o>n)&&le(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:le(61167,{path:t})}i=o+2}return new Le(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="remoteDocuments",Ah="owner",$a="owner",qd="mutationQueues",yz="userId",pr="mutations",iT="batchId",Do="userMutationsIndex",oT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t,e){return[t,Zt(e)]}function FA(t,e,n){return[t,Zt(e),n]}const wz={},lc="documentMutations",Pm="remoteDocumentsV14",xz=["prefixPath","collectionGroup","readTime","documentId"],Ep="documentKeyIndex",bz=["prefixPath","collectionGroup","documentId"],$A="collectionGroupIndex",_z=["collectionGroup","readTime","prefixPath","documentId"],Hd="remoteDocumentGlobal",tx="remoteDocumentGlobalKey",cc="targets",UA="queryTargetsIndex",Ez=["canonicalId","targetId"],uc="targetDocuments",Iz=["targetId","path"],yb="documentTargetsIndex",Sz=["path","targetId"],Am="targetGlobalKey",Yo="targetGlobal",Kd="collectionParents",Tz=["collectionId","parent"],dc="clientMetadata",Cz="clientId",Qg="bundles",kz="bundleId",Yg="namedQueries",Nz="name",wb="indexConfiguration",Rz="indexId",nx="collectionGroupIndex",Pz="collectionGroup",rd="indexState",Az=["indexId","uid"],BA="sequenceNumberIndex",jz=["uid","sequenceNumber"],sd="indexEntries",Dz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zA="documentKeyIndex",Oz=["indexId","uid","orderedDocumentKey"],Jg="documentOverlays",Mz=["userId","collectionPath","documentId"],rx="collectionPathOverlayIndex",Lz=["userId","collectionPath","largestBatchId"],qA="collectionGroupOverlayIndex",Vz=["userId","collectionGroup","largestBatchId"],xb="globals",Fz="name",HA=[qd,pr,lc,So,cc,Ah,Yo,uc,dc,Hd,Kd,Qg,Yg],$z=[...HA,Jg],KA=[qd,pr,lc,Pm,cc,Ah,Yo,uc,dc,Hd,Kd,Qg,Yg,Jg],WA=KA,bb=[...WA,wb,rd,sd],Uz=bb,GA=[...bb,xb],Bz=GA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx extends LA{constructor(e,n){super(),this.he=e,this.currentSequenceNumber=n}}function It(t,e){const n=ye(t);return Fi.N(n.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=s??Vt.EMPTY,this.right=i??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ua(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new $e(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new YA("Invalid base64 string: "+i):i}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const zz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(de(!!t,39018),typeof t=="string"){let e=0;const n=zz.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="server_timestamp",XA="__type__",ZA="__previous_value__",ej="__local_write_time__";function _b(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XA])===null||n===void 0?void 0:n.stringValue)===JA}function Xg(t){const e=t.mapValue.fields[ZA];return _b(e)?Xg(e):e}function Wd(t){const e=js(t.mapValue.fields[ej].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n,r,s,i,o,a,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const jm="(default)";class ca{constructor(e,n){this.projectId=e,this.database=n||jm}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database===jm}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",tj="__max__",Si={mapValue:{fields:{__type__:{stringValue:tj}}}},Ib="__vector__",hc="value",Ip={nullValue:"NULL_VALUE"};function Gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_b(t)?4:nj(t)?9007199254740991:Zg(t)?10:11:le(28295,{value:t})}function Zr(t,e){if(t===e)return!0;const n=Gi(t);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wd(t).isEqual(Wd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=js(s.timestampValue),a=js(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ds(s.bytesValue).isEqual(Ds(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Xe(s.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(s.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Xe(s.integerValue)===Xe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Xe(s.doubleValue),a=Xe(i.doubleValue);return o===a?zd(o)===zd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ac(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(aT(o)!==aT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zr(o[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function Gd(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function Qi(t,e){if(t===e)return 0;const n=Gi(t),r=Gi(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Xe(i.integerValue||i.doubleValue),l=Xe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return cT(t.timestampValue,e.timestampValue);case 4:return cT(Wd(t),Wd(e));case 5:return Zw(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ds(i),l=Ds(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=me(a[u],l[u]);if(f!==0)return f}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(Xe(i.latitude),Xe(o.latitude));return a!==0?a:me(Xe(i.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,f;const h=i.fields||{},p=o.fields||{},m=(a=h[hc])===null||a===void 0?void 0:a.arrayValue,b=(l=p[hc])===null||l===void 0?void 0:l.arrayValue,w=me(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:uT(m,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Si.mapValue&&o===Si.mapValue)return 0;if(i===Si.mapValue)return 1;if(o===Si.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const p=Zw(l[h],f[h]);if(p!==0)return p;const m=Qi(a[l[h]],u[f[h]]);if(m!==0)return m}return me(l.length,f.length)}(t.mapValue,e.mapValue);default:throw le(23264,{Pe:n})}}function cT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=js(t),r=js(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function uT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qi(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function fc(t){return ix(t)}function ix(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ix(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ix(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function Sp(t){switch(Gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xg(t);return e?16+Sp(e):16;case 5:return 2*t.stringValue.length;case 6:return Ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Sp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return oo(r.fields,(i,o)=>{s+=i.length+Sp(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function Qd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ox(t){return!!t&&"integerValue"in t}function Yd(t){return!!t&&"arrayValue"in t}function dT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tp(t){return!!t&&"mapValue"in t}function Zg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Eb])===null||n===void 0?void 0:n.stringValue)===Ib}function id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=id(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=id(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tj}const rj={mapValue:{fields:{[Eb]:{stringValue:Ib},[hc]:{arrayValue:{}}}}};function Hz(t){return"nullValue"in t?Ip:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Qd(ca.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Zg(t)?rj:{mapValue:{}}:le(35942,{value:t})}function Kz(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Qd(ca.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?rj:"mapValue"in t?Zg(t)?{mapValue:{}}:Si:le(61959,{value:t})}function fT(t,e){const n=Qi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pT(t,e){const n=Qi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=id(n)}setAll(e){let n=rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=id(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xt(id(this.value))}}function sj(t){const e=[];return oo(t.fields,(n,r)=>{const s=new rt([n]);if(Tp(r)){const i=sj(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,fe.min(),fe.min(),fe.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,s){return new dt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new dt(e,2,n,fe.min(),fe.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,fe.min(),fe.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.position=e,this.inclusive=n}}function mT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Qi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function gT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{}class ke extends ij{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gz(e,n,r):n==="array-contains"?new Jz(e,r):n==="in"?new dj(e,r):n==="not-in"?new Xz(e,r):n==="array-contains-any"?new Zz(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qz(e,r):new Yz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qi(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends ij{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ve(e,n)}matches(e){return mc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mc(t){return t.op==="and"}function ax(t){return t.op==="or"}function Sb(t){return oj(t)&&mc(t)}function oj(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}function lx(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(Sb(t))return t.filters.map(e=>lx(e)).join(",");{const e=t.filters.map(n=>lx(n)).join(",");return`${t.op}(${e})`}}function aj(t,e){return t instanceof ke?function(r,s){return s instanceof ke&&r.op===s.op&&r.field.isEqual(s.field)&&Zr(r.value,s.value)}(t,e):t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&aj(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function lj(t,e){const n=t.filters.concat(e);return Ve.create(n,t.op)}function cj(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(cj).join(" ,")+"}"}(t):"Filter"}class Gz extends ke{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class Qz extends ke{constructor(e,n){super(e,"in",n),this.keys=uj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Yz extends ke{constructor(e,n){super(e,"not-in",n),this.keys=uj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class Jz extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yd(n)&&Gd(n.arrayValue,this.value)}}class dj extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class Xz extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gd(this.value.arrayValue,n)}}class Zz extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function cx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new eq(t,e,n,r,s,i,o)}function ua(t){const e=ye(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Gg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.Ie=n}return e.Ie}function jh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gT(t.startAt,e.startAt)&&gT(t.endAt,e.endAt)}function Dm(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Om(t,e){return t.filters.filter(n=>n instanceof ke&&n.field.isEqual(e))}function vT(t,e,n){let r=Ip,s=!0;for(const i of Om(t,e)){let o=Ip,a=!0;switch(i.op){case"<":case"<=":o=Hz(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=Ip}fT({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];fT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function yT(t,e,n){let r=Si,s=!0;for(const i of Om(t,e)){let o=Si,a=!0;switch(i.op){case">=":case">":o=Kz(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=Si}pT({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];pT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function tq(t,e,n,r,s,i,o,a){return new Bc(t,e,n,r,s,i,o,a)}function Tb(t){return new Bc(t)}function wT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hj(t){return t.collectionGroup!==null}function od(t){const e=ye(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $e(rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Jd(i,r))}),n.has(rt.keyField().canonicalString())||e.Ee.push(new Jd(rt.keyField(),r))}return e.Ee}function Zn(t){const e=ye(t);return e.de||(e.de=nq(e,od(t))),e.de}function nq(t,e){if(t.limitType==="F")return cx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Jd(s.field,i)});const n=t.endAt?new pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pc(t.startAt.position,t.startAt.inclusive):null;return cx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ux(t,e){const n=t.filters.concat([e]);return new Bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mm(t,e,n){return new Bc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ev(t,e){return jh(Zn(t),Zn(e))&&t.limitType===e.limitType}function fj(t){return`${ua(Zn(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>cj(s)).join(", ")}]`),Gg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fc(s)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function Dh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of od(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=mT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,od(r),s)||r.endAt&&!function(o,a,l){const u=mT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,od(r),s))}(t,e)}function rq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pj(t){return(e,n)=>{let r=!1;for(const s of od(t)){const i=sq(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function sq(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Qi(l,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return QA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=new et(ne.comparator);function On(){return iq}const mj=new et(ne.comparator);function Vu(...t){let e=mj;for(const n of t)e=e.insert(n.key,n);return e}function gj(t){let e=mj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return ad()}function vj(){return ad()}function ad(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const oq=new et(ne.comparator),aq=new $e(ne.comparator);function Ie(...t){let e=aq;for(const n of t)e=e.add(n);return e}const lq=new $e(me);function cq(){return lq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function yj(t){return{integerValue:""+t}}function uq(t,e){return gz(e)?yj(e):Cb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this._=void 0}}function dq(t,e,n){return t instanceof gc?function(s,i){const o={fields:{[XA]:{stringValue:JA},[ej]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_b(i)&&(i=Xg(i)),i&&(o.fields[ZA]=i),{mapValue:o}}(n,e):t instanceof vc?xj(t,e):t instanceof yc?bj(t,e):function(s,i){const o=wj(s,i),a=xT(o)+xT(s.Re);return ox(o)&&ox(s.Re)?yj(a):Cb(s.serializer,a)}(t,e)}function hq(t,e,n){return t instanceof vc?xj(t,e):t instanceof yc?bj(t,e):n}function wj(t,e){return t instanceof Xd?function(r){return ox(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gc extends tv{}class vc extends tv{constructor(e){super(),this.elements=e}}function xj(t,e){const n=_j(e);for(const r of t.elements)n.some(s=>Zr(s,r))||n.push(r);return{arrayValue:{values:n}}}class yc extends tv{constructor(e){super(),this.elements=e}}function bj(t,e){let n=_j(e);for(const r of t.elements)n=n.filter(s=>!Zr(s,r));return{arrayValue:{values:n}}}class Xd extends tv{constructor(e,n){super(),this.serializer=e,this.Re=n}}function xT(t){return Xe(t.integerValue||t.doubleValue)}function _j(t){return Yd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n){this.field=e,this.transform=n}}function fq(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof vc&&s instanceof vc||r instanceof yc&&s instanceof yc?ac(r.elements,s.elements,Zr):r instanceof Xd&&s instanceof Xd?Zr(r.Re,s.Re):r instanceof gc&&s instanceof gc}(t.transform,e.transform)}class pq{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nv{}function Ij(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rv(t.key,ln.none()):new zc(t.key,t.data,ln.none());{const n=t.data,r=Xt.empty();let s=new $e(rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Fs(t.key,r,new bn(s.toArray()),ln.none())}}function mq(t,e,n){t instanceof zc?function(s,i,o){const a=s.value.clone(),l=_T(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fs?function(s,i,o){if(!Cp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=_T(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Sj(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ld(t,e,n,r){return t instanceof zc?function(i,o,a,l){if(!Cp(i.precondition,o))return a;const u=i.value.clone(),f=ET(i.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fs?function(i,o,a,l){if(!Cp(i.precondition,o))return a;const u=ET(i.fieldTransforms,l,o),f=o.data;return f.setAll(Sj(i)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Cp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gq(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wj(r.transform,s||null);i!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,i))}return n||null}function bT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ac(r,s,(i,o)=>fq(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends nv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fs extends nv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _T(t,e,n){const r=new Map;de(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,hq(o,a,n[s]))}return r}function ET(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,dq(i,o,e))}return r}class rv extends nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tj extends nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&mq(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ld(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ld(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Ij(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,(n,r)=>bT(n,r))&&ac(this.baseMutations,e.baseMutations,(n,r)=>bT(n,r))}}class Nb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){de(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return oq}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Nb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Pe;function yq(t){switch(t){case H.OK:return le(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function Cj(t){if(t===void 0)return an("GRPC error has no .code"),H.UNKNOWN;switch(t){case mt.OK:return H.OK;case mt.CANCELLED:return H.CANCELLED;case mt.UNKNOWN:return H.UNKNOWN;case mt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case mt.INTERNAL:return H.INTERNAL;case mt.UNAVAILABLE:return H.UNAVAILABLE;case mt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case mt.NOT_FOUND:return H.NOT_FOUND;case mt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case mt.ABORTED:return H.ABORTED;case mt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case mt.DATA_LOSS:return H.DATA_LOSS;default:return le(39323,{code:t})}}(Pe=mt||(mt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=new Vi([4294967295,4294967295],0);function IT(t){const e=AA().encode(t),n=new IA;return n.update(e),new Uint8Array(n.digest())}function ST(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vi([n,r],0),new Vi([s,i],0)]}class Pb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fu(`Invalid padding: ${n}`);if(r<0)throw new Fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Vi.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Vi.fromNumber(r)));return s.compare(wq)===1&&(s=new Vi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=IT(e),[r,s]=ST(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Pb(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=IT(e),[r,s]=ST(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sv(fe.min(),s,new et(me),On(),Ie())}}class Oh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oh(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class kj{constructor(e,n){this.targetId=e,this.Ce=n}}class Nj{constructor(e,n,r=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class TT{constructor(){this.Fe=0,this.Me=CT(),this.xe=wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ie(),n=Ie(),r=Ie();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}}),new Oh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=CT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,de(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xq{constructor(e){this.ze=e,this.je=new Map,this.He=On(),this.Je=qf(),this.Ye=qf(),this.Ze=new et(me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Dm(i))if(r===0){const o=new ne(i.path);this.tt(n,o,dt.newNoDocument(o,fe.min()))}else de(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ds(r).toUint8Array()}catch(l){if(l instanceof YA)return la("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pb(o,s,i)}catch(l){return la(l instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Dm(a.target)){const l=new ne(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,dt.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ie();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new sv(e,n,this.Ze,this.He,r);return this.He=On(),this.Je=qf(),this.Ye=qf(),this.Ze=new et(me),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new TT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new $e(me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new $e(me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new TT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function qf(){return new et(ne.comparator)}function CT(){return new et(ne.comparator)}const bq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_q=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Eq=(()=>({and:"AND",or:"OR"}))();class Iq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dx(t,e){return t.useProto3Json||Gg(e)?e:{value:e}}function wc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sq(t,e){return wc(t,e.toTimestamp())}function un(t){return de(!!t,49232),fe.fromTimestamp(function(n){const r=js(n);return new it(r.seconds,r.nanos)}(t))}function Ab(t,e){return hx(t,e).canonicalString()}function hx(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Pj(t){const e=Le.fromString(t);return de($j(e),10190,{key:e.toString()}),e}function Lm(t,e){return Ab(t.databaseId,e.path)}function Jo(t,e){const n=Pj(e);if(n.get(1)!==t.databaseId.projectId)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(Dj(n))}function Aj(t,e){return Ab(t.databaseId,e)}function jj(t){const e=Pj(t);return e.length===4?Le.emptyPath():Dj(e)}function fx(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dj(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kT(t,e,n){return{name:Lm(t,e),fields:n.value.mapValue.fields}}function Tq(t,e,n){const r=Jo(t,e.name),s=un(e.updateTime),i=e.createTime?un(e.createTime):fe.min(),o=new Xt({mapValue:{fields:e.fields}}),a=dt.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Cq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,f){return u.useProto3Json?(de(f===void 0||typeof f=="string",58123),wt.fromBase64String(f||"")):(de(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),wt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?H.UNKNOWN:Cj(u.code);return new te(f,u.message||"")}(o);n=new Nj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jo(t,r.document.name),i=un(r.document.updateTime),o=r.document.createTime?un(r.document.createTime):fe.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=dt.newFoundDocument(s,i,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new kp(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jo(t,r.document),i=r.readTime?un(r.readTime):fe.min(),o=dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new kp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jo(t,r.document),i=r.removedTargetIds||[];n=new kp([],i,s,null)}else{if(!("filter"in e))return le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new vq(s,i),a=r.targetId;n=new kj(a,o)}}return n}function Vm(t,e){let n;if(e instanceof zc)n={update:kT(t,e.key,e.value)};else if(e instanceof rv)n={delete:Lm(t,e.key)};else if(e instanceof Fs)n={update:kT(t,e.key,e.data),updateMask:jq(e.fieldMask)};else{if(!(e instanceof Tj))return le(16599,{ft:e.type});n={verify:Lm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof gc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xd)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw le(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Sq(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function px(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?ln.updateTime(un(i.updateTime)):i.exists!==void 0?ln.exists(i.exists):ln.none()}(e.currentDocument):ln.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)de(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new gc;else if("appendMissingElements"in a){const f=a.appendMissingElements.values||[];l=new vc(f)}else if("removeAllFromArray"in a){const f=a.removeAllFromArray.values||[];l=new yc(f)}else"increment"in a?l=new Xd(o,a.increment):le(16584,{proto:a});const u=rt.fromServerFormat(a.fieldPath);return new Ej(u,l)}(t,s)):[];if(e.update){e.update.name;const s=Jo(t,e.update.name),i=new Xt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new bn(u.map(f=>rt.fromServerFormat(f)))}(e.updateMask);return new Fs(s,i,o,n,r)}return new zc(s,i,n,r)}if(e.delete){const s=Jo(t,e.delete);return new rv(s,n)}if(e.verify){const s=Jo(t,e.verify);return new Tj(s,n)}return le(1463,{proto:e})}function kq(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?un(s.updateTime):un(i);return o.isEqual(fe.min())&&(o=un(i)),new pq(o,s.transformResults||[])}(n,e))):[]}function Oj(t,e){return{documents:[Aj(t,e.path)]}}function Mj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Aj(t,s);const i=function(u){if(u.length!==0)return Fj(Ve.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:tl(p.field),direction:Rq(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function Lj(t){let e=jj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){de(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(h){const p=Vj(h);return p instanceof Ve&&Sb(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new Jd(nl(b.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Gg(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new pc(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new pc(m,p)}(n.endAt)),tq(e,s,o,i,a,"F",l,u)}function Nq(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nl(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=nl(n.unaryFilter.field);return ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=nl(n.unaryFilter.field);return ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nl(n.unaryFilter.field);return ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return ke.create(nl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ve.create(n.compositeFilter.filters.map(r=>Vj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function Rq(t){return bq[t]}function Pq(t){return _q[t]}function Aq(t){return Eq[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return rt.fromServerFormat(t.fieldPath)}function Fj(t){return t instanceof ke?function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(dT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(dT(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:Pq(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const r=n.getFilters().map(s=>Fj(s));return r.length===1?r[0]:{compositeFilter:{op:Aq(n.op),filters:r}}}(t):le(54877,{filter:t})}function jq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $j(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.wt=e}}function Dq(t,e){let n;if(e.document)n=Tq(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),s=ha(e.noDocument.readTime);n=dt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return le(56709);{const r=ne.fromSegments(e.unknownDocument.path),s=ha(e.unknownDocument.version);n=dt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new it(s[0],s[1]);return fe.fromTimestamp(i)}(e.readTime)),n}function NT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Lm(i,o.key),fields:o.data.value.mapValue.fields,updateTime:wc(i,o.version.toTimestamp()),createTime:wc(i,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:da(e.version)};else{if(!e.isUnknownDocument())return le(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:da(e.version)}}return r}function Fm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function da(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ha(t){const e=new it(t.seconds,t.nanoseconds);return fe.fromTimestamp(e)}function Co(t,e){const n=(e.baseMutations||[]).map(i=>px(t.wt,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>px(t.wt,i)),s=it.fromMillis(e.localWriteTimeMs);return new kb(e.batchId,s,n,r)}function $u(t){const e=ha(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ha(t.lastLimboFreeSnapshotVersion):fe.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){const o=i.documents.length;return de(o===1,1966,{count:o}),Zn(Tb(jj(i.documents[0])))}(t.query):function(i){return Zn(Lj(i))}(t.query),new vs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,wt.fromBase64String(t.resumeToken))}function Bj(t,e){const n=da(e.snapshotVersion),r=da(e.lastLimboFreeSnapshotVersion);let s;s=Dm(e.target)?Oj(t.wt,e.target):Mj(t.wt,e.target).gt;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ua(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function zj(t){const e=Lj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mm(e,e.limit,"L"):e}function qy(t,e){return new Rb(e.largestBatchId,px(t.wt,e.overlayMutation))}function RT(t,e){const n=e.path.lastSegment();return[t,Zt(e.path.popLast()),n]}function PT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:da(r.readTime),documentKey:Zt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{getBundleMetadata(e,n){return AT(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:ha(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return AT(e).put(function(s){return{bundleId:s.id,createTime:da(un(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return jT(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:zj(i.bundledQuery),readTime:ha(i.readTime)}}(r)})}saveNamedQuery(e,n){return jT(e).put(function(s){return{name:s.name,readTime:da(un(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function AT(t){return It(t,Qg)}function jT(t){return It(t,Yg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.serializer=e,this.userId=n}static St(e,n){const r=n.uid||"";return new iv(e,r)}getOverlay(e,n){return xu(e).get(RT(this.userId,n)).next(r=>r?qy(this.serializer,r):null)}getOverlays(e,n){const r=Hr();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new Rb(n,o);s.push(this.bt(e,a))}),$.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Zt(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(xu(e).X(rx,a))}),$.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Hr(),i=Zt(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return xu(e).J(rx,o).next(a=>{for(const l of a){const u=qy(this.serializer,l);s.set(u.getKey(),u)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=Hr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return xu(e).te({index:qA,range:a},(l,u,f)=>{const h=qy(this.serializer,u);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):f.done()}).next(()=>i)}bt(e,n){return xu(e).put(function(s,i,o){const[a,l,u]=RT(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Vm(s.wt,o.mutation)}}(this.serializer,this.userId,n))}}function xu(t){return It(t,Jg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{Dt(e){return It(e,xb)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?wt.fromUint8Array(r):wt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Dt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),zd(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=js(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Ds(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?nj(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):Zg(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):le(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){const r=e.fields||{};this.Mt(n,55);for(const s of Object.keys(r))this.Nt(s,n),this.Ct(r[s],n)}qt(e,n){var r,s;const i=e.fields||{};this.Mt(n,53);const o=hc,a=((s=(r=i[o].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.Mt(n,15),n.xt(Xe(a)),this.Nt(o,n),this.Ct(i[o],n)}$t(e,n){const r=e.values||[];this.Mt(n,50);for(const s of r)this.Ct(s,n)}kt(e,n){this.Mt(n,37),ne.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}}ko.Wt=new ko;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=255;function Lq(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function DT(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=Lq(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class Vq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.zt(r.value),r=n.next();this.jt()}Ht(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Yt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const s=n.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(e){const n=this.tn(e),r=DT(n);this.nn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}rn(e){const n=this.tn(e),r=DT(n);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}sn(){this._n(Ba),this._n(255)}an(){this.un(Ba),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}zt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===Ba?(this._n(Ba),this._n(0)):this._n(n)}Jt(e){const n=255&e;n===0?(this.un(0),this.un(255)):n===Ba?(this.un(Ba),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Fq{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class $q{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class bu{constructor(){this.ln=new Vq,this.hn=new Fq(this.ln),this.Pn=new $q(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r,s){this.In=e,this.En=n,this.dn=r,this.An=s}Rn(){const e=this.An.length,n=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.An,0),n!==e?r.set([0],this.An.length):++r[r.length-1],new No(this.In,this.En,this.dn,r)}Vn(e,n,r){return{indexId:this.In,uid:e,arrayValue:Np(this.dn),directionalValue:Np(this.An),orderedDocumentKey:Np(n),documentKey:r.path.toArray()}}mn(e,n,r){const s=this.Vn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Zs(t,e){let n=t.In-e.In;return n!==0?n:(n=OT(t.dn,e.dn),n!==0?n:(n=OT(t.An,e.An),n!==0?n:ne.comparator(t.En,e.En)))}function OT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Np(t){return gA()?function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r}(t):t}function MT(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(t)}class LT{constructor(e){this.fn=new $e((n,r)=>rt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const n of e.filters){const r=n;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(de(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const n=ex(e);if(n!==void 0&&!this.Sn(n))return!1;const r=Io(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.Sn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.fn.size>0){const a=this.fn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.bn(a,l)||!this.Dn(this.gn[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.gn.length||!this.Dn(this.gn[o++],a))return!1}return!0}vn(){if(this.yn)return null;let e=new $e(rt.comparator);const n=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new bp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new bp(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new bp(r.field,r.dir==="asc"?0:1)));return new Nm(Nm.UNKNOWN_ID,this.collectionId,n,Bd.empty())}Sn(e){for(const n of this.pn)if(this.bn(n,e))return!0;return!1}bn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Dn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){var e,n;if(de(t instanceof ke||t instanceof Ve,20012),t instanceof ke){if(t instanceof dj){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>ke.create(t.field,"==",i)))||[];return Ve.create(s,"or")}return t}const r=t.filters.map(s=>qj(s));return Ve.create(r,t.op)}function Uq(t){if(t.getFilters().length===0)return[];const e=vx(qj(t));return de(Hj(e),7391),mx(e)||gx(e)?[e]:e.getFilters()}function mx(t){return t instanceof ke}function gx(t){return t instanceof Ve&&Sb(t)}function Hj(t){return mx(t)||gx(t)||function(n){if(n instanceof Ve&&ax(n)){for(const r of n.getFilters())if(!mx(r)&&!gx(r))return!1;return!0}return!1}(t)}function vx(t){if(de(t instanceof ke||t instanceof Ve,34018),t instanceof ke)return t;if(t.filters.length===1)return vx(t.filters[0]);const e=t.filters.map(r=>vx(r));let n=Ve.create(e,t.op);return n=$m(n),Hj(n)?n:(de(n instanceof Ve,64498),de(mc(n),40251),de(n.filters.length>1,57927),n.filters.reduce((r,s)=>jb(r,s)))}function jb(t,e){let n;return de(t instanceof ke||t instanceof Ve,38388),de(e instanceof ke||e instanceof Ve,25473),n=t instanceof ke?e instanceof ke?function(s,i){return Ve.create([s,i],"and")}(t,e):VT(t,e):e instanceof ke?VT(e,t):function(s,i){if(de(s.filters.length>0&&i.filters.length>0,48005),mc(s)&&mc(i))return lj(s,i.getFilters());const o=ax(s)?s:i,a=ax(s)?i:s,l=o.filters.map(u=>jb(u,a));return Ve.create(l,"or")}(t,e),$m(n)}function VT(t,e){if(mc(e))return lj(e,t.getFilters());{const n=e.filters.map(r=>jb(t,r));return Ve.create(n,"or")}}function $m(t){if(de(t instanceof ke||t instanceof Ve,11850),t instanceof ke)return t;const e=t.getFilters();if(e.length===1)return $m(e[0]);if(oj(t))return t;const n=e.map(s=>$m(s)),r=[];return n.forEach(s=>{s instanceof ke?r.push(s):s instanceof Ve&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.Cn=new Db}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve($n.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve($n.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class Db{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new $e(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $e(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="IndexedDbIndexManager",Hf=new Uint8Array(0);class zq{constructor(e,n){this.databaseId=n,this.Fn=new Db,this.Mn=new Vs(r=>ua(r),(r,s)=>jh(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Fn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.Fn.add(n)});const i={collectionId:r,parent:Zt(s)};return $T(e).put(i)}return $.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[DA(n),""],!1,!0);return $T(e).J(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(qr(o.parent))}return r})}addFieldIndex(e,n){const r=_u(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=qa(e);return i.next(a=>{o.put(PT(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=_u(e),s=qa(e),i=za(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=_u(e),r=za(e),s=qa(e);return n.X().next(()=>r.X()).next(()=>s.X())}createTargetIndexes(e,n){return $.forEach(this.xn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new LT(r).vn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=za(e);let s=!0;const i=new Map;return $.forEach(this.xn(n),o=>this.On(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=Ie();const a=[];return $.forEach(i,(l,u)=>{Y(FT,`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${ua(n)}`);const f=function(E,C){const R=ex(C);if(R===void 0)return null;for(const O of Om(E,R.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(u,l),h=function(E,C){const R=new Map;for(const O of Io(C))for(const S of Om(E,O.fieldPath))switch(S.op){case"==":case"in":R.set(O.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return R.set(O.fieldPath.canonicalString(),S.value),Array.from(R.values())}return null}(u,l),p=function(E,C){const R=[];let O=!0;for(const S of Io(C)){const I=S.kind===0?vT(E,S.fieldPath,E.startAt):yT(E,S.fieldPath,E.startAt);R.push(I.value),O&&(O=I.inclusive)}return new pc(R,O)}(u,l),m=function(E,C){const R=[];let O=!0;for(const S of Io(C)){const I=S.kind===0?yT(E,S.fieldPath,E.endAt):vT(E,S.fieldPath,E.endAt);R.push(I.value),O&&(O=I.inclusive)}return new pc(R,O)}(u,l),b=this.Nn(l,u,p),w=this.Nn(l,u,m),y=this.Bn(l,u,h),x=this.Ln(l.indexId,f,b,p.inclusive,w,m.inclusive,y);return $.forEach(x,_=>r.Z(_,n.limit).next(E=>{E.forEach(C=>{const R=ne.fromSegments(C.documentKey);o.has(R)||(o=o.add(R),a.push(R))})}))}).next(()=>a)}return $.resolve(null)})}xn(e){let n=this.Mn.get(e);return n||(e.filters.length===0?n=[e]:n=Uq(Ve.create(e.filters,"and")).map(r=>cx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,n),n)}Ln(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),u=l/(n!=null?n.length:1),f=[];for(let h=0;h<l;++h){const p=n?this.kn(n[h/u]):Hf,m=this.qn(e,p,r[h%u],s),b=this.Qn(e,p,i[h%u],o),w=a.map(y=>this.qn(e,p,y,!0));f.push(...this.createRange(m,b,w))}return f}qn(e,n,r,s){const i=new No(e,ne.empty(),n,r);return s?i:i.Rn()}Qn(e,n,r,s){const i=new No(e,ne.empty(),n,r);return s?i.Rn():i}On(e,n){const r=new LT(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.wn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.xn(n);return $.forEach(s,i=>this.On(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new $e(rt.comparator),f=!1;for(const h of l.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?f=!0:u=u.add(p.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(f?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}$n(e,n){const r=new bu;for(const s of Io(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Tn(s.kind);ko.Wt.vt(i,o)}return r.cn()}kn(e){const n=new bu;return ko.Wt.vt(e,n.Tn(0)),n.cn()}Un(e,n){const r=new bu;return ko.Wt.vt(Qd(this.databaseId,n),r.Tn(function(i){const o=Io(i);return o.length===0?0:o[o.length-1].kind}(e))),r.cn()}Bn(e,n,r){if(r===null)return[];let s=[];s.push(new bu);let i=0;for(const o of Io(e)){const a=r[i++];for(const l of s)if(this.Kn(n,o.fieldPath)&&Yd(a))s=this.Wn(s,o,a);else{const u=l.Tn(o.kind);ko.Wt.vt(a,u)}}return this.Gn(s)}Nn(e,n,r){return this.Bn(e,n,r.position)}Gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].cn();return n}Wn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new bu;l.seed(a.cn()),ko.Wt.vt(o,l.Tn(n.kind)),i.push(l)}return i}Kn(e,n){return!!e.filters.find(r=>r instanceof ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=_u(e),s=qa(e);return(n?r.J(nx,IDBKeyRange.bound(n,n)):r.J()).next(i=>{const o=[];return $.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(f,h){const p=h?new Bd(h.sequenceNumber,new $n(ha(h.readTime),new ne(qr(h.documentKey)),h.largestBatchId)):Bd.empty(),m=f.fields.map(([b,w])=>new bp(rt.fromServerFormat(b),w));return new Nm(f.indexId,f.collectionGroup,m,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:me(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=_u(e),i=qa(e);return this.zn(e).next(o=>s.J(nx,IDBKeyRange.bound(n,n)).next(a=>$.forEach(a,l=>i.put(PT(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return $.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?$.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),$.forEach(a,l=>this.jn(e,s,l).next(u=>{const f=this.Hn(i,l);return u.isEqual(f)?$.resolve():this.Jn(e,i,l,u,f)}))))})}Yn(e,n,r,s){return za(e).put(s.Vn(this.uid,this.Un(r,n.key),n.key))}Zn(e,n,r,s){return za(e).delete(s.mn(this.uid,this.Un(r,n.key),n.key))}jn(e,n,r){const s=za(e);let i=new $e(Zs);return s.te({index:zA,range:IDBKeyRange.only([r.indexId,this.uid,Np(this.Un(r,n))])},(o,a)=>{i=i.add(new No(r.indexId,n,MT(a.arrayValue),MT(a.directionalValue)))}).next(()=>i)}Hn(e,n){let r=new $e(Zs);const s=this.$n(n,e);if(s==null)return r;const i=ex(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Yd(o))for(const a of o.arrayValue.values||[])r=r.add(new No(n.indexId,e.key,this.kn(a),s))}else r=r.add(new No(n.indexId,e.key,Hf,s));return r}Jn(e,n,r,s,i){Y(FT,"Updating index entries for document '%s'",n.key);const o=[];return function(l,u,f,h,p){const m=l.getIterator(),b=u.getIterator();let w=Ua(m),y=Ua(b);for(;w||y;){let x=!1,_=!1;if(w&&y){const E=f(w,y);E<0?_=!0:E>0&&(x=!0)}else w!=null?_=!0:x=!0;x?(h(y),y=Ua(b)):_?(p(w),w=Ua(m)):(w=Ua(m),y=Ua(b))}}(s,i,Zs,a=>{o.push(this.Yn(e,n,r,a))},a=>{o.push(this.Zn(e,n,r,a))}),$.waitFor(o)}zn(e){let n=1;return qa(e).te({index:BA,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Zs(o,a)).filter((o,a,l)=>!a||Zs(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Zs(o,e),l=Zs(o,n);if(a===0)s[0]=e.Rn();else if(a>0&&l<0)s.push(o),s.push(o.Rn());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Xn(s[o],s[o+1]))return[];const a=s[o].mn(this.uid,Hf,ne.empty()),l=s[o+1].mn(this.uid,Hf,ne.empty());i.push(IDBKeyRange.bound(a,l))}return i}Xn(e,n){return Zs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(UT)}getMinOffset(e,n){return $.mapArray(this.xn(n),r=>this.On(e,r).next(s=>s||le(44426))).next(UT)}}function $T(t){return It(t,Kd)}function za(t){return It(t,sd)}function _u(t){return It(t,wb)}function qa(t){return It(t,rd)}function UT(t){de(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;gb(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new $n(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kj=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e,n){const r=t.store(pr),s=t.store(lc),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.te({range:o},(f,h,p)=>(a++,p.delete()));i.push(l.next(()=>{de(a===1,47070,{batchId:n.batchId})}));const u=[];for(const f of n.mutations){const h=FA(e,f.key.path,n.batchId);i.push(s.delete(h)),u.push(f.key)}return $.waitFor(i).next(()=>u)}function Um(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw le(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(Kj,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);class ov{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.er={}}static St(e,n,r,s){de(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new ov(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ei(e).te({index:Do,range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=rl(e),o=ei(e);return o.add({}).next(a=>{de(typeof a=="number",49019);const l=new kb(a,n,r,s),u=function(m,b,w){const y=w.baseMutations.map(_=>Vm(m.wt,_)),x=w.mutations.map(_=>Vm(m.wt,_));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:y,mutations:x}}(this.serializer,this.userId,l),f=[];let h=new $e((p,m)=>me(p.canonicalString(),m.canonicalString()));for(const p of s){const m=FA(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),f.push(o.put(u)),f.push(i.put(m,wz))}return h.forEach(p=>{f.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.er[a]=l.keys()}),$.waitFor(f).next(()=>l)})}lookupMutationBatch(e,n){return ei(e).get(n).next(r=>r?(de(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Co(this.serializer,r)):null)}tr(e,n){return this.er[n]?$.resolve(this.er[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.er[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return ei(e).te({index:Do,range:s},(o,a,l)=>{a.userId===this.userId&&(de(a.batchId>=r,47524,{nr:r}),i=Co(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Qo;return ei(e).te({index:Do,range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Qo],[this.userId,Number.POSITIVE_INFINITY]);return ei(e).J(Do,n).next(r=>r.map(s=>Co(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=_p(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return rl(e).te({range:s},(o,a,l)=>{const[u,f,h]=o,p=qr(f);if(u===this.userId&&n.path.isEqual(p))return ei(e).get(h).next(m=>{if(!m)throw le(61480,{rr:o,batchId:h});de(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),i.push(Co(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(me);const s=[];return n.forEach(i=>{const o=_p(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=rl(e).te({range:a},(u,f,h)=>{const[p,m,b]=u,w=qr(m);p===this.userId&&i.path.isEqual(w)?r=r.add(b):h.done()});s.push(l)}),$.waitFor(s).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=_p(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new $e(me);return rl(e).te({range:o},(l,u,f)=>{const[h,p,m]=l,b=qr(p);h===this.userId&&r.isPrefixOf(b)?b.length===s&&(a=a.add(m)):f.done()}).next(()=>this.ir(e,a))}ir(e,n){const r=[],s=[];return n.forEach(i=>{s.push(ei(e).get(i).next(o=>{if(o===null)throw le(35274,{batchId:i});de(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(Co(this.serializer,o))}))}),$.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return Wj(e.he,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.sr(n.batchId)}),$.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return $.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return rl(e).te({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=qr(i[1]);s.push(l)}else a.done()}).next(()=>{de(s.length===0,56720,{_r:s.map(i=>i.canonicalString())})})})}containsKey(e,n){return Gj(e,this.userId,n)}ar(e){return Qj(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Qo,lastStreamToken:""})}}function Gj(t,e,n){const r=_p(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return rl(t).te({range:i,ee:!0},(a,l,u)=>{const[f,h,p]=a;f===e&&h===s&&(o=!0),u.done()}).next(()=>o)}function ei(t){return It(t,pr)}function rl(t){return It(t,lc)}function Qj(t){return It(t,qd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fa(0)}static lr(){return new fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.hr(e).next(n=>{const r=new fa(n.highestTargetId);return n.highestTargetId=r.next(),this.Pr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(n=>fe.fromTimestamp(new it(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.hr(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.Pr(e,s)))}addTargetData(e,n){return this.Tr(e,n).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(n,r),this.Pr(e,r))))}updateTargetData(e,n){return this.Tr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ha(e).delete(n.targetId)).next(()=>this.hr(e)).next(r=>(de(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return Ha(e).te((o,a)=>{const l=$u(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>$.waitFor(i)).next(()=>s)}forEachTarget(e,n){return Ha(e).te((r,s)=>{const i=$u(s);n(i)})}hr(e){return zT(e).get(Am).next(n=>(de(n!==null,2888),n))}Pr(e,n){return zT(e).put(Am,n)}Tr(e,n){return Ha(e).put(Bj(this.serializer,n))}Ir(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ua(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Ha(e).te({range:s,index:UA},(o,a,l)=>{const u=$u(a);jh(n,u.target)&&(i=u,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=ui(e);return n.forEach(o=>{const a=Zt(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),$.waitFor(s)}removeMatchingKeys(e,n,r){const s=ui(e);return $.forEach(n,i=>{const o=Zt(i.path);return $.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=ui(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=ui(e);let i=Ie();return s.te({range:r,ee:!0},(o,a,l)=>{const u=qr(o[1]),f=new ne(u);i=i.add(f)}).next(()=>i)}containsKey(e,n){const r=Zt(n.path),s=IDBKeyRange.bound([r],[DA(r)],!1,!0);let i=0;return ui(e).te({index:yb,ee:!0,range:s},([o,a],l,u)=>{o!==0&&(i++,u.done())}).next(()=>i>0)}Rt(e,n){return Ha(e).get(n).next(r=>r?$u(r):null)}}function Ha(t){return It(t,cc)}function zT(t){return It(t,Yo)}function ui(t){return It(t,uc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="LruGarbageCollector",Hq=1048576;function HT([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class Kq{constructor(e){this.Er=e,this.buffer=new $e(HT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();HT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Yj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Y(qT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?Y(qT,"Ignoring IndexedDB error during garbage collection: ",n):await ka(n)}await this.mr(3e5)})}}class Wq{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Yn.le);const r=new Kq(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(BT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Za()<=Ce.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function Jj(t,e){return new Wq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,n){this.db=e,this.garbageCollector=Jj(this,n)}pr(e){const n=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}yr(e,n){return this.br(e,(r,s)=>n(s))}addReference(e,n,r){return Kf(e,r)}removeReference(e,n,r){return Kf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Kf(e,n)}Dr(e,n){return function(s,i){let o=!1;return Qj(s).ne(a=>Gj(s,a,i).next(l=>(l&&(o=!0),$.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.br(e,(o,a)=>{if(a<=n){const l=this.Dr(e,o).next(u=>{if(!u)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,fe.min()),ui(e).delete(function(h){return[0,Zt(h.path)]}(o))))});s.push(l)}}).next(()=>$.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Kf(e,n)}br(e,n){const r=ui(e);let s,i=Yn.le;return r.te({index:yb},([o,a],{path:l,sequenceNumber:u})=>{o===0?(i!==Yn.le&&n(new ne(qr(s)),i),i=u,s=l):i=Yn.le}).next(()=>{i!==Yn.le&&n(new ne(qr(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Kf(t,e){return ui(t).put(function(r,s){return{targetId:0,path:Zt(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return wo(e).put(r)}removeEntry(e,n,r){return wo(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Fm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.vr(e,r)))}getEntry(e,n){let r=dt.newInvalidDocument(n);return wo(e).te({index:Ep,range:IDBKeyRange.only(Eu(n))},(s,i)=>{r=this.Cr(n,i)}).next(()=>r)}Fr(e,n){let r={size:0,document:dt.newInvalidDocument(n)};return wo(e).te({index:Ep,range:IDBKeyRange.only(Eu(n))},(s,i)=>{r={document:this.Cr(n,i),size:Um(i)}}).next(()=>r)}getEntries(e,n){let r=On();return this.Mr(e,n,(s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)}).next(()=>r)}Or(e,n){let r=On(),s=new et(ne.comparator);return this.Mr(e,n,(i,o)=>{const a=this.Cr(i,o);r=r.insert(i,a),s=s.insert(i,Um(o))}).next(()=>({documents:r,Nr:s}))}Mr(e,n,r){if(n.isEmpty())return $.resolve();let s=new $e(GT);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(Eu(s.first()),Eu(s.last())),o=s.getIterator();let a=o.getNext();return wo(e).te({index:Ep,range:i},(l,u,f)=>{const h=ne.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&GT(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?f.H(Eu(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Fm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wo(e).J(IDBKeyRange.bound(a,l,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let f=On();for(const h of u){const p=this.Cr(ne.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(Dh(n,p)||s.has(p.key))&&(f=f.insert(p.key,p))}return f})}getAllFromCollectionGroup(e,n,r,s){let i=On();const o=WT(n,r),a=WT(n,$n.max());return wo(e).te({index:$A,range:IDBKeyRange.bound(o,a,!0)},(l,u,f)=>{const h=this.Cr(ne.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(h.key,h),i.size===s&&f.done()}).next(()=>i)}newChangeBuffer(e){return new Yq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return KT(e).get(tx).next(n=>(de(!!n,20021),n))}vr(e,n){return KT(e).put(tx,n)}Cr(e,n){if(n){const r=Dq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(fe.min())))return r}return dt.newInvalidDocument(e)}}function Zj(t){return new Qq(t)}class Yq extends Xj{constructor(e,n){super(),this.Br=e,this.trackRemovals=n,this.Lr=new Vs(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new $e((i,o)=>me(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Lr.get(i);if(n.push(this.Br.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=NT(this.Br.serializer,o);s=s.add(i.path.popLast());const u=Um(l);r+=u-a.size,n.push(this.Br.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=NT(this.Br.serializer,o.convertToNoDocument(fe.min()));n.push(this.Br.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.Br.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Br.updateMetadata(e,r)),$.waitFor(n)}getFromCache(e,n){return this.Br.Fr(e,n).next(r=>(this.Lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Br.Or(e,n).next(({documents:r,Nr:s})=>(s.forEach((i,o)=>{this.Lr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function KT(t){return It(t,Hd)}function wo(t){return It(t,Pm)}function Eu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WT(t,e){const n=e.documentKey.path.toArray();return[t,Fm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function GT(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=me(n[i],r[i]),s)return s;return s=me(n.length,r.length),s||(s=me(n[n.length-2],r[r.length-2]),s||me(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ld(r.mutation,s,bn.empty(),it.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Hr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Vu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=On();const o=ad(),a=function(){return ad()}();return n.forEach((l,u)=>{const f=r.get(u.key);s.has(u.key)&&(f===void 0||f.mutation instanceof Fs)?i=i.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),ld(f.mutation,u,f.mutation.getFieldMask(),it.now())):o.set(u.key,bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new Jq(f,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ad();let s=new et((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||bn.empty();f=a.applyToLocalView(u,f),r.set(l,f);const h=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,h=vj();f.forEach(p=>{if(!i.has(p)){const m=Ij(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Hr());let a=Ud,l=i;return o.next(u=>$.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(f)?$.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ie())).next(f=>({batchId:a,changes:gj(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=Vu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Vu();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const u=function(h,p){return new Bc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,dt.newInvalidDocument(f)))});let a=Vu();return o.forEach((l,u)=>{const f=i.get(l);f!==void 0&&ld(f.mutation,u,bn.empty(),it.now()),Dh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:un(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:zj(s.bundledQuery),readTime:un(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.overlays=new et(ne.comparator),this.Qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hr();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Hr(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=i.get(u.largestBatchId);f===null&&(f=Hr(),i=i.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=Hr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=s)););return $.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Rb(n,r));let i=this.Qr.get(n);i===void 0&&(i=Ie(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.$r=new $e(Nt.Ur),this.Kr=new $e(Nt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Nt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ne(new Le([])),r=new Nt(n,e),s=new Nt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ne(new Le([])),r=new Nt(n,e),s=new Nt(n,e+1);let i=Ie();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Nt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ne.comparator(e.key,n.key)||me(e.Zr,n.Zr)}static Wr(e,n){return me(e.Zr,n.Zr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new $e(Nt.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kb(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new Nt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Qo:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),s=new Nt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(me);return n.forEach(s=>{const i=new Nt(s,0),o=new Nt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),$.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new Nt(new ne(i),0);let a=new $e(me);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Zr)),!0)},o),$.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){de(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return $.forEach(n.mutations,s=>{const i=new Nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Nt(n,0),s=this.Xr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.ii=e,this.docs=function(){return new et(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=On();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||gb(OA(f),r)<=0||(s.has(f.key)||Dh(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}si(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rH(this)}getSize(e){return $.resolve(this.size)}}class rH extends Xj{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.persistence=e,this.oi=new Vs(n=>ua(n),jh),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this._i=0,this.ai=new Ob,this.targetCount=0,this.ui=fa.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),$.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new fa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Tr(n),$.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.ci={},this.overlays={},this.li=new Yn(0),this.hi=!1,this.hi=!0,this.Pi=new eH,this.referenceDelegate=e(this),this.Ti=new sH(this),this.indexManager=new Bq,this.remoteDocumentCache=function(s){return new nH(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Uj(n),this.Ei=new Xq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new tH(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new iH(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return $.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class iH extends LA{constructor(e){super(),this.currentSequenceNumber=e}}class av{constructor(e){this.persistence=e,this.Vi=new Ob,this.mi=null}static fi(e){return new av(e)}get gi(){if(this.mi)return this.mi;throw le(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,r=>{const s=ne.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Bm{constructor(e,n){this.persistence=e,this.yi=new Vs(r=>Zt(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Jj(this,n)}static fi(e,n){return new Bm(e,n)}di(){}Ai(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return $.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sp(e.data.value)),n}Dr(e,n,r){return $.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e){this.serializer=e}q(e,n,r,s){const i=new Wg("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore(Ah)}(e),function(l){l.createObjectStore(qd,{keyPath:yz}),l.createObjectStore(pr,{keyPath:iT,autoIncrement:!0}).createIndex(Do,oT,{unique:!0}),l.createObjectStore(lc)}(e),QT(e),function(l){l.createObjectStore(So)}(e));let o=$.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore(uc),l.deleteObjectStore(cc),l.deleteObjectStore(Yo)}(e),QT(e)),o=o.next(()=>function(l){const u=l.store(Yo),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fe.min().toTimestamp(),targetCount:0};return u.put(Am,f)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store(pr).J().next(h=>{l.deleteObjectStore(pr),l.createObjectStore(pr,{keyPath:iT,autoIncrement:!0}).createIndex(Do,oT,{unique:!0});const p=u.store(pr),m=h.map(b=>p.put(b));return $.waitFor(m)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore(dc,{keyPath:Cz})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.wi(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore(Hd)}(e),this.Si(i)))),r<7&&s>=7&&(o=o.next(()=>this.bi(i))),r<8&&s>=8&&(o=o.next(()=>this.Di(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.Ci(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(Qg,{keyPath:kz})})(e),function(l){l.createObjectStore(Yg,{keyPath:Nz})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore(Jg,{keyPath:Mz});u.createIndex(rx,Lz,{unique:!1}),u.createIndex(qA,Vz,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore(Pm,{keyPath:xz});u.createIndex(Ep,bz),u.createIndex($A,_z)}(e)).next(()=>this.Fi(e,i)).next(()=>e.deleteObjectStore(So))),r<14&&s>=14&&(o=o.next(()=>this.Mi(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore(wb,{keyPath:Rz,autoIncrement:!0}).createIndex(nx,Pz,{unique:!1}),l.createObjectStore(rd,{keyPath:Az}).createIndex(BA,jz,{unique:!1}),l.createObjectStore(sd,{keyPath:Dz}).createIndex(zA,Oz,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore(rd).clear()}).next(()=>{n.objectStore(sd).clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(xb,{keyPath:Fz})})(e)})),r<18&&s>=18&&gA()&&(o=o.next(()=>{n.objectStore(rd).clear()}).next(()=>{n.objectStore(sd).clear()})),o}Si(e){let n=0;return e.store(So).te((r,s)=>{n+=Um(s)}).next(()=>{const r={byteSize:n};return e.store(Hd).put(tx,r)})}wi(e){const n=e.store(qd),r=e.store(pr);return n.J().next(s=>$.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,Qo],[i.userId,i.lastAcknowledgedBatchId]);return r.J(Do,o).next(a=>$.forEach(a,l=>{de(l.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const u=Co(this.serializer,l);return Wj(e,i.userId,u).next(()=>{})}))}))}bi(e){const n=e.store(uc),r=e.store(So);return e.store(Yo).get(Am).next(s=>{const i=[];return r.te((o,a)=>{const l=new Le(o),u=function(h){return[0,Zt(h)]}(l);i.push(n.get(u).next(f=>f?$.resolve():(h=>n.put({targetId:0,path:Zt(h),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>$.waitFor(i))})}Di(e,n){e.createObjectStore(Kd,{keyPath:Tz});const r=n.store(Kd),s=new Db,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Zt(l)})}};return n.store(So).te({ee:!0},(o,a)=>{const l=new Le(o);return i(l.popLast())}).next(()=>n.store(lc).te({ee:!0},([o,a,l],u)=>{const f=qr(a);return i(f.popLast())}))}Ci(e){const n=e.store(cc);return n.te((r,s)=>{const i=$u(s),o=Bj(this.serializer,i);return n.put(o)})}Fi(e,n){const r=n.store(So),s=[];return r.te((i,o)=>{const a=n.store(Pm),l=function(h){return h.document?new ne(Le.fromString(h.document.name).popFirst(5)):h.noDocument?ne.fromSegments(h.noDocument.path):h.unknownDocument?ne.fromSegments(h.unknownDocument.path):le(36783)}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(u))}).next(()=>$.waitFor(s))}Mi(e,n){const r=n.store(pr),s=Zj(this.serializer),i=new Mb(av.fi,this.serializer.wt);return r.J().next(o=>{const a=new Map;return o.forEach(l=>{var u;let f=(u=a.get(l.userId))!==null&&u!==void 0?u:Ie();Co(this.serializer,l).keys().forEach(h=>f=f.add(h)),a.set(l.userId,f)}),$.forEach(a,(l,u)=>{const f=new Lt(u),h=iv.St(this.serializer,f),p=i.getIndexManager(f),m=ov.St(f,this.serializer,p,i.referenceDelegate);return new e4(s,m,h,p).recalculateAndSaveOverlaysForDocumentKeys(new sx(n,Yn.le),l).next()})})}}function QT(t){t.createObjectStore(uc,{keyPath:Iz}).createIndex(yb,Sz,{unique:!0}),t.createObjectStore(cc,{keyPath:"targetId"}).createIndex(UA,Ez,{unique:!0}),t.createObjectStore(Yo)}const ti="IndexedDbPersistence",Hy=18e5,Ky=5e3,Wy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aH="main";class Lb{constructor(e,n,r,s,i,o,a,l,u,f,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.xi=i,this.window=o,this.document=a,this.Oi=u,this.Ni=f,this.Bi=h,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=p=>Promise.resolve(),!Lb.C())throw new te(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gq(this,s),this.Ui=n+aH,this.serializer=new Uj(l),this.Ki=new Fi(this.Ui,this.Bi,new oH(this.serializer)),this.Pi=new Mq,this.Ti=new qq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zj(this.serializer),this.Ei=new Oq,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,f===!1&&an(ti,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(H.FAILED_PRECONDITION,Wy);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Yn(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(n=>{n||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(n=>this.isPrimary&&!n?this.Xi(e).next(()=>!1):!!n&&this.es(e).next(()=>!0))).catch(e=>{if(io(e))return Y(ti,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Y(ti,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Iu(e).get($a).next(n=>$.resolve(this.ts(n)))}ns(e){return Wf(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,Hy)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=It(n,dc);return r.J().next(s=>{const i=this._s(s,Hy),o=s.filter(a=>i.indexOf(a)===-1);return $.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const n of e)this.Wi.removeItem(this.us(n.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?$.resolve(!0):Iu(e).get($a).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,Ky)&&!this.cs(n.ownerId)){if(this.ts(n)&&this.networkEnabled)return!0;if(!this.ts(n)){if(!n.allowTabSynchronization)throw new te(H.FAILED_PRECONDITION,Wy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wf(e).J().next(r=>this._s(r,Ky).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Y(ti,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Ah,dc],e=>{const n=new sx(e,Yn.le);return this.Xi(n).next(()=>this.ns(n))}),this.Ki.close(),this.Ts()}_s(e,n){return e.filter(r=>this.ss(r.updateTimeMs,n)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Wf(e).J().next(n=>this._s(n,Hy).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,n){return ov.St(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zq(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return iv.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,n,r){Y(ti,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===18?Bz:l===17?GA:l===16?Uz:l===15?bb:l===14?WA:l===13?KA:l===12?$z:l===11?HA:void le(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,s,i,a=>(o=new sx(a,this.li?this.li.next():Yn.le),n==="readwrite-primary"?this.Yi(o).next(l=>!!l||this.Zi(o)).next(l=>{if(!l)throw an(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new te(H.FAILED_PRECONDITION,MA);return r(o)}).next(l=>this.es(o).next(()=>l)):this.Es(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Es(e){return Iu(e).get($a).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,Ky)&&!this.cs(n.ownerId)&&!this.ts(n)&&!(this.Ni||this.allowTabSynchronization&&n.allowTabSynchronization))throw new te(H.FAILED_PRECONDITION,Wy)})}es(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Iu(e).put($a,n)}static C(){return Fi.C()}Xi(e){const n=Iu(e);return n.get($a).next(r=>this.ts(r)?(Y(ti,"Releasing primary lease."),n.delete($a)):$.resolve())}ss(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(an(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const n=/(?:Version|Mobile)\/1[456]/;mA()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var n;try{const r=((n=this.Wi)===null||n===void 0?void 0:n.getItem(this.us(e)))!==null;return Y(ti,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return an(ti,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){an("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Iu(t){return It(t,Ah)}function Wf(t){return It(t,dc)}function lH(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Vb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return mA()?8:VA(Et())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new cH;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Za()<=Ce.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(Za()<=Ce.DEBUG&&Y("QueryEngine","Query:",el(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Za()<=Ce.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):$.resolve())}ws(e,n){if(wT(n))return $.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Mm(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,Mm(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,s){return wT(n)||s.isEqual(fe.min())?$.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(Za()<=Ce.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),el(n)),this.Fs(e,o,n,dz(s,Ud)).next(a=>a))})}vs(e,n){let r=new $e(pj(e));return n.forEach((s,i)=>{Dh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Za()<=Ce.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",el(n)),this.ys.getDocumentsMatchingQuery(e,n,$n.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="LocalStore",uH=3e8;class dH{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new et(me),this.Os=new Vs(i=>ua(i),jh),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function n4(t,e,n,r){return new dH(t,e,n,r)}async function r4(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function hH(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const h=u.batch,p=h.keys();let m=$.resolve();return p.forEach(b=>{m=m.next(()=>f.getEntry(l,b)).next(w=>{const y=u.docVersions.get(b);de(y!==null,48541),w.version.compareTo(y)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),f.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function s4(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function fH(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((f,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ti.removeMatchingKeys(i,f.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(i,f.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(wt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),s=s.insert(h,m),function(w,y,x){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=uH?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,f)&&a.push(n.Ti.updateTargetData(i,m))});let l=On(),u=Ie();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(pH(i,o,e.documentUpdates).next(f=>{l=f.qs,u=f.Qs})),!r.isEqual(fe.min())){const f=n.Ti.getLastRemoteSnapshotVersion(i).next(h=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.xs=s,i))}function pH(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=On();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Fb,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function mH(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gH(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function yx(t,e,n){const r=ye(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!io(o))throw o;Y(Fb,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function YT(t,e,n){const r=ye(t);let s=fe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const h=ye(l),p=h.Os.get(f);return p!==void 0?$.resolve(h.xs.get(p)):h.Ti.getTargetData(u,f)}(r,o,Zn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ie())).next(a=>(vH(r,rq(e),a),{documents:a,$s:i})))}function vH(t,e,n){let r=t.Ns.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class JT{constructor(){this.activeTargetIds=cq()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i4{constructor(){this.xo=new JT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new JT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="ConnectivityMonitor";class ZT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Y(XT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Y(XT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf=null;function wx(){return Gf===null?Gf=function(){return 268435456+Math.round(2147483648*Math.random())}():Gf++,"0x"+Gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="RestConnection",wH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xH{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===jm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=wx(),a=this.jo(e,n.toUriEncodedString());Y(Gy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:u}=new URL(a),f=Rh(u);return this.Jo(e,a,l,r,f).then(h=>(Y(Gy,`Received RPC '${e}' ${o}: `,h),h),h=>{throw la(Gy,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=wH[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class _H extends xH{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=wx();return new Promise((a,l)=>{const u=new SA;u.setWithCredentials(!0),u.listenOnce(TA.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xp.NO_ERROR:const h=u.getResponseJson();Y(Gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case xp.TIMEOUT:Y(Gt,`RPC '${e}' ${o} timed out`),l(new te(H.DEADLINE_EXCEEDED,"Request time out"));break;case xp.HTTP_ERROR:const p=u.getStatus();if(Y(Gt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m==null?void 0:m.error;if(b&&b.status&&b.message){const w=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(_)>=0?_:H.UNKNOWN}(b.status);l(new te(w,b.message))}else l(new te(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new te(H.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Y(Gt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);Y(Gt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",f,r,15)})}T_(e,n,r){const s=wx(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NA(),a=kA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=i.join("");Y(Gt,`Creating RPC '${e}' stream ${s}: ${f}`,l);const h=o.createWebChannel(f,l);let p=!1,m=!1;const b=new bH({Zo:y=>{m?Y(Gt,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(p||(Y(Gt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Y(Gt,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},Xo:()=>h.close()}),w=(y,x,_)=>{y.listen(x,E=>{try{_(E)}catch(C){setTimeout(()=>{throw C},0)}})};return w(h,Lu.EventType.OPEN,()=>{m||(Y(Gt,`RPC '${e}' stream ${s} transport opened.`),b.__())}),w(h,Lu.EventType.CLOSE,()=>{m||(m=!0,Y(Gt,`RPC '${e}' stream ${s} transport closed`),b.u_())}),w(h,Lu.EventType.ERROR,y=>{m||(m=!0,la(Gt,`RPC '${e}' stream ${s} transport errored. Name:`,y.name,"Message:",y.message),b.u_(new te(H.UNAVAILABLE,"The operation could not be completed")))}),w(h,Lu.EventType.MESSAGE,y=>{var x;if(!m){const _=y.data[0];de(!!_,16349);const E=_,C=(E==null?void 0:E.error)||((x=E[0])===null||x===void 0?void 0:x.error);if(C){Y(Gt,`RPC '${e}' stream ${s} received error:`,C);const R=C.status;let O=function(N){const k=mt[N];if(k!==void 0)return Cj(k)}(R),S=C.message;O===void 0&&(O=H.INTERNAL,S="Unknown error status: "+R+" with message "+C.message),m=!0,b.u_(new te(O,S)),h.close()}else Y(Gt,`RPC '${e}' stream ${s} received:`,_),b.c_(_)}}),w(a,CA.STAT_EVENT,y=>{y.stat===Xw.PROXY?Y(Gt,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Xw.NOPROXY&&Y(Gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(){return typeof window<"u"?window:null}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){return new Iq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="PersistentStream";class a4{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new o4(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(an(n.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new te(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Y(e2,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Y(e2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IH extends a4{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=Cq(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?un(o.readTime):fe.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=fx(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Dm(l)?{documents:Oj(i,l)}:{query:Mj(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Rj(i,o.resumeToken);const u=dx(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=wc(i,o.snapshotVersion.toTimestamp());const u=dx(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Nq(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=fx(this.serializer),n.removeTarget=e,this.L_(n)}}class SH extends a4{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=kq(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=fx(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vm(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{}class CH extends TH{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,hx(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(H.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,hx(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(H.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class kH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(an(n),this.oa=!1):Y("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class NH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Na(this)&&(Y(pa,"Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.Ta.add(4),await Mh(u),u.da.set("Unknown"),u.Ta.delete(4),await cv(u)}(this))})}),this.da=new kH(r,s)}}async function cv(t){if(Na(t))for(const e of t.Ia)await e(!0)}async function Mh(t){for(const e of t.Ia)await e(!1)}function l4(t,e){const n=ye(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),zb(n)?Bb(n):qc(n).M_()&&Ub(n,e))}function $b(t,e){const n=ye(t),r=qc(n);n.Pa.delete(e),r.M_()&&c4(n,e),n.Pa.size===0&&(r.M_()?r.N_():Na(n)&&n.da.set("Unknown"))}function Ub(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qc(t).H_(e)}function c4(t,e){t.Aa.Ke(e),qc(t).J_(e)}function Bb(t){t.Aa=new xq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),qc(t).start(),t.da._a()}function zb(t){return Na(t)&&!qc(t).F_()&&t.Pa.size>0}function Na(t){return ye(t).Ta.size===0}function u4(t){t.Aa=void 0}async function RH(t){t.da.set("Online")}async function PH(t){t.Pa.forEach((e,n)=>{Ub(t,e)})}async function AH(t,e){u4(t),zb(t)?(t.da.ca(e),Bb(t)):t.da.set("Unknown")}async function jH(t,e,n){if(t.da.set("Online"),e instanceof Nj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){Y(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zm(t,r)}else if(e instanceof kp?t.Aa.Xe(e):e instanceof kj?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(fe.min()))try{const r=await s4(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.Pa.get(u);f&&i.Pa.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=i.Pa.get(l);if(!f)return;i.Pa.set(l,f.withResumeToken(wt.EMPTY_BYTE_STRING,f.snapshotVersion)),c4(i,l);const h=new vs(f.target,l,u,f.sequenceNumber);Ub(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(pa,"Failed to raise snapshot:",r),await zm(t,r)}}async function zm(t,e,n){if(!io(e))throw e;t.Ta.add(1),await Mh(t),t.da.set("Offline"),n||(n=()=>s4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(pa,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await cv(t)})}function d4(t,e){return e().catch(n=>zm(t,n,e))}async function Lh(t){const e=ye(t),n=Yi(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Qo;for(;DH(e);)try{const s=await mH(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,OH(e,s)}catch(s){await zm(e,s)}h4(e)&&f4(e)}function DH(t){return Na(t)&&t.ha.length<10}function OH(t,e){t.ha.push(e);const n=Yi(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function h4(t){return Na(t)&&!Yi(t).F_()&&t.ha.length>0}function f4(t){Yi(t).start()}async function MH(t){Yi(t).ta()}async function LH(t){const e=Yi(t);for(const n of t.ha)e.Z_(n.mutations)}async function VH(t,e,n){const r=t.ha.shift(),s=Nb.from(r,e,n);await d4(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lh(t)}async function FH(t,e){e&&Yi(t).Y_&&await async function(r,s){if(function(o){return yq(o)&&o!==H.ABORTED}(s.code)){const i=r.ha.shift();Yi(r).O_(),await d4(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lh(r)}}(t,e),h4(t)&&f4(t)}async function t2(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),Y(pa,"RemoteStore received new credentials");const r=Na(n);n.Ta.add(3),await Mh(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await cv(n)}async function $H(t,e){const n=ye(t);e?(n.Ta.delete(2),await cv(n)):e||(n.Ta.add(2),await Mh(n),n.da.set("Unknown"))}function qc(t){return t.Ra||(t.Ra=function(n,r,s){const i=ye(n);return i.ra(),new IH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:RH.bind(null,t),n_:PH.bind(null,t),i_:AH.bind(null,t),j_:jH.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),zb(t)?Bb(t):t.da.set("Unknown")):(await t.Ra.stop(),u4(t))})),t.Ra}function Yi(t){return t.Va||(t.Va=function(n,r,s){const i=ye(n);return i.ra(),new SH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:MH.bind(null,t),i_:FH.bind(null,t),X_:LH.bind(null,t),ea:VH.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Lh(t)):(await t.Va.stop(),t.ha.length>0&&(Y(pa,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new qb(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hb(t,e){if(an("AsyncQueue",`${e}: ${t}`),io(t))return new te(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Vu(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.ma=new et(ne.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):le(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class xc{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xc(e,n,Rl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class BH{constructor(){this.queries=r2(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=ye(n),i=s.queries;s.queries=r2(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new te(H.ABORTED,"Firestore shutting down"))}}function r2(){return new Vs(t=>fj(t),ev)}async function zH(t,e){const n=ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new UH,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Hb(o,`Initialization of query '${el(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&Kb(n)}async function qH(t,e){const n=ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HH(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&Kb(n)}function KH(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function Kb(t){t.ba.forEach(e=>{e.next()})}var xx,s2;(s2=xx||(xx={})).Ca="default",s2.Cache="cache";class WH{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==xx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.key=e}}class m4{constructor(e){this.key=e}}class GH{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ie(),this.mutatedKeys=Ie(),this.Ha=pj(e),this.Ja=new Rl(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new n2,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,h)=>{const p=s.get(f),m=Dh(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;p&&m?p.data.isEqual(m.data)?b!==w&&(r.track({type:3,doc:m}),y=!0):this.eu(p,m)||(r.track({type:2,doc:m}),y=!0,(l&&this.Ha(m,l)>0||u&&this.Ha(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),y=!0):p&&!m&&(r.track({type:1,doc:p}),y=!0,(l||u)&&(a=!0)),y&&(m?(o=o.add(m),i=w?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((f,h)=>function(m,b){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Vt:y})}};return w(m)-w(b)}(f.type,h.type)||this.Ha(f.doc,h.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new xc(this.query,e.Ja,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new n2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ie(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new m4(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new p4(r))}),n}su(e){this.Ga=e.$s,this.ja=Ie();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return xc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Wb="SyncEngine";class QH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YH{constructor(e){this.key=e,this._u=!1}}class JH{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Vs(a=>fj(a),ev),this.cu=new Map,this.lu=new Set,this.hu=new et(ne.comparator),this.Pu=new Map,this.Tu=new Ob,this.Iu={},this.Eu=new Map,this.du=fa.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function XH(t,e,n=!0){const r=b4(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await g4(r,e,n,!0),s}async function ZH(t,e){const n=b4(t);await g4(n,e,!0,!1)}async function g4(t,e,n,r){const s=await gH(t.localStore,Zn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await eK(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&l4(t.remoteStore,s),a}async function eK(t,e,n,r,s){t.Ru=(h,p,m)=>async function(w,y,x,_){let E=y.view.Za(x);E.Cs&&(E=await YT(w.localStore,y.query,!1).then(({documents:S})=>y.view.Za(S,E)));const C=_&&_.targetChanges.get(y.targetId),R=_&&_.targetMismatches.get(y.targetId)!=null,O=y.view.applyChanges(E,w.isPrimaryClient,C,R);return o2(w,y.targetId,O.ru),O.snapshot}(t,h,p,m);const i=await YT(t.localStore,e,!0),o=new GH(e,i.$s),a=o.Za(i.documents),l=Oh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);o2(t,n,u.ru);const f=new QH(e,n,o);return t.uu.set(e,f),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function tK(t,e,n){const r=ye(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!ev(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&$b(r.remoteStore,s.targetId),bx(r,s.targetId)}).catch(ka)):(bx(r,s.targetId),await yx(r.localStore,s.targetId,!0))}async function nK(t,e){const n=ye(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$b(n.remoteStore,r.targetId))}async function rK(t,e,n){const r=_4(t);try{const s=await function(o,a){const l=ye(o),u=it.now(),f=a.reduce((m,b)=>m.add(b.key),Ie());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=On(),w=Ie();return l.Bs.getEntries(m,f).next(y=>{b=y,b.forEach((x,_)=>{_.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,b)).next(y=>{h=y;const x=[];for(const _ of a){const E=gq(_,h.get(_.key).overlayedDocument);E!=null&&x.push(new Fs(_.key,E,sj(E.value.mapValue),ln.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,a)}).next(y=>{p=y;const x=y.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,y.batchId,x)})}).then(()=>({batchId:p.batchId,changes:gj(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new et(me)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Vh(r,s.changes),await Lh(r.remoteStore)}catch(s){const i=Hb(s,"Failed to persist write");n.reject(i)}}async function v4(t,e){const n=ye(t);try{const r=await fH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(de(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?de(o._u,14607):s.removedDocuments.size>0&&(de(o._u,42227),o._u=!1))}),await Vh(n,r,e)}catch(r){await ka(r)}}function i2(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let u=!1;l.queries.forEach((f,h)=>{for(const p of h.ya)p.Da(a)&&(u=!0)}),u&&Kb(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sK(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new et(ne.comparator);o=o.insert(i,dt.newNoDocument(i,fe.min()));const a=Ie().add(i),l=new sv(fe.min(),new Map,new et(me),o,a);await v4(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),Gb(r)}else await yx(r.localStore,e,!1).then(()=>bx(r,e,n)).catch(ka)}async function iK(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await hH(n.localStore,e);w4(n,r,null),y4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vh(n,s)}catch(s){await ka(s)}}async function oK(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(de(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);w4(r,e,n),y4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vh(r,s)}catch(s){await ka(s)}}function y4(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function w4(t,e,n){const r=ye(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function bx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||x4(t,r)})}function x4(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&($b(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Gb(t))}function o2(t,e,n){for(const r of n)r instanceof p4?(t.Tu.addReference(r.key,e),aK(t,r)):r instanceof m4?(Y(Wb,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||x4(t,r.key)):le(19791,{mu:r})}function aK(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(Y(Wb,"New document in limbo: "+n),t.lu.add(r),Gb(t))}function Gb(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ne(Le.fromString(e)),r=t.du.next();t.Pu.set(r,new YH(n)),t.hu=t.hu.insert(n,r),l4(t.remoteStore,new vs(Zn(Tb(n.path)),r,"TargetPurposeLimboResolution",Yn.le))}}async function Vh(t,e,n){const r=ye(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Vb.Rs(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,u){const f=ye(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,p=>$.forEach(p.ds,m=>f.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>$.forEach(p.As,m=>f.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!io(h))throw h;Y(Fb,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=f.xs.get(p),b=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(b);f.xs=f.xs.insert(p,w)}}}(r.localStore,i))}async function lK(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){Y(Wb,"User change. New user:",e.toKey());const r=await r4(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new te(H.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vh(n,r.ks)}}function cK(t,e){const n=ye(t),r=n.Pu.get(e);if(r&&r._u)return Ie().add(r.key);{let s=Ie();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function b4(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sK.bind(null,e),e.au.j_=HH.bind(null,e.eventManager),e.au.Vu=KH.bind(null,e.eventManager),e}function _4(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oK.bind(null,e),e}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lv(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return n4(this.persistence,new t4,e.initialUser,this.serializer)}yu(e){return new Mb(av.fi,this.serializer)}pu(e){return new i4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class uK extends Zd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){de(this.persistence.referenceDelegate instanceof Bm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Yj(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Mb(r=>Bm.fi(r,n),this.serializer)}}class dK extends Zd{constructor(e,n,r){super(),this.Du=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await _4(this.Du.syncEngine),await Lh(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return n4(this.persistence,new t4,e.initialUser,this.serializer)}Su(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Yj(r,e.asyncQueue,n)}bu(e,n){const r=new mz(n,this.persistence);return new pz(e.asyncQueue,r)}yu(e){const n=lH(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Lb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,EH(),Rp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new i4}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lK.bind(null,this.syncEngine),await $H(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BH}()}createDatastore(e){const n=lv(e.databaseInfo.databaseId),r=function(i){return new _H(i)}(e.databaseInfo);return function(i,o,a,l){return new CH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new NH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>i2(this.syncEngine,n,0),function(){return ZT.C()?new ZT:new yH}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,f){const h=new JH(s,i,o,a,l,u);return f&&(h.Au=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ye(s);Y(pa,"RemoteStore shutting down."),i.Ta.add(5),await Mh(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):an("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class fK{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Lt.UNAUTHENTICATED,this.clientId=jA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(Ji,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Ji,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qy(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Ji,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await r4(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function a2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pK(t);Y(Ji,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>t2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>t2(e.remoteStore,s)),t._onlineComponents=e}async function pK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Ji,"Using user provided OfflineComponentProvider");try{await Qy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;la("Error using user provided cache. Falling back to memory cache: "+n),await Qy(t,new Zd)}}else Y(Ji,"Using default OfflineComponentProvider"),await Qy(t,new uK(void 0));return t._offlineComponents}async function E4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Ji,"Using user provided OnlineComponentProvider"),await a2(t,t._uninitializedComponentsProvider._online)):(Y(Ji,"Using default OnlineComponentProvider"),await a2(t,new qm))),t._onlineComponents}function mK(t){return E4(t).then(e=>e.syncEngine)}async function gK(t){const e=await E4(t),n=e.eventManager;return n.onListen=XH.bind(null,e.syncEngine),n.onUnlisten=tK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nK.bind(null,e.syncEngine),n}function vK(t,e,n={}){const r=new Es;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const f=new hK({next:p=>{f.Cu(),o.enqueueAndForget(()=>qH(i,h)),p.fromCache&&l.source==="server"?u.reject(new te(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new WH(a,f,{includeMetadataChanges:!0,La:!0});return zH(i,h)}(await gK(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t,e,n){if(!n)throw new te(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yK(t,e,n,r){if(e===!0&&r===!0)throw new te(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c2(t){if(!ne.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u2(t){if(ne.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function Os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uv(t);throw new te(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wK(t,e){if(e<=0)throw new te(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="firestore.googleapis.com",d2=!0;class h2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T4,this.ssl=d2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:d2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hq)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nz;switch(r.type){case"firstParty":return new oz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l2.get(n);r&&(Y("ComponentProvider","Removing Datastore"),l2.delete(n),r.terminate())}(this),Promise.resolve()}}function xK(t,e,n,r={}){var s;t=Os(t,dv);const i=Rh(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(dA(`https://${l}`),hA("Firestore",!0)),o.host!==T4&&o.host!==l&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Wi(u,a)&&(t._setSettings(u),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Lt.MOCK_USER;else{f=N7(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new te(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Lt(p)}t._authCredentials=new rz(new PA(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class $i extends ao{constructor(e,n,r){super(e,n,Tb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ne(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function Su(t,e,...n){if(t=ft(t),S4("collection","path",e),t instanceof dv){const r=Le.fromString(e,...n);return u2(r),new $i(t,null,r)}{if(!(t instanceof Tn||t instanceof $i))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return u2(r),new $i(t.firestore,null,r)}}function Yy(t,e,...n){if(t=ft(t),arguments.length===1&&(e=jA.newId()),S4("doc","path",e),t instanceof dv){const r=Le.fromString(e,...n);return c2(r),new Tn(t,null,new ne(r))}{if(!(t instanceof Tn||t instanceof $i))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return c2(r),new Tn(t.firestore,t instanceof $i?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="AsyncQueue";class p2{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new o4(this,"async_queue_retry"),this.ec=()=>{const r=Rp();r&&Y(f2,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Es;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!io(e))throw e;Y(f2,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,an("INTERNAL UNHANDLED ERROR: ",m2(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=qb.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&le(47125,{_c:m2(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function m2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Hc extends dv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new p2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p2(e),this._firestoreClient=void 0,await e}}}function bK(t,e){const n=typeof t=="object"?t:Kg(),r=typeof t=="string"?t:e||jm,s=Ca(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=C7("firestore");i&&xK(s,...i)}return s}function C4(t){if(t._terminated)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k4(t),t._firestoreClient}function k4(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,f){return new qz(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,I4(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new fK(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function _K(t,e){la("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return EK(t,qm.provider,{build:r=>new dK(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function EK(t,e,n){if((t=Os(t,Hc))._firestoreClient||t._terminated)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new te(H.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},k4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(wt.fromBase64String(e))}catch(n){throw new te(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bc(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=/^__.*__$/;class SK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}class N4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{hc:t})}}class Jb{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Jb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Hm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(R4(this.hc)&&IK.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class TK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lv(e)}gc(e,n,r,s=!1){return new Jb({hc:e,methodName:n,fc:r,path:rt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xb(t){const e=t._freezeSettings(),n=lv(t._databaseId);return new TK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CK(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);e_("Data must be an object, but it was:",o,r);const a=P4(r,o);let l,u;if(i.merge)l=new bn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const h of i.mergeFields){const p=_x(e,h,n);if(!o.contains(p))throw new te(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);j4(f,p)||f.push(p)}l=new bn(f),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new SK(new Xt(a),l,u)}class pv extends fv{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pv}}class Zb extends fv{_toFieldTransform(e){return new Ej(e.path,new gc)}isEqual(e){return e instanceof Zb}}function kK(t,e,n,r){const s=t.gc(1,e,n);e_("Data must be an object, but it was:",s,r);const i=[],o=Xt.empty();oo(r,(l,u)=>{const f=t_(e,l,n);u=ft(u);const h=s.Ac(f);if(u instanceof pv)i.push(f);else{const p=Fh(u,h);p!=null&&(i.push(f),o.set(f,p))}});const a=new bn(i);return new N4(o,a,s.fieldTransforms)}function NK(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[_x(e,r,n)],l=[s];if(i.length%2!=0)throw new te(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(_x(e,i[p])),l.push(i[p+1]);const u=[],f=Xt.empty();for(let p=a.length-1;p>=0;--p)if(!j4(u,a[p])){const m=a[p];let b=l[p];b=ft(b);const w=o.Ac(m);if(b instanceof pv)u.push(m);else{const y=Fh(b,w);y!=null&&(u.push(m),f.set(m,y))}}const h=new bn(u);return new N4(f,h,o.fieldTransforms)}function RK(t,e,n,r=!1){return Fh(n,t.gc(r?4:3,e))}function Fh(t,e){if(A4(t=ft(t)))return e_("Unsupported field value:",e,t),P4(t,e);if(t instanceof fv)return function(r,s){if(!R4(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Fh(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uq(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=it.fromDate(r);return{timestampValue:wc(s.serializer,i)}}if(r instanceof it){const i=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wc(s.serializer,i)}}if(r instanceof Qb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bc)return{bytesValue:Rj(s.serializer,r._byteString)};if(r instanceof Tn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ab(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Yb)return function(o,a){return{mapValue:{fields:{[Eb]:{stringValue:Ib},[hc]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return Cb(a.serializer,u)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${uv(r)}`)}(t,e)}function P4(t,e){const n={};return QA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,s)=>{const i=Fh(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function A4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Qb||t instanceof bc||t instanceof Tn||t instanceof fv||t instanceof Yb)}function e_(t,e,n){if(!A4(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=uv(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function _x(t,e,n){if((e=ft(e))instanceof hv)return e._internalPath;if(typeof e=="string")return t_(t,e);throw Hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const PK=new RegExp("[~\\*/\\[\\]]");function t_(t,e,n){if(e.search(PK)>=0)throw Hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hv(...e.split("."))._internalPath}catch{throw Hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new te(H.INVALID_ARGUMENT,a+t+l)}function j4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AK extends D4{data(){return super.data()}}function mv(t,e){return typeof e=="string"?t_(t,e):e instanceof hv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n_{}class r_ extends n_{}function Tu(t,e,...n){let r=[];e instanceof n_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof s_).length,a=i.filter(l=>l instanceof gv).length;if(o>1||o>0&&a>0)throw new te(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class gv extends r_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gv(e,n,r)}_apply(e){const n=this._parse(e);return O4(e._query,n),new ao(e.firestore,e.converter,ux(e._query,n))}_parse(e){const n=Xb(e.firestore);return function(i,o,a,l,u,f,h){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new te(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){v2(h,f);const b=[];for(const w of h)b.push(g2(l,i,w));p={arrayValue:{values:b}}}else p=g2(l,i,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||v2(h,f),p=RK(a,o,h,f==="in"||f==="not-in");return ke.create(u,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jy(t,e,n){const r=e,s=mv("where",t);return gv._create(s,r,n)}class s_ extends n_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)O4(o,l),o=ux(o,l)}(e._query,n),new ao(e.firestore,e.converter,ux(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i_ extends r_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new te(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jd(i,o)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Bc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function DK(t,e="asc"){const n=e,r=mv("orderBy",t);return i_._create(r,n)}class o_ extends r_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new o_(e,n,r)}_apply(e){return new ao(e.firestore,e.converter,Mm(e._query,this._limit,this._limitType))}}function Xy(t){return wK("limit",t),o_._create("limit",t,"F")}function g2(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hj(e)&&n.indexOf("/")!==-1)throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ne.isDocumentKey(r))throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qd(t,new ne(r))}if(n instanceof Tn)return Qd(t,n._key);throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uv(n)}.`)}function v2(t,e){if(!Array.isArray(t)||t.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O4(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OK{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[hc].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Xe(o.doubleValue));return new Yb(i)}convertGeoPoint(e){return new Qb(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wd(e));default:return null}}convertTimestamp(e){const n=js(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);de($j(r),9688,{name:e});const s=new ca(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||an(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LK extends D4{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pp extends LK{data(e={}){return super.data(e)}}class VK{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pp(this._firestore,this._userDataWriter,r.key,r,new Qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Pp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qf(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Pp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qf(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:FK(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}class $K extends OK{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Cu(t){t=Os(t,ao);const e=Os(t.firestore,Hc),n=C4(e),r=new $K(e);return jK(t._query),vK(n,t._query).then(s=>new VK(e,r,t,s))}function y2(t,e,n){t=Os(t,Tn);const r=Os(t.firestore,Hc),s=MK(t.converter,e,n);return a_(r,[CK(Xb(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ln.none())])}function Zy(t,e,n,...r){t=Os(t,Tn);const s=Os(t.firestore,Hc),i=Xb(s);let o;return o=typeof(e=ft(e))=="string"||e instanceof hv?NK(i,"updateDoc",t._key,e,n,r):kK(i,"updateDoc",t._key,e),a_(s,[o.toMutation(t._key,ln.exists(!0))])}function w2(t){return a_(Os(t.firestore,Hc),[new rv(t._key,ln.none())])}function a_(t,e){return function(r,s){const i=new Es;return r.asyncQueue.enqueueAndForget(async()=>rK(await mK(r),s,i)),i.promise}(C4(t),e)}function Ka(){return new Zb("serverTimestamp")}(function(e,n=!0){(function(s){Uc=s})($c),Xr(new Cr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Hc(new sz(r.getProvider("auth-internal")),new az(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(u.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xn(YS,JS,e),Xn(YS,JS,"esm2017")})();var UK="firebase",BK="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(UK,BK,"app");var Ur=function(){return Ur=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ur.apply(this,arguments)};function $h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zK(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function M4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qK=M4,L4=new Ta("auth","Firebase",M4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Hg("@firebase/auth");function HK(t,...e){Km.logLevel<=Ce.WARN&&Km.warn(`Auth (${$c}): ${t}`,...e)}function Ap(t,...e){Km.logLevel<=Ce.ERROR&&Km.error(`Auth (${$c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw c_(t,...e)}function _r(t,...e){return c_(t,...e)}function l_(t,e,n){const r=Object.assign(Object.assign({},qK()),{[e]:n});return new Ta("auth","Firebase",r).create(e,{appName:t.name})}function Is(t){return l_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sr(t,"argument-error"),l_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function c_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return L4.create(t,...e)}function pe(t,e,...n){if(!t)throw c_(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ap(e),new Error(e)}function Ms(t,e){t||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WK(){return x2()==="http:"||x2()==="https:"}function x2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WK()||pA()||"connection"in navigator)?navigator.onLine:!0}function QK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ms(n>e,"Short delay should be less than long delay!"),this.isMobile=A7()||D7()}get(){return GK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){Ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XK=new Uh(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $s(t,e,n,r,s={}){return F4(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ph(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return j7()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Rh(t.emulatorConfig.host)&&(u.credentials="include"),V4.fetch()(await $4(t,t.config.apiHost,n,a),u)})}async function F4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YK),e);try{const s=new eW(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Yf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yf(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw l_(t,f,u);sr(t,f)}}catch(s){if(s instanceof kr)throw s;sr(t,"network-request-failed",{message:String(s)})}}async function Bh(t,e,n,r,s={}){const i=await $s(t,e,n,r,s);return"mfaPendingCredential"in i&&sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function $4(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?u_(t.config,s):`${t.config.apiScheme}://${s}`;return JK.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function ZK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),XK.get())})}}function Yf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=_r(t,e,r);return s.customData._tokenResponse=n,s}function b2(t){return t!==void 0&&t.enterprise!==void 0}class tW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nW(t,e){return $s(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rW(t,e){return $s(t,"POST","/v1/accounts:delete",e)}async function Wm(t,e){return $s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sW(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=d_(r);pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:cd(e0(s.auth_time)),issuedAtTime:cd(e0(s.iat)),expirationTime:cd(e0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function e0(t){return Number(t)*1e3}function d_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ap("JWT malformed, contained fewer than 3 sections"),null;try{const s=oA(n);return s?JSON.parse(s):(Ap("Failed to decode base64 JWT payload"),null)}catch(s){return Ap("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _2(t){const e=d_(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&iW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _c(t,Wm(n,{idToken:r}));pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?U4(i.providerUserInfo):[],a=lW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ix(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function aW(t){const e=ft(t);await Gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lW(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function U4(t){return t.map(e=>{var{providerId:n}=e,r=$h(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(t,e){const n=await F4(t,{},async()=>{const r=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await $4(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",V4.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uW(t,e){return $s(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=_2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await cW(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Pl;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=$h(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ix(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sW(this,e)}reload(){return aW(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await _c(this,rW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:C,isAnonymous:R,providerData:O,stsTokenManager:S}=n;pe(E&&S,e,"internal-error");const I=Pl.fromJSON(this.name,S);pe(typeof E=="string",e,"internal-error"),ni(h,e.name),ni(p,e.name),pe(typeof C=="boolean",e,"internal-error"),pe(typeof R=="boolean",e,"internal-error"),ni(m,e.name),ni(b,e.name),ni(w,e.name),ni(y,e.name),ni(x,e.name),ni(_,e.name);const N=new wr({uid:E,auth:e,email:p,emailVerified:C,displayName:h,isAnonymous:R,photoURL:b,phoneNumber:m,tenantId:w,stsTokenManager:I,createdAt:x,lastLoginAt:_});return O&&Array.isArray(O)&&(N.providerData=O.map(k=>Object.assign({},k))),y&&(N._redirectEventId=y),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pl;s.updateFromServerResponse(n);const i=new wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?U4(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Pl;a.updateFromIdToken(r);const l=new wr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ix(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Map;function ws(t){Ms(t instanceof Function,"Expected a class definition");let e=E2.get(t);return e?(Ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}B4.type="NONE";const I2=B4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e,n){return`firebase:${t}:${e}:${n}`}class Al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jp(this.userKey,s.apiKey,i),this.fullPersistenceKey=jp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wm(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Al(ws(I2),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ws(I2);const o=jp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){let h;if(typeof f=="string"){const p=await Wm(e,{idToken:f}).catch(()=>{});if(!p)break;h=await wr._fromGetAccountInfoResponse(e,p,f)}else h=wr._fromJSON(e,f);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Al(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Al(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G4(e))return"Blackberry";if(Q4(e))return"Webos";if(q4(e))return"Safari";if((e.includes("chrome/")||H4(e))&&!e.includes("edge/"))return"Chrome";if(W4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function z4(t=Et()){return/firefox\//i.test(t)}function q4(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H4(t=Et()){return/crios\//i.test(t)}function K4(t=Et()){return/iemobile/i.test(t)}function W4(t=Et()){return/android/i.test(t)}function G4(t=Et()){return/blackberry/i.test(t)}function Q4(t=Et()){return/webos/i.test(t)}function h_(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dW(t=Et()){var e;return h_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hW(){return O7()&&document.documentMode===10}function Y4(t=Et()){return h_(t)||W4(t)||Q4(t)||G4(t)||/windows phone/i.test(t)||K4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t,e=[]){let n;switch(t){case"Browser":n=S2(Et());break;case"Worker":n=`${S2(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t,e={}){return $s(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=6;class gW{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T2(this),this.idTokenSubscription=new T2(this),this.beforeStateQueue=new fW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wm(this,{idToken:e}),r=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Is(this));const n=e?ft(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pW(this),n=new gW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function co(t){return ft(t)}class T2{constructor(e){this.auth=e,this.observer=null,this.addObserver=U7(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yW(t){vv=t}function X4(t){return vv.loadJS(t)}function wW(){return vv.recaptchaEnterpriseScript}function xW(){return vv.gapiScript}function bW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _W{constructor(){this.enterprise=new EW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IW="recaptcha-enterprise",Z4="NO_RECAPTCHA";class SW{constructor(e){this.type=IW,this.auth=co(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{nW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new tW(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;b2(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Z4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _W().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&b2(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wW();l.length!==0&&(l+=a),X4(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ku(t,e,n,r=!1,s=!1){const i=new SW(t);let o;if(s)o=Z4;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Sx(t,e,n,r,s){var i,o;if(s==="EMAIL_PASSWORD_PROVIDER")if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ku(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ku(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(s==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await ku(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const f=await ku(t,e,n,!1,!0);return r(t,f)}return Promise.reject(l)})}else{const a=await ku(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(s+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t,e){const n=Ca(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Wi(i,e??{}))return s;sr(s,"already-initialized")}return n.initialize({options:e})}function CW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kW(t,e,n){const r=co(t);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=eD(e),{host:o,port:a}=NW(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Wi(u,r.config.emulator)&&Wi(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Rh(o)?(dA(`${i}//${o}${l}`),hA("Auth",!0)):s||RW()}function eD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NW(t){const e=eD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:C2(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:C2(o)}}}function C2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function PW(t,e){return $s(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AW(t,e){return Bh(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function DW(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends f_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new eh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sx(e,n,"signInWithPassword",AW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jW(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sx(e,r,"signUpPassword",PW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DW(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e){return Bh(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW="http://localhost";class ma extends f_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=$h(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ma(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jl(e,n)}buildRequest(){const e={requestUri:OW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ph(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LW(t){const e=Ou(Mu(t)).link,n=e?Ou(Mu(e)).deep_link_id:null,r=Ou(Mu(t)).deep_link_id;return(r?Ou(Mu(r)).link:null)||r||n||e||t}class p_{constructor(e){var n,r,s,i,o,a;const l=Ou(Mu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=MW((s=l.mode)!==null&&s!==void 0?s:null);pe(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=LW(e);try{return new p_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(e,n){return eh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=p_.parseLink(n);return pe(r,"argument-error"),eh._fromEmailAndCode(e,r.code,r.tenantId)}}Kc.PROVIDER_ID="password";Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends m_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends zh{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends zh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends zh{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends zh{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(t,e){return Bh(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await wr._fromIdTokenResponse(e,r,s),o=k2(r);return new ga({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=k2(r);return new ga({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function k2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends kr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qm(e,n,r,s)}}function tD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qm._fromErrorAndOperation(t,i,e,r):i})}async function FW(t,e,n=!1){const r=await _c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $W(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(Is(r));const s="reauthenticate";try{const i=await _c(t,tD(r,s,e,t),n);pe(i.idToken,r,"internal-error");const o=d_(i.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),ga._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e,n=!1){if(jn(t.app))return Promise.reject(Is(t));const r="signIn",s=await tD(t,r,e),i=await ga._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function UW(t,e){return nD(co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t){const e=co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BW(t,e,n){if(jn(t.app))return Promise.reject(Is(t));const r=co(t),o=await Sx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VW,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&rD(t),l}),a=await ga._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zW(t,e,n){return jn(t.app)?Promise.reject(Is(t)):UW(ft(t),Kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t,e){return $s(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await _c(r,qW(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function HW(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function KW(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function WW(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function GW(t){return ft(t).signOut()}const Ym="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ym,"1"),this.storage.removeItem(Ym),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW=1e3,YW=10;class iD extends sD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);hW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,YW):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iD.type="LOCAL";const JW=iD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD extends sD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oD.type="SESSION";const aD=oD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new yv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await XW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=g_("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function eG(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function tG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rG(){return lD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="firebaseLocalStorageDb",sG=1,Jm="firebaseLocalStorage",uD="fbase_key";class qh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wv(t,e){return t.transaction([Jm],e?"readwrite":"readonly").objectStore(Jm)}function iG(){const t=indexedDB.deleteDatabase(cD);return new qh(t).toPromise()}function Tx(){const t=indexedDB.open(cD,sG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jm,{keyPath:uD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jm)?e(r):(r.close(),await iG(),e(await Tx()))})})}async function R2(t,e,n){const r=wv(t,!0).put({[uD]:e,value:n});return new qh(r).toPromise()}async function oG(t,e){const n=wv(t,!1).get(e),r=await new qh(n).toPromise();return r===void 0?null:r.value}function P2(t,e){const n=wv(t,!0).delete(e);return new qh(n).toPromise()}const aG=800,lG=3;class dD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yv._getInstance(rG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tG(),!this.activeServiceWorker)return;this.sender=new ZW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tx();return await R2(e,Ym,"1"),await P2(e,Ym),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wv(s,!1).getAll();return new qh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dD.type="LOCAL";const cG=dD;new Uh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){return e?ws(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends f_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uG(t){return nD(t.auth,new v_(t),t.bypassAuthState)}function dG(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),$W(n,new v_(t),t.bypassAuthState)}async function hG(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),FW(n,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uG;case"linkViaPopup":case"linkViaRedirect":return hG;case"reauthViaPopup":case"reauthViaRedirect":return dG;default:sr(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=new Uh(2e3,1e4);async function pG(t,e,n){if(jn(t.app))return Promise.reject(_r(t,"operation-not-supported-in-this-environment"));const r=co(t);KK(t,e,m_);const s=hD(r,n);return new Oo(r,"signInViaPopup",e,s).executeNotNull()}class Oo extends fD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=g_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fG.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG="pendingRedirect",Dp=new Map;class gG extends fD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dp.get(this.auth._key());if(!e){try{const r=await vG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dp.set(this.auth._key(),e)}return this.bypassAuthState||Dp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vG(t,e){const n=xG(e),r=wG(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yG(t,e){Dp.set(t._key(),e)}function wG(t){return ws(t._redirectPersistence)}function xG(t){return jp(mG,t.config.apiKey,t.name)}async function bG(t,e,n=!1){if(jn(t.app))return Promise.reject(Is(t));const r=co(t),s=hD(r,e),o=await new gG(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=10*60*1e3;class EG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_r(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_G&&this.cachedEventUids.clear(),this.cachedEventUids.has(A2(e))}saveEventToCache(e){this.cachedEventUids.add(A2(e)),this.lastProcessedEventTime=Date.now()}}function A2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SG(t,e={}){return $s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CG=/^https?/;async function kG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SG(t);for(const n of e)try{if(NG(n))return}catch{}sr(t,"unauthorized-domain")}function NG(t){const e=Ex(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CG.test(n))return!1;if(TG.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=new Uh(3e4,6e4);function j2(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PG(t){return new Promise((e,n)=>{var r,s,i;function o(){j2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j2(),n(_r(t,"network-request-failed"))},timeout:RG.get()})}if(!((s=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Yr().gapi)===null||i===void 0)&&i.load)o();else{const a=bW("iframefcb");return Yr()[a]=()=>{gapi.load?o():n(_r(t,"network-request-failed"))},X4(`${xW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Op=null,e})}let Op=null;function AG(t){return Op=Op||PG(t),Op}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=new Uh(5e3,15e3),DG="__/auth/iframe",OG="emulator/auth/iframe",MG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VG(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u_(e,OG):`https://${t.config.authDomain}/${DG}`,r={apiKey:e.apiKey,appName:t.name,v:$c},s=LG.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ph(r).slice(1)}`}async function FG(t){const e=await AG(t),n=Yr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:VG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MG,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=_r(t,"network-request-failed"),a=Yr().setTimeout(()=>{i(o)},jG.get());function l(){Yr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UG=500,BG=600,zG="_blank",qG="http://localhost";class D2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HG(t,e,n,r=UG,s=BG){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$G),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Et().toLowerCase();n&&(a=H4(u)?zG:n),z4(u)&&(e=e||qG,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[m,b])=>`${p}${m}=${b},`,"");if(dW(u)&&a!=="_self")return KG(e||"",a),new D2(null);const h=window.open(e||"",a,f);pe(h,t,"popup-blocked");try{h.focus()}catch{}return new D2(h)}function KG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG="__/auth/handler",GG="emulator/auth/handler",QG=encodeURIComponent("fac");async function O2(t,e,n,r,s,i){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$c,eventId:s};if(e instanceof m_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries(i||{}))o[f]=h}if(e instanceof zh){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${QG}=${encodeURIComponent(l)}`:"";return`${YG(t)}?${Ph(a).slice(1)}${u}`}function YG({config:t}){return t.emulator?u_(t,GG):`https://${t.authDomain}/${WG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="webStorageSupport";class JG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aD,this._completeRedirectFn=bG,this._overrideRedirectResult=yG}async _openPopup(e,n,r,s){var i;Ms((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await O2(e,n,r,Ex(),s);return HG(e,o,g_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await O2(e,n,r,Ex(),s);return eG(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ms(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FG(e),r=new EG(e);return n.register("authEvent",s=>(pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(t0,{type:t0},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[t0];o!==void 0&&n(!!o),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Y4()||q4()||h_()}}const XG=JG;var M2="@firebase/auth",L2="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tQ(t){Xr(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J4(t)},u=new vW(r,s,i,l);return CW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xr(new Cr("auth-internal",e=>{const n=co(e.getProvider("auth").getImmediate());return(r=>new ZG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(M2,L2,eQ(t)),Xn(M2,L2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ=5*60,rQ=uA("authIdTokenMaxAge")||nQ;let V2=null;const sQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rQ)return;const s=n==null?void 0:n.token;V2!==s&&(V2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iQ(t=Kg()){const e=Ca(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TW(t,{popupRedirectResolver:XG,persistence:[cG,JW,aD]}),r=uA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=sQ(i.toString());KW(n,o,()=>o(n.currentUser)),HW(n,a=>o(a))}}const s=lA("auth");return s&&kW(n,`http://${s}`),n}function oQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=_r("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tQ("Browser");const mD="@firebase/installations",y_="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e4,vD=`w:${y_}`,yD="FIS_v2",aQ="https://firebaseinstallations.googleapis.com/v1",lQ=60*60*1e3,cQ="installations",uQ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Ta(cQ,uQ,dQ);function wD(t){return t instanceof kr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD({projectId:t}){return`${aQ}/projects/${t}/installations`}function bD(t){return{token:t.token,requestStatus:2,expiresIn:fQ(t.expiresIn),creationTime:Date.now()}}async function _D(t,e){const r=(await e.json()).error;return va.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ED({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hQ(t,{refreshToken:e}){const n=ED(t);return n.append("Authorization",pQ(e)),n}async function ID(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fQ(t){return Number(t.replace("s","000"))}function pQ(t){return`${yD} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xD(t),s=ED(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:yD,appId:t.appId,sdkVersion:vD},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await ID(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:bD(u.authToken)}}else throw await _D("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ=/^[cdef][\w-]{21}$/,Cx="";function yQ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=wQ(t);return vQ.test(n)?n:Cx}catch{return Cx}}function wQ(t){return gQ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Map;function CD(t,e){const n=xv(t);kD(n,e),xQ(n,e)}function kD(t,e){const n=TD.get(t);if(n)for(const r of n)r(e)}function xQ(t,e){const n=bQ();n&&n.postMessage({key:t,fid:e}),_Q()}let Mo=null;function bQ(){return!Mo&&"BroadcastChannel"in self&&(Mo=new BroadcastChannel("[Firebase] FID Change"),Mo.onmessage=t=>{kD(t.data.key,t.data.fid)}),Mo}function _Q(){TD.size===0&&Mo&&(Mo.close(),Mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ="firebase-installations-database",IQ=1,ya="firebase-installations-store";let n0=null;function w_(){return n0||(n0=xA(EQ,IQ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ya)}}})),n0}async function Xm(t,e){const n=xv(t),s=(await w_()).transaction(ya,"readwrite"),i=s.objectStore(ya),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&CD(t,e.fid),e}async function ND(t){const e=xv(t),r=(await w_()).transaction(ya,"readwrite");await r.objectStore(ya).delete(e),await r.done}async function bv(t,e){const n=xv(t),s=(await w_()).transaction(ya,"readwrite"),i=s.objectStore(ya),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&CD(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x_(t){let e;const n=await bv(t.appConfig,r=>{const s=SQ(r),i=TQ(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Cx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function SQ(t){const e=t||{fid:yQ(),registrationStatus:0};return RD(e)}function TQ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=CQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kQ(t)}:{installationEntry:e}}async function CQ(t,e){try{const n=await mQ(t,e);return Xm(t.appConfig,n)}catch(n){throw wD(n)&&n.customData.serverCode===409?await ND(t.appConfig):await Xm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kQ(t){let e=await F2(t.appConfig);for(;e.registrationStatus===1;)await SD(100),e=await F2(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await x_(t);return r||n}return e}function F2(t){return bv(t,e=>{if(!e)throw va.create("installation-not-found");return RD(e)})}function RD(t){return NQ(t)?{fid:t.fid,registrationStatus:0}:t}function NQ(t){return t.registrationStatus===1&&t.registrationTime+gD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RQ({appConfig:t,heartbeatServiceProvider:e},n){const r=PQ(t,n),s=hQ(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:vD,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await ID(()=>fetch(r,a));if(l.ok){const u=await l.json();return bD(u)}else throw await _D("Generate Auth Token",l)}function PQ(t,{fid:e}){return`${xD(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(t,e=!1){let n;const r=await bv(t.appConfig,i=>{if(!PD(i))throw va.create("not-registered");const o=i.authToken;if(!e&&DQ(o))return i;if(o.requestStatus===1)return n=AQ(t,e),i;{if(!navigator.onLine)throw va.create("app-offline");const a=MQ(i);return n=jQ(t,a),a}});return n?await n:r.authToken}async function AQ(t,e){let n=await $2(t.appConfig);for(;n.authToken.requestStatus===1;)await SD(100),n=await $2(t.appConfig);const r=n.authToken;return r.requestStatus===0?b_(t,e):r}function $2(t){return bv(t,e=>{if(!PD(e))throw va.create("not-registered");const n=e.authToken;return LQ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function jQ(t,e){try{const n=await RQ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Xm(t.appConfig,r),n}catch(n){if(wD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ND(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Xm(t.appConfig,r)}throw n}}function PD(t){return t!==void 0&&t.registrationStatus===2}function DQ(t){return t.requestStatus===2&&!OQ(t)}function OQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lQ}function MQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function LQ(t){return t.requestStatus===1&&t.requestTime+gD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await x_(e);return r?r.catch(console.error):b_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FQ(t,e=!1){const n=t;return await $Q(n),(await b_(n,e)).token}async function $Q(t){const{registrationPromise:e}=await x_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t){if(!t||!t.options)throw r0("App Configuration");if(!t.name)throw r0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw r0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function r0(t){return va.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="installations",BQ="installations-internal",zQ=t=>{const e=t.getProvider("app").getImmediate(),n=UQ(e),r=Ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},qQ=t=>{const e=t.getProvider("app").getImmediate(),n=Ca(e,AD).getImmediate();return{getId:()=>VQ(n),getToken:s=>FQ(n,s)}};function HQ(){Xr(new Cr(AD,zQ,"PUBLIC")),Xr(new Cr(BQ,qQ,"PRIVATE"))}HQ();Xn(mD,y_);Xn(mD,y_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="analytics",KQ="firebase_id",WQ="origin",GQ=60*1e3,QQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",__="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new Hg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new Ta("analytics","Analytics",YQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){if(!t.startsWith(__)){const e=Vn.create("invalid-gtag-resource",{gtagURL:t});return Cn.warn(e.message),""}return t}function jD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function XQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ZQ(t,e){const n=XQ("firebase-js-sdk-policy",{createScriptURL:JQ}),r=document.createElement("script"),s=`${__}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function eY(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function tY(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await jD(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){Cn.error(a)}t("config",s,i)}async function nY(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await jD(n);for(const l of o){const u=a.find(h=>h.measurementId===l),f=u&&e[u.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Cn.error(i)}}function rY(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await nY(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await tY(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Cn.error(a)}}return s}function sY(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=rY(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function iY(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(__)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=30,aY=1e3;class lY{constructor(e={},n=aY){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DD=new lY;function cY(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function uY(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:cY(r)},i=QQ.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function dY(t,e=DD,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Vn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Vn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new pY;return setTimeout(async()=>{a.abort()},n!==void 0?n:GQ),OD({appId:r,apiKey:s,measurementId:i},o,a,e)}async function OD(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=DD){var i;const{appId:o,measurementId:a}=t;try{await hY(r,e)}catch(l){if(a)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await uY(t);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!fY(u)){if(s.deleteThrottleMetadata(o),a)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const f=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?$S(n,s.intervalMillis,oY):$S(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,h),Cn.debug(`Calling attemptFetch again in ${f} millis`),OD(t,h,r,s)}}function hY(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fY(t){if(!(t instanceof kr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class pY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mY(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gY(){if(fb())try{await vA()}catch(t){return Cn.warn(Vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Cn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vY(t,e,n,r,s,i,o){var a;const l=dY(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Cn.error(m)),e.push(l);const u=gY().then(m=>{if(m)return r.getId()}),[f,h]=await Promise.all([l,u]);iY(i)||ZQ(i,f.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[WQ]="firebase",p.update=!0,h!=null&&(p[KQ]=h),s("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e){this.app=e}_delete(){return delete ud[this.app.options.appId],Promise.resolve()}}let ud={},U2=[];const B2={};let s0="dataLayer",wY="gtag",z2,MD,q2=!1;function xY(){const t=[];if(pA()&&t.push("This is a browser extension environment."),M7()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Vn.create("invalid-analytics-context",{errorInfo:e});Cn.warn(n.message)}}function bY(t,e,n){xY();const r=t.options.appId;if(!r)throw Vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(ud[r]!=null)throw Vn.create("already-exists",{id:r});if(!q2){eY(s0);const{wrappedGtag:i,gtagCore:o}=sY(ud,U2,B2,s0,wY);MD=i,z2=o,q2=!0}return ud[r]=vY(t,U2,B2,e,z2,s0,n),new yY(t)}function LD(t=Kg()){t=ft(t);const e=Ca(t,Zm);return e.isInitialized()?e.getImmediate():_Y(t)}function _Y(t,e={}){const n=Ca(t,Zm);if(n.isInitialized()){const s=n.getImmediate();if(Wi(e,n.getOptions()))return s;throw Vn.create("already-initialized")}return n.initialize({options:e})}function VD(t,e,n,r){t=ft(t),mY(MD,ud[t.app.options.appId],e,n,r).catch(s=>Cn.error(s))}const H2="@firebase/analytics",K2="0.10.16";function EY(){Xr(new Cr(Zm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return bY(r,s,n)},"PUBLIC")),Xr(new Cr("analytics-internal",t,"PRIVATE")),Xn(H2,K2),Xn(H2,K2,"esm2017");function t(e){try{const n=e.getProvider(Zm).getImmediate();return{logEvent:(r,s,i)=>VD(n,r,s,i)}}catch(n){throw Vn.create("interop-component-reg-failed",{reason:n})}}}EY();const IY={apiKey:"AIzaSyBdXqIXmmNqKQWgXvm87tbVTlrFYFa10YQ",authDomain:"nekosshop-d688c.firebaseapp.com",projectId:"nekosshop-d688c",storageBucket:"nekosshop-d688c.firebasestorage.app",messagingSenderId:"601866612932",appId:"1:601866612932:web:d72d2dabd76c4fbb9ed991",measurementId:"G-9XB0HV436J"},E_=HB().length?Kg():bA(IY),sl=iQ(E_),W2=new Br,us=bK(E_);typeof window<"u"&&_K(us).catch(t=>{t.code==="failed-precondition"?console.warn("Offline persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support all of the features required to enable offline persistence.")});typeof window<"u"&&LD(E_);const SY="recently_viewed_products",TY=12,il=()=>{var t;return((t=sl.currentUser)==null?void 0:t.uid)||"guest"},ls=()=>`${SY}_${il()}`,Dl={async addProduct(t,e=!1){const n=il();if(n==="guest"){const r=ls();let s=JSON.parse(localStorage.getItem(r)||"[]");s=s.filter(l=>l.productId!==t),s.unshift({productId:t,userId:n,timestamp:Date.now(),viewCount:1,isFavorite:e});const i=[],o=new Set;for(const l of s)o.has(l.productId)||(o.add(l.productId),i.push(l));const a=i.sort((l,u)=>u.timestamp-l.timestamp).slice(0,TY);localStorage.setItem(r,JSON.stringify(a));return}try{const r=Yy(us,"recentlyViewed",n,"products",t.toString()),s=Ka(),i=await Cu(Tu(Su(us,"recentlyViewed",n,"products"),Jy("productId","==",t),Xy(1)));if(i.empty)await y2(r,{productId:t,userId:n,timestamp:s,viewCount:1,isFavorite:e||!1,createdAt:s,updatedAt:s});else{const o=i.docs[0];await Zy(Yy(us,"recentlyViewed",n,"products",o.id),{timestamp:s,viewCount:(o.data().viewCount||0)+1,isFavorite:e||o.data().isFavorite||!1})}if(typeof window<"u")try{VD(LD(),"view_item",{items:[{item_id:t.toString(),item_name:`Product ${t}`,item_category:"product"}]})}catch(o){console.warn("Analytics error:",o)}}catch(r){if(console.error("Error adding to recently viewed:",r),r.code==="permission-denied"){console.warn("Permission denied. Falling back to localStorage.");const s=ls(),i=JSON.parse(localStorage.getItem(s)||"[]");i.unshift({productId:t,userId:n,timestamp:Date.now(),viewCount:1,isFavorite:e||!1}),localStorage.setItem(s,JSON.stringify(i))}throw r}},async getAll(){const t=il();if(t==="guest"){if(typeof window>"u")return[];try{const e=ls();return JSON.parse(localStorage.getItem(e)||"[]").filter(r=>r&&r.productId!==void 0&&r.timestamp!==void 0).map(r=>({...r,isFavorite:r.isFavorite||!1,viewCount:r.viewCount||1,userId:r.userId||"guest"})).sort((r,s)=>(s.timestamp||0)-(r.timestamp||0))}catch(e){return console.error("Error loading recently viewed products:",e),[]}}else try{const e=Tu(Su(us,"recentlyViewed",t,"products"),DK("timestamp","desc"));return(await Cu(e)).docs.map(s=>{var a,l,u;const i=s.data(),o=((u=(l=(a=i.timestamp)==null?void 0:a.toDate)==null?void 0:l.call(a))==null?void 0:u.getTime())||(typeof i.timestamp=="number"?i.timestamp:Date.now());return{id:s.id,...i,productId:i.productId||parseInt(s.id,10)||0,isFavorite:i.isFavorite||!1,viewCount:i.viewCount||1,timestamp:o,userId:i.userId||t}}).filter(s=>s.productId>0)}catch(e){if(console.error("Error fetching recently viewed products:",e),e.code==="permission-denied"){console.warn("Permission denied. Falling back to localStorage.");const n=ls();return JSON.parse(localStorage.getItem(n)||"[]").filter(s=>s&&s.productId!==void 0).map(s=>({...s,isFavorite:s.isFavorite||!1,viewCount:s.viewCount||1,userId:s.userId||t}))}return[]}},async getRecent(t=4){try{return(await this.getAll()).filter(r=>r&&r.productId!==void 0&&r.timestamp!==void 0).sort((r,s)=>(s.timestamp||0)-(r.timestamp||0)).slice(0,t).map(r=>({...r,isFavorite:r.isFavorite||!1,viewCount:r.viewCount||1}))}catch(e){return console.error("Error getting recent items:",e),[]}},async clear(){const t=il();if(t==="guest")localStorage.removeItem(ls());else try{const e=Tu(Su(us,"recentlyViewed",t,"products")),n=await Cu(e),r=[];n.forEach(s=>{r.push(w2(s.ref))}),await Promise.all(r)}catch(e){console.error("Error clearing recently viewed:",e),localStorage.removeItem(ls())}},async removeProduct(t){const e=il();if(e==="guest"){const r=(await this.getAll()).filter(s=>s.productId!==t);localStorage.setItem(ls(),JSON.stringify(r))}else try{const n=Tu(Su(us,"recentlyViewed",e,"products"),Jy("productId","==",t),Xy(1)),r=await Cu(n);r.empty||await w2(r.docs[0].ref)}catch(n){console.error("Error removing product from recently viewed:",n);const s=(await this.getAll()).filter(i=>i.productId!==t);localStorage.setItem(ls(),JSON.stringify(s))}},async updateFavoriteStatus(t,e){const n=il();if(n==="guest"){const r=ls(),s=JSON.parse(localStorage.getItem(r)||"[]"),i=s.findIndex(o=>o.productId===t);i>=0&&(s[i].isFavorite=e,localStorage.setItem(r,JSON.stringify(s)));return}try{const r=Yy(us,"recentlyViewed",n,"products",t.toString());try{await Zy(r,{isFavorite:e,updatedAt:Ka()});return}catch(s){if(s.code==="not-found"){console.log("Document not found, trying query...");const i=Tu(Su(us,"recentlyViewed",n,"products"),Jy("productId","==",t),Xy(1)),o=await Cu(i);if(o.empty)await y2(r,{productId:t,userId:n,timestamp:Ka(),viewCount:1,isFavorite:e,createdAt:Ka(),updatedAt:Ka()});else{const a=o.docs[0];await Zy(a.ref,{isFavorite:e,updatedAt:Ka()})}}else throw s}}catch(r){throw console.error("Error updating favorite status:",r),r}}},FD=g.createContext(void 0),CY=({children:t})=>{const[e,n]=g.useState([]);Ia(),ze(),g.useEffect(()=>{const a=yo.getFavorites();n(a)},[]);const r=a=>{yo.addToFavorites(a),n(yo.getFavorites()),Dl.updateFavoriteStatus(a,!0)},s=a=>{yo.removeFromFavorites(a),n(yo.getFavorites()),Dl.updateFavoriteStatus(a,!1)},i=a=>yo.isInFavorites(a),o=()=>{yo.clearFavorites(),n([])};return c.jsx(FD.Provider,{value:{favorites:e,addToFavorites:r,removeFromFavorites:s,isInFavorites:i,clearFavorites:o},children:t})},_v=()=>{const t=g.useContext(FD);if(t===void 0)throw new Error("useFavorites must be used within a FavoritesProvider");return t},$D=g.createContext(void 0),wa=()=>{const t=g.useContext($D);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},kY=({children:t})=>{const[e,n]=g.useState(!1),[r,s]=g.useState(null),[i,o]=g.useState(!0),{toast:a}=Ia(),{t:l}=ze(),u=g.useCallback(y=>{var _,E;if(!y)return null;let x=y.photoURL;if(y.providerData&&y.providerData.length>0){const C=(_=y.providerData[0])==null?void 0:_.photoURL;C&&(x=C.includes("=s96-c")?C.replace("=s96-c","=s400-c"):C)}return console.log("Mapped user with photoURL:",{uid:y.uid,photoURL:x,providerData:(E=y.providerData)==null?void 0:E.map(C=>({providerId:C.providerId,photoURL:C.photoURL}))}),{uid:y.uid,displayName:y.displayName,email:y.email,photoURL:x,emailVerified:y.emailVerified,phoneNumber:y.phoneNumber,providerData:Array.from(y.providerData||[]),purchasedProducts:[]}},[]);g.useEffect(()=>{const y=WW(sl,async x=>{if(x){const _=u(x);s(_),n(!0),localStorage.setItem("user",JSON.stringify(_))}else s(null),n(!1),localStorage.removeItem("user");o(!1)});return()=>y()},[u]),g.useEffect(()=>{r?localStorage.setItem("user",JSON.stringify(r)):localStorage.removeItem("user")},[r]);const w={isLoggedIn:e,user:r,loading:i,login:async(y,x)=>{try{const _=await zW(sl,y,x);a({title:l("auth.login_success"),description:l("auth.welcome",{name:_.user.displayName||_.user.email||""})})}catch(_){throw console.error("Login error:",_),a({title:l("auth.error"),description:_.message||l("auth.login_failed"),variant:"destructive"}),_}},signUp:async(y,x,_)=>{try{const E=await BW(sl,y,x);await N2(E.user,{displayName:_}),a({title:l("auth.signup_success"),description:l("auth.welcome",{name:_})})}catch(E){throw console.error("Signup error:",E),a({title:l("auth.error"),description:E.message||l("auth.signup_failed"),variant:"destructive"}),E}},logout:async()=>{try{await GW(sl),s(null),n(!1),a({title:l("auth.goodbye"),description:l("auth.logout_success")})}catch(y){throw console.error("Logout error:",y),a({title:l("auth.error"),description:"Failed to sign out",variant:"destructive"}),y}},signInWithGoogle:async()=>{var y;try{W2.setCustomParameters({prompt:"select_account"});const x=await pG(sl,W2),_=Br.credentialFromResult(x);if(_){const E=_.accessToken,C=x.user;if(C.providerData&&((y=C.providerData[0])!=null&&y.photoURL)){let R=C.providerData[0].photoURL;R.endsWith("=s96-c")&&(R=R.replace("=s96-c","=s400-c")),C.photoURL!==R&&await N2(C,{photoURL:R})}a({title:l("auth.login_success"),description:l("auth.welcome",{name:C.displayName||C.email||""})})}}catch(x){throw console.error("Google signin error:",x),a({title:l("auth.error"),description:x.message||l("auth.google_signin_failed"),variant:"destructive"}),x}},hasUserPurchasedProduct:y=>r?r.purchasedProducts.includes(y):!1};return c.jsx($D.Provider,{value:w,children:!i&&t})},NY=()=>{const[t,e]=g.useState(!0),[n,r]=g.useState(0);return g.useEffect(()=>{const s=setInterval(()=>{r(o=>o>=100?(clearInterval(s),100):o+Math.floor(Math.random()*10)+5)},100),i=setTimeout(()=>{e(!1),document.body.style.overflow="auto"},3e3);return document.body.style.overflow="hidden",()=>{clearInterval(s),clearTimeout(i),document.body.style.overflow="auto"}},[]),t?c.jsxs("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[c.jsx("div",{className:"relative w-64 h-64 mb-8 flex items-center justify-center",children:c.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[c.jsx("img",{src:"/lovable-uploads/nekos-logo.jpeg",alt:"NEKOS SHOP Logo",className:"w-3/4 h-3/4 object-contain rounded-full border-2 border-crimson/30 p-2"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-crimson/70 border-r-crimson/70 animate-spin-slow"}),c.jsx("div",{className:"absolute inset-4 rounded-full border-4 border-transparent border-b-crimson/50 border-l-crimson/50 animate-spin-slow-reverse"}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-crimson/5 animate-pulse"})]})}),c.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 font-medieval tracking-wider text-center",children:[c.jsx("span",{className:"text-crimson",children:"NEKOS"}),c.jsx("span",{className:"text-white",children:"SHOP"})]}),c.jsx("div",{className:"w-72 h-1.5 bg-gray-800/70 rounded-full overflow-hidden mt-2",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-crimson to-pink-500 transition-all duration-300 ease-out",style:{width:`${n}%`}})}),c.jsxs("p",{className:"text-gray-400 mt-4 text-sm font-mono tracking-wider",children:["LOADING ",n,"%"]})]}):null},RY=Th("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?b6:"button";return c.jsx(o,{className:ae(RY({variant:e,size:n,className:t})),ref:i,...s})});xe.displayName="Button";var _n=function(){return _n=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_n.apply(this,arguments)};function th(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Qe="-ms-",dd="-moz-",Me="-webkit-",UD="comm",Ev="rule",I_="decl",PY="@import",BD="@keyframes",AY="@layer",zD=Math.abs,S_=String.fromCharCode,kx=Object.assign;function jY(t,e){return Pt(t,0)^45?(((e<<2^Pt(t,0))<<2^Pt(t,1))<<2^Pt(t,2))<<2^Pt(t,3):0}function qD(t){return t.trim()}function hs(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function Mp(t,e,n){return t.indexOf(e,n)}function Pt(t,e){return t.charCodeAt(e)|0}function Ec(t,e,n){return t.slice(e,n)}function Fr(t){return t.length}function HD(t){return t.length}function Uu(t,e){return e.push(t),t}function DY(t,e){return t.map(e).join("")}function G2(t,e){return t.filter(function(n){return!hs(n,e)})}var Iv=1,Ic=1,KD=0,ir=0,gt=0,Wc="";function Sv(t,e,n,r,s,i,o,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Iv,column:Ic,length:o,return:"",siblings:a}}function si(t,e){return kx(Sv("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Wa(t){for(;t.root;)t=si(t.root,{children:[t]});Uu(t,t.siblings)}function OY(){return gt}function MY(){return gt=ir>0?Pt(Wc,--ir):0,Ic--,gt===10&&(Ic=1,Iv--),gt}function Er(){return gt=ir<KD?Pt(Wc,ir++):0,Ic++,gt===10&&(Ic=1,Iv++),gt}function Xo(){return Pt(Wc,ir)}function Lp(){return ir}function Tv(t,e){return Ec(Wc,t,e)}function Nx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LY(t){return Iv=Ic=1,KD=Fr(Wc=t),ir=0,[]}function VY(t){return Wc="",t}function i0(t){return qD(Tv(ir-1,Rx(t===91?t+2:t===40?t+1:t)))}function FY(t){for(;(gt=Xo())&&gt<33;)Er();return Nx(t)>2||Nx(gt)>3?"":" "}function $Y(t,e){for(;--e&&Er()&&!(gt<48||gt>102||gt>57&&gt<65||gt>70&&gt<97););return Tv(t,Lp()+(e<6&&Xo()==32&&Er()==32))}function Rx(t){for(;Er();)switch(gt){case t:return ir;case 34:case 39:t!==34&&t!==39&&Rx(gt);break;case 40:t===41&&Rx(t);break;case 92:Er();break}return ir}function UY(t,e){for(;Er()&&t+gt!==47+10;)if(t+gt===42+42&&Xo()===47)break;return"/*"+Tv(e,ir-1)+"*"+S_(t===47?t:Er())}function BY(t){for(;!Nx(Xo());)Er();return Tv(t,ir)}function zY(t){return VY(Vp("",null,null,null,[""],t=LY(t),0,[0],t))}function Vp(t,e,n,r,s,i,o,a,l){for(var u=0,f=0,h=o,p=0,m=0,b=0,w=1,y=1,x=1,_=0,E="",C=s,R=i,O=r,S=E;y;)switch(b=_,_=Er()){case 40:if(b!=108&&Pt(S,h-1)==58){Mp(S+=Ee(i0(_),"&","&\f"),"&\f",zD(u?a[u-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:S+=i0(_);break;case 9:case 10:case 13:case 32:S+=FY(b);break;case 92:S+=$Y(Lp()-1,7);continue;case 47:switch(Xo()){case 42:case 47:Uu(qY(UY(Er(),Lp()),e,n,l),l);break;default:S+="/"}break;case 123*w:a[u++]=Fr(S)*x;case 125*w:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+f:x==-1&&(S=Ee(S,/\f/g,"")),m>0&&Fr(S)-h&&Uu(m>32?Y2(S+";",r,n,h-1,l):Y2(Ee(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Uu(O=Q2(S,e,n,u,f,s,a,E,C=[],R=[],h,i),i),_===123)if(f===0)Vp(S,e,O,O,C,i,h,a,R);else switch(p===99&&Pt(S,3)===110?100:p){case 100:case 108:case 109:case 115:Vp(t,O,O,r&&Uu(Q2(t,O,O,0,0,s,a,E,s,C=[],h,R),R),s,R,h,a,r?C:R);break;default:Vp(S,O,O,O,[""],R,0,a,R)}}u=f=m=0,w=x=1,E=S="",h=o;break;case 58:h=1+Fr(S),m=b;default:if(w<1){if(_==123)--w;else if(_==125&&w++==0&&MY()==125)continue}switch(S+=S_(_),_*w){case 38:x=f>0?1:(S+="\f",-1);break;case 44:a[u++]=(Fr(S)-1)*x,x=1;break;case 64:Xo()===45&&(S+=i0(Er())),p=Xo(),f=h=Fr(E=S+=BY(Lp())),_++;break;case 45:b===45&&Fr(S)==2&&(w=0)}}return i}function Q2(t,e,n,r,s,i,o,a,l,u,f,h){for(var p=s-1,m=s===0?i:[""],b=HD(m),w=0,y=0,x=0;w<r;++w)for(var _=0,E=Ec(t,p+1,p=zD(y=o[w])),C=t;_<b;++_)(C=qD(y>0?m[_]+" "+E:Ee(E,/&\f/g,m[_])))&&(l[x++]=C);return Sv(t,e,n,s===0?Ev:a,l,u,f,h)}function qY(t,e,n,r){return Sv(t,e,n,UD,S_(OY()),Ec(t,2,-2),0,r)}function Y2(t,e,n,r,s){return Sv(t,e,n,I_,Ec(t,0,r),Ec(t,r+1,-1),r,s)}function WD(t,e,n){switch(jY(t,e)){case 5103:return Me+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+t+t;case 4789:return dd+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+t+dd+t+Qe+t+t;case 5936:switch(Pt(t,e+11)){case 114:return Me+t+Qe+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Me+t+Qe+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Me+t+Qe+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Me+t+Qe+t+t;case 6165:return Me+t+Qe+"flex-"+t+t;case 5187:return Me+t+Ee(t,/(\w+).+(:[^]+)/,Me+"box-$1$2"+Qe+"flex-$1$2")+t;case 5443:return Me+t+Qe+"flex-item-"+Ee(t,/flex-|-self/g,"")+(hs(t,/flex-|baseline/)?"":Qe+"grid-row-"+Ee(t,/flex-|-self/g,""))+t;case 4675:return Me+t+Qe+"flex-line-pack"+Ee(t,/align-content|flex-|-self/g,"")+t;case 5548:return Me+t+Qe+Ee(t,"shrink","negative")+t;case 5292:return Me+t+Qe+Ee(t,"basis","preferred-size")+t;case 6060:return Me+"box-"+Ee(t,"-grow","")+Me+t+Qe+Ee(t,"grow","positive")+t;case 4554:return Me+Ee(t,/([^-])(transform)/g,"$1"+Me+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+Qe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+t+t;case 4200:if(!hs(t,/flex-|baseline/))return Qe+"grid-column-align"+Ec(t,e)+t;break;case 2592:case 3360:return Qe+Ee(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,s){return e=s,hs(r.props,/grid-\w+-end/)})?~Mp(t+(n=n[e].value),"span",0)?t:Qe+Ee(t,"-start","")+t+Qe+"grid-row-span:"+(~Mp(n,"span",0)?hs(n,/\d+/):+hs(n,/\d+/)-+hs(t,/\d+/))+";":Qe+Ee(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hs(r.props,/grid-\w+-start/)})?t:Qe+Ee(Ee(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,Me+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fr(t)-1-e>6)switch(Pt(t,e+1)){case 109:if(Pt(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+dd+(Pt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Mp(t,"stretch",0)?WD(Ee(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ee(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,i,o,a,l,u){return Qe+s+":"+i+u+(o?Qe+s+"-span:"+(a?l:+l-+i)+u:"")+t});case 4949:if(Pt(t,e+6)===121)return Ee(t,":",":"+Me)+t;break;case 6444:switch(Pt(t,Pt(t,14)===45?18:11)){case 120:return Ee(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Me+(Pt(t,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+Qe+"$2box$3")+t;case 100:return Ee(t,":",":"+Qe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ee(t,"scroll-","scroll-snap-")+t}return t}function eg(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function HY(t,e,n,r){switch(t.type){case AY:if(t.children.length)break;case PY:case I_:return t.return=t.return||t.value;case UD:return"";case BD:return t.return=t.value+"{"+eg(t.children,r)+"}";case Ev:if(!Fr(t.value=t.props.join(",")))return""}return Fr(n=eg(t.children,r))?t.return=t.value+"{"+n+"}":""}function KY(t){var e=HD(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function WY(t){return function(e){e.root||(e=e.return)&&t(e)}}function GY(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case I_:t.return=WD(t.value,t.length,n);return;case BD:return eg([si(t,{value:Ee(t.value,"@","@"+Me)})],r);case Ev:if(t.length)return DY(n=t.props,function(s){switch(hs(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Wa(si(t,{props:[Ee(s,/:(read-\w+)/,":"+dd+"$1")]})),Wa(si(t,{props:[s]})),kx(t,{props:G2(n,r)});break;case"::placeholder":Wa(si(t,{props:[Ee(s,/:(plac\w+)/,":"+Me+"input-$1")]})),Wa(si(t,{props:[Ee(s,/:(plac\w+)/,":"+dd+"$1")]})),Wa(si(t,{props:[Ee(s,/:(plac\w+)/,Qe+"input-$1")]})),Wa(si(t,{props:[s]})),kx(t,{props:G2(n,r)});break}return""})}}var QY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sc=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",GD="active",QD="data-styled-version",Cv="6.1.18",T_=`/*!sc*/
`,tg=typeof window<"u"&&typeof document<"u",YY=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),kv=Object.freeze([]),Tc=Object.freeze({});function JY(t,e,n){return n===void 0&&(n=Tc),t.theme!==n.theme&&t.theme||e||n.theme}var YD=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),XY=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ZY=/(^-|-$)/g;function J2(t){return t.replace(XY,"-").replace(ZY,"")}var eJ=/(a)(d)/gi,Jf=52,X2=function(t){return String.fromCharCode(t+(t>25?39:97))};function Px(t){var e,n="";for(e=Math.abs(t);e>Jf;e=e/Jf|0)n=X2(e%Jf)+n;return(X2(e%Jf)+n).replace(eJ,"$1-$2")}var o0,JD=5381,yl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},XD=function(t){return yl(JD,t)};function ZD(t){return Px(XD(t)>>>0)}function tJ(t){return t.displayName||t.name||"Component"}function a0(t){return typeof t=="string"&&!0}var eO=typeof Symbol=="function"&&Symbol.for,tO=eO?Symbol.for("react.memo"):60115,nJ=eO?Symbol.for("react.forward_ref"):60112,rJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iJ=((o0={})[nJ]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o0[tO]=nO,o0);function Z2(t){return("type"in(e=t)&&e.type.$$typeof)===tO?nO:"$$typeof"in t?iJ[t.$$typeof]:rJ;var e}var oJ=Object.defineProperty,aJ=Object.getOwnPropertyNames,eC=Object.getOwnPropertySymbols,lJ=Object.getOwnPropertyDescriptor,cJ=Object.getPrototypeOf,tC=Object.prototype;function rO(t,e,n){if(typeof e!="string"){if(tC){var r=cJ(e);r&&r!==tC&&rO(t,r,n)}var s=aJ(e);eC&&(s=s.concat(eC(e)));for(var i=Z2(t),o=Z2(e),a=0;a<s.length;++a){var l=s[a];if(!(l in sJ||n&&n[l]||o&&l in o||i&&l in i)){var u=lJ(e,l);try{oJ(t,l,u)}catch{}}}}return t}function Cc(t){return typeof t=="function"}function C_(t){return typeof t=="object"&&"styledComponentId"in t}function Lo(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Ax(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function nh(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function jx(t,e,n){if(n===void 0&&(n=!1),!n&&!nh(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=jx(t[r],e[r]);else if(nh(e))for(var r in e)t[r]=jx(t[r],e[r]);return t}function k_(t,e){Object.defineProperty(t,"toString",{value:e})}function Hh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var uJ=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,i=s;e>=i;)if((i<<=1)<0)throw Hh(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=s;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n;this.groupSizes[e]=0;for(var i=r;i<s;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),i=s+r,o=s;o<i;o++)n+="".concat(this.tag.getRule(o)).concat(T_);return n},t}(),Fp=new Map,ng=new Map,$p=1,Xf=function(t){if(Fp.has(t))return Fp.get(t);for(;ng.has($p);)$p++;var e=$p++;return Fp.set(t,e),ng.set(e,t),e},dJ=function(t,e){$p=e+1,Fp.set(t,e),ng.set(e,t)},hJ="style[".concat(Sc,"][").concat(QD,'="').concat(Cv,'"]'),fJ=new RegExp("^".concat(Sc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),pJ=function(t,e,n){for(var r,s=n.split(","),i=0,o=s.length;i<o;i++)(r=s[i])&&t.registerName(e,r)},mJ=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(T_),s=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var l=a.match(fJ);if(l){var u=0|parseInt(l[1],10),f=l[2];u!==0&&(dJ(f,u),pJ(t,f,l[3]),t.getTag().insertRules(u,s)),s.length=0}else s.push(a)}}},nC=function(t){for(var e=document.querySelectorAll(hJ),n=0,r=e.length;n<r;n++){var s=e[n];s&&s.getAttribute(Sc)!==GD&&(mJ(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function gJ(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var sO=function(t){var e=document.head,n=t||e,r=document.createElement("style"),s=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Sc,"]")));return l[l.length-1]}(n),i=s!==void 0?s.nextSibling:null;r.setAttribute(Sc,GD),r.setAttribute(QD,Cv);var o=gJ();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},vJ=function(){function t(e){this.element=sO(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,i=r.length;s<i;s++){var o=r[s];if(o.ownerNode===n)return o}throw Hh(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),yJ=function(){function t(e){this.element=sO(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),wJ=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),rC=tg,xJ={isServer:!tg,useCSSOMInjection:!YY},iO=function(){function t(e,n,r){e===void 0&&(e=Tc),n===void 0&&(n={});var s=this;this.options=_n(_n({},xJ),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&tg&&rC&&(rC=!1,nC(this)),k_(this,function(){return function(i){for(var o=i.getTag(),a=o.length,l="",u=function(h){var p=function(x){return ng.get(x)}(h);if(p===void 0)return"continue";var m=i.names.get(p),b=o.getGroup(h);if(m===void 0||!m.size||b.length===0)return"continue";var w="".concat(Sc,".g").concat(h,'[id="').concat(p,'"]'),y="";m!==void 0&&m.forEach(function(x){x.length>0&&(y+="".concat(x,","))}),l+="".concat(b).concat(w,'{content:"').concat(y,'"}').concat(T_)},f=0;f<a;f++)u(f);return l}(s)})}return t.registerId=function(e){return Xf(e)},t.prototype.rehydrate=function(){!this.server&&tg&&nC(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(_n(_n({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new wJ(s):r?new vJ(s):new yJ(s)}(this.options),new uJ(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Xf(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Xf(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Xf(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),bJ=/&/g,_J=/^\s*\/\/.*$/gm;function oO(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=oO(n.children,e)),n})}function EJ(t){var e,n,r,s=t===void 0?Tc:t,i=s.options,o=i===void 0?Tc:i,a=s.plugins,l=a===void 0?kv:a,u=function(p,m,b){return b.startsWith(n)&&b.endsWith(n)&&b.replaceAll(n,"").length>0?".".concat(e):p},f=l.slice();f.push(function(p){p.type===Ev&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(bJ,n).replace(r,u))}),o.prefix&&f.push(GY),f.push(HY);var h=function(p,m,b,w){m===void 0&&(m=""),b===void 0&&(b=""),w===void 0&&(w="&"),e=w,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var y=p.replace(_J,""),x=zY(b||m?"".concat(b," ").concat(m," { ").concat(y," }"):y);o.namespace&&(x=oO(x,o.namespace));var _=[];return eg(x,KY(f.concat(WY(function(E){return _.push(E)})))),_};return h.hash=l.length?l.reduce(function(p,m){return m.name||Hh(15),yl(p,m.name)},JD).toString():"",h}var IJ=new iO,Dx=EJ(),aO=Q.createContext({shouldForwardProp:void 0,styleSheet:IJ,stylis:Dx});aO.Consumer;Q.createContext(void 0);function sC(){return g.useContext(aO)}var lO=function(){function t(e,n){var r=this;this.inject=function(s,i){i===void 0&&(i=Dx);var o=r.name+i.hash;s.hasNameForId(r.id,o)||s.insertRules(r.id,o,i(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,k_(this,function(){throw Hh(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Dx),this.name+e.hash},t}(),SJ=function(t){return t>="A"&&t<="Z"};function iC(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;SJ(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var cO=function(t){return t==null||t===!1||t===""},uO=function(t){var e,n,r=[];for(var s in t){var i=t[s];t.hasOwnProperty(s)&&!cO(i)&&(Array.isArray(i)&&i.isCss||Cc(i)?r.push("".concat(iC(s),":"),i,";"):nh(i)?r.push.apply(r,th(th(["".concat(s," {")],uO(i),!1),["}"],!1)):r.push("".concat(iC(s),": ").concat((e=s,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in QY||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Zo(t,e,n,r){if(cO(t))return[];if(C_(t))return[".".concat(t.styledComponentId)];if(Cc(t)){if(!Cc(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var s=t(e);return Zo(s,e,n,r)}var i;return t instanceof lO?n?(t.inject(n,r),[t.getName(r)]):[t]:nh(t)?uO(t):Array.isArray(t)?Array.prototype.concat.apply(kv,t.map(function(o){return Zo(o,e,n,r)})):[t.toString()]}function TJ(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Cc(n)&&!C_(n))return!1}return!0}var CJ=XD(Cv),kJ=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&TJ(e),this.componentId=n,this.baseHash=yl(CJ,n),this.baseStyle=r,iO.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=Lo(s,this.staticRulesId);else{var i=Ax(Zo(this.rules,e,n,r)),o=Px(yl(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(i,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}s=Lo(s,o),this.staticRulesId=o}else{for(var l=yl(this.baseHash,r.hash),u="",f=0;f<this.rules.length;f++){var h=this.rules[f];if(typeof h=="string")u+=h;else if(h){var p=Ax(Zo(h,e,n,r));l=yl(l,p+f),u+=p}}if(u){var m=Px(l>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),s=Lo(s,m)}}return s},t}(),dO=Q.createContext(void 0);dO.Consumer;var l0={};function NJ(t,e,n){var r=C_(t),s=t,i=!a0(t),o=e.attrs,a=o===void 0?kv:o,l=e.componentId,u=l===void 0?function(C,R){var O=typeof C!="string"?"sc":J2(C);l0[O]=(l0[O]||0)+1;var S="".concat(O,"-").concat(ZD(Cv+O+l0[O]));return R?"".concat(R,"-").concat(S):S}(e.displayName,e.parentComponentId):l,f=e.displayName,h=f===void 0?function(C){return a0(C)?"styled.".concat(C):"Styled(".concat(tJ(C),")")}(t):f,p=e.displayName&&e.componentId?"".concat(J2(e.displayName),"-").concat(e.componentId):e.componentId||u,m=r&&s.attrs?s.attrs.concat(a).filter(Boolean):a,b=e.shouldForwardProp;if(r&&s.shouldForwardProp){var w=s.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;b=function(C,R){return w(C,R)&&y(C,R)}}else b=w}var x=new kJ(n,p,r?s.componentStyle:void 0);function _(C,R){return function(O,S,I){var N=O.attrs,k=O.componentStyle,D=O.defaultProps,P=O.foldedComponentIds,j=O.styledComponentId,K=O.target,X=Q.useContext(dO),U=sC(),G=O.shouldForwardProp||U.shouldForwardProp,M=JY(S,X,D)||Tc,F=function(ie,ce,be){for(var Je,Oe=_n(_n({},ce),{className:void 0,theme:be}),at=0;at<ie.length;at+=1){var pn=Cc(Je=ie[at])?Je(Oe):Je;for(var St in pn)Oe[St]=St==="className"?Lo(Oe[St],pn[St]):St==="style"?_n(_n({},Oe[St]),pn[St]):pn[St]}return ce.className&&(Oe.className=Lo(Oe.className,ce.className)),Oe}(N,S,M),W=F.as||K,z={};for(var q in F)F[q]===void 0||q[0]==="$"||q==="as"||q==="theme"&&F.theme===M||(q==="forwardedAs"?z.as=F.forwardedAs:G&&!G(q,W)||(z[q]=F[q]));var Z=function(ie,ce){var be=sC(),Je=ie.generateAndInjectStyles(ce,be.styleSheet,be.stylis);return Je}(k,F),ue=Lo(P,j);return Z&&(ue+=" "+Z),F.className&&(ue+=" "+F.className),z[a0(W)&&!YD.has(W)?"class":"className"]=ue,I&&(z.ref=I),g.createElement(W,z)}(E,C,R)}_.displayName=h;var E=Q.forwardRef(_);return E.attrs=m,E.componentStyle=x,E.displayName=h,E.shouldForwardProp=b,E.foldedComponentIds=r?Lo(s.foldedComponentIds,s.styledComponentId):"",E.styledComponentId=p,E.target=r?s.target:t,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(R){for(var O=[],S=1;S<arguments.length;S++)O[S-1]=arguments[S];for(var I=0,N=O;I<N.length;I++)jx(R,N[I],!0);return R}({},s.defaultProps,C):C}}),k_(E,function(){return".".concat(E.styledComponentId)}),i&&rO(E,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function oC(t,e){for(var n=[t[0]],r=0,s=e.length;r<s;r+=1)n.push(e[r],t[r+1]);return n}var aC=function(t){return Object.assign(t,{isCss:!0})};function hO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Cc(t)||nh(t))return aC(Zo(oC(kv,th([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Zo(r):aC(Zo(oC(r,e)))}function Ox(t,e,n){if(n===void 0&&(n=Tc),!e)throw Hh(1,e);var r=function(s){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(e,n,hO.apply(void 0,th([s],i,!1)))};return r.attrs=function(s){return Ox(t,e,_n(_n({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return Ox(t,e,_n(_n({},n),s))},r}var fO=function(t){return Ox(NJ,t)},pO=fO;YD.forEach(function(t){pO[t]=fO(t)});function Nv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ax(hO.apply(void 0,th([t],e,!1))),s=ZD(r);return new lO(s,r)}const RJ=Th("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function lC({className:t,variant:e,...n}){return c.jsx("div",{className:ae(RJ({variant:e}),t),...n})}const PJ=({item:t})=>{const{removeFromCart:e,updateQuantity:n}=so(),{t:r,language:s}=ze(),i=()=>{e(t.product.id)};return c.jsxs("div",{className:"flex gap-4 py-4 border-b relative group",children:[c.jsxs("div",{className:"flex-shrink-0 relative",children:[c.jsx(De,{to:`/product/${t.product.id}`,className:"w-16 h-16 block bg-gray-100 rounded overflow-hidden hover:opacity-90 transition-opacity",children:t.product.images&&t.product.images.length>0?c.jsx("img",{src:t.product.images[0],alt:t.product.name[s],className:"w-full h-full object-cover",onError:o=>{const a=o.target;a.src="/placeholder-product.jpg"}}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:c.jsx("span",{className:"text-xs text-gray-500",children:"No image"})})}),c.jsx("div",{className:"absolute -top-1 -right-1 bg-crimson text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:t.quantity})]}),c.jsxs("div",{className:"flex flex-col flex-grow",children:[c.jsx(De,{to:`/product/${t.product.id}`,className:"font-medium text-[1.1em] leading-tight hover:underline hover:text-primary line-clamp-2",children:t.product.name[s]||t.product.name.ru||"Product"}),c.jsxs("div",{className:"mt-auto pt-2 flex items-center justify-between",children:[c.jsxs("span",{className:"text-[1.21em] font-bold text-crimson",children:[t.product.price*t.quantity," "]}),c.jsxs("button",{onClick:i,"aria-label":r("cart.remove"),className:"group relative p-2 text-gray-400 hover:text-white transition-colors duration-200",children:[c.jsxs("div",{className:"relative",children:[c.jsx(RF,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),c.jsx("span",{className:"absolute inset-0 bg-red-500/0 group-hover:bg-red-500/20 rounded-full transition-all duration-300 scale-0 group-hover:scale-100"})]}),c.jsx("span",{className:"sr-only",children:r("cart.remove")})]})]})]})]})};var c0="focusScope.autoFocusOnMount",u0="focusScope.autoFocusOnUnmount",cC={bubbles:!1,cancelable:!0},AJ="FocusScope",N_=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=kn(s),f=kn(i),h=g.useRef(null),p=Ue(e,w=>l(w)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(E){if(m.paused||!a)return;const C=E.target;a.contains(C)?h.current=C:ii(h.current,{select:!0})},y=function(E){if(m.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||ii(h.current,{select:!0}))},x=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&ii(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",y);const _=new MutationObserver(x);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",y),_.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){dC.add(m);const w=document.activeElement;if(!a.contains(w)){const x=new CustomEvent(c0,cC);a.addEventListener(c0,u),a.dispatchEvent(x),x.defaultPrevented||(jJ(VJ(mO(a)),{select:!0}),document.activeElement===w&&ii(a))}return()=>{a.removeEventListener(c0,u),setTimeout(()=>{const x=new CustomEvent(u0,cC);a.addEventListener(u0,f),a.dispatchEvent(x),x.defaultPrevented||ii(w??document.body,{select:!0}),a.removeEventListener(u0,f),dC.remove(m)},0)}}},[a,u,f,m]);const b=g.useCallback(w=>{if(!n&&!r||m.paused)return;const y=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(y&&x){const _=w.currentTarget,[E,C]=DJ(_);E&&C?!w.shiftKey&&x===C?(w.preventDefault(),n&&ii(E,{select:!0})):w.shiftKey&&x===E&&(w.preventDefault(),n&&ii(C,{select:!0})):x===_&&w.preventDefault()}},[n,r,m.paused]);return c.jsx(ge.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});N_.displayName=AJ;function jJ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ii(r,{select:e}),document.activeElement!==n)return}function DJ(t){const e=mO(t),n=uC(e,t),r=uC(e.reverse(),t);return[n,r]}function mO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uC(t,e){for(const n of t)if(!OJ(n,{upTo:e}))return n}function OJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MJ(t){return t instanceof HTMLInputElement&&"select"in t}function ii(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&MJ(t)&&e&&t.select()}}var dC=LJ();function LJ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=hC(t,e),t.unshift(e)},remove(e){var n;t=hC(t,e),(n=t[0])==null||n.resume()}}}function hC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function VJ(t){return t.filter(e=>e.tagName!=="A")}var d0=0;function gO(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fC()),document.body.insertAdjacentElement("beforeend",t[1]??fC()),d0++,()=>{d0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),d0--}},[])}function fC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Up="right-scroll-bar-position",Bp="width-before-scroll-bar",FJ="with-scroll-bars-hidden",$J="--removed-body-scroll-bar-size";function h0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function UJ(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var BJ=typeof window<"u"?g.useLayoutEffect:g.useEffect,pC=new WeakMap;function zJ(t,e){var n=UJ(e||null,function(r){return t.forEach(function(s){return h0(s,r)})});return BJ(function(){var r=pC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||h0(a,null)}),i.forEach(function(a){s.has(a)||h0(a,o)})}pC.set(n,t)},[t]),n}function qJ(t){return t}function HJ(t,e){e===void 0&&(e=qJ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return s}function KJ(t){t===void 0&&(t={});var e=HJ(null);return e.options=Ur({async:!0,ssr:!1},t),e}var vO=function(t){var e=t.sideCar,n=$h(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ur({},n))};vO.isSideCarExport=!0;function WJ(t,e){return t.useMedium(e),vO}var yO=KJ(),f0=function(){},Rv=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:f0,onWheelCapture:f0,onTouchMoveCapture:f0}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,m=t.noRelative,b=t.noIsolation,w=t.inert,y=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,E=t.gapMode,C=$h(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,O=zJ([n,e]),S=Ur(Ur({},C),s);return g.createElement(g.Fragment,null,f&&g.createElement(R,{sideCar:yO,removeScrollBar:u,shards:h,noRelative:m,noIsolation:b,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:E}),o?g.cloneElement(g.Children.only(a),Ur(Ur({},S),{ref:O})):g.createElement(_,Ur({},S,{className:l,ref:O}),a))});Rv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rv.classNames={fullWidth:Bp,zeroRight:Up};var mC,GJ=function(){if(mC)return mC;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=GJ();return e&&t.setAttribute("nonce",e),t}function YJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function JJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var XJ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=QJ())&&(YJ(e,n),JJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ZJ=function(){var t=XJ();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wO=function(){var t=ZJ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},eX={left:0,top:0,right:0,gap:0},p0=function(t){return parseInt(t||"",10)||0},tX=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[p0(n),p0(r),p0(s)]},nX=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eX;var e=tX(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},rX=wO(),Ol="data-scroll-locked",sX=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(FJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ol,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Up,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Up," .").concat(Up,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bp," .").concat(Bp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ol,`] {
    `).concat($J,": ").concat(a,`px;
  }
`)},gC=function(){var t=parseInt(document.body.getAttribute(Ol)||"0",10);return isFinite(t)?t:0},iX=function(){g.useEffect(function(){return document.body.setAttribute(Ol,(gC()+1).toString()),function(){var t=gC()-1;t<=0?document.body.removeAttribute(Ol):document.body.setAttribute(Ol,t.toString())}},[])},oX=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;iX();var i=g.useMemo(function(){return nX(s)},[s]);return g.createElement(rX,{styles:sX(i,!e,s,n?"":"!important")})},Mx=!1;if(typeof window<"u")try{var Zf=Object.defineProperty({},"passive",{get:function(){return Mx=!0,!0}});window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch{Mx=!1}var Ga=Mx?{passive:!1}:!1,aX=function(t){return t.tagName==="TEXTAREA"},xO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!aX(t)&&n[e]==="visible")},lX=function(t){return xO(t,"overflowY")},cX=function(t){return xO(t,"overflowX")},vC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=bO(t,r);if(s){var i=_O(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uX=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dX=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bO=function(t,e){return t==="v"?lX(e):cX(e)},_O=function(t,e){return t==="v"?uX(e):dX(e)},hX=function(t,e){return t==="h"&&e==="rtl"?-1:1},fX=function(t,e,n,r,s){var i=hX(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,f=o>0,h=0,p=0;do{var m=_O(t,a),b=m[0],w=m[1],y=m[2],x=w-y-i*b;(b||x)&&bO(t,a)&&(h+=x,p+=b),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(s&&Math.abs(h)<1||!s&&o>h)||!f&&(s&&Math.abs(p)<1||!s&&-o>p))&&(u=!0),u},ep=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yC=function(t){return[t.deltaX,t.deltaY]},wC=function(t){return t&&"current"in t?t.current:t},pX=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gX=0,Qa=[];function vX(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(gX++)[0],i=g.useState(wO)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=zK([t.lockRef.current],(t.shards||[]).map(wC),!0).filter(Boolean);return w.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,y){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var x=ep(w),_=n.current,E="deltaX"in w?w.deltaX:_[0]-x[0],C="deltaY"in w?w.deltaY:_[1]-x[1],R,O=w.target,S=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in w&&S==="h"&&O.type==="range")return!1;var I=vC(S,O);if(!I)return!0;if(I?R=S:(R=S==="v"?"h":"v",I=vC(S,O)),!I)return!1;if(!r.current&&"changedTouches"in w&&(E||C)&&(r.current=R),!R)return!0;var N=r.current||R;return fX(N,y,w,N==="h"?E:C,!0)},[]),l=g.useCallback(function(w){var y=w;if(!(!Qa.length||Qa[Qa.length-1]!==i)){var x="deltaY"in y?yC(y):ep(y),_=e.current.filter(function(R){return R.name===y.type&&(R.target===y.target||y.target===R.shadowParent)&&pX(R.delta,x)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var E=(o.current.shards||[]).map(wC).filter(Boolean).filter(function(R){return R.contains(y.target)}),C=E.length>0?a(y,E[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=g.useCallback(function(w,y,x,_){var E={name:w,delta:y,target:x,should:_,shadowParent:yX(x)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(C){return C!==E})},1)},[]),f=g.useCallback(function(w){n.current=ep(w),r.current=void 0},[]),h=g.useCallback(function(w){u(w.type,yC(w),w.target,a(w,t.lockRef.current))},[]),p=g.useCallback(function(w){u(w.type,ep(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return Qa.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ga),document.addEventListener("touchmove",l,Ga),document.addEventListener("touchstart",f,Ga),function(){Qa=Qa.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,Ga),document.removeEventListener("touchmove",l,Ga),document.removeEventListener("touchstart",f,Ga)}},[]);var m=t.removeScrollBar,b=t.inert;return g.createElement(g.Fragment,null,b?g.createElement(i,{styles:mX(s)}):null,m?g.createElement(oX,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function yX(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const wX=WJ(yO,vX);var EO=g.forwardRef(function(t,e){return g.createElement(Rv,Ur({},t,{ref:e,sideCar:wX}))});EO.classNames=Rv.classNames;const IO=EO;var xX=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ya=new WeakMap,tp=new WeakMap,np={},m0=0,SO=function(t){return t&&(t.host||SO(t.parentNode))},bX=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=SO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},_X=function(t,e,n,r){var s=bX(e,Array.isArray(t)?t:[t]);np[n]||(np[n]=new WeakMap);var i=np[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var m=p.getAttribute(r),b=m!==null&&m!=="false",w=(Ya.get(p)||0)+1,y=(i.get(p)||0)+1;Ya.set(p,w),i.set(p,y),o.push(p),w===1&&b&&tp.set(p,!0),y===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return f(e),a.clear(),m0++,function(){o.forEach(function(h){var p=Ya.get(h)-1,m=i.get(h)-1;Ya.set(h,p),i.set(h,m),p||(tp.has(h)||h.removeAttribute(r),tp.delete(h)),m||h.removeAttribute(n)}),m0--,m0||(Ya=new WeakMap,Ya=new WeakMap,tp=new WeakMap,np={})}},TO=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||xX(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),_X(r,s,n,"aria-hidden")):function(){return null}},Pv="Dialog",[CO,Qne]=zn(Pv),[EX,Nr]=CO(Pv),kO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u,f]=to({prop:r,defaultProp:s??!1,onChange:i,caller:Pv});return c.jsx(EX,{scope:e,triggerRef:a,contentRef:l,contentId:Di(),titleId:Di(),descriptionId:Di(),open:u,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};kO.displayName=Pv;var NO="DialogTrigger",RO=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(NO,n),i=Ue(e,s.triggerRef);return c.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":A_(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)})});RO.displayName=NO;var R_="DialogPortal",[IX,PO]=CO(R_,{forceMount:void 0}),AO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Nr(R_,e);return c.jsx(IX,{scope:e,forceMount:n,children:g.Children.map(r,o=>c.jsx(or,{present:n||i.open,children:c.jsx(Ag,{asChild:!0,container:s,children:o})}))})};AO.displayName=R_;var rg="DialogOverlay",jO=g.forwardRef((t,e)=>{const n=PO(rg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nr(rg,t.__scopeDialog);return i.modal?c.jsx(or,{present:r||i.open,children:c.jsx(TX,{...s,ref:e})}):null});jO.displayName=rg;var SX=sc("DialogOverlay.RemoveScroll"),TX=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(rg,n);return c.jsx(IO,{as:SX,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ge.div,{"data-state":A_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),xa="DialogContent",DO=g.forwardRef((t,e)=>{const n=PO(xa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nr(xa,t.__scopeDialog);return c.jsx(or,{present:r||i.open,children:i.modal?c.jsx(CX,{...s,ref:e}):c.jsx(kX,{...s,ref:e})})});DO.displayName=xa;var CX=g.forwardRef((t,e)=>{const n=Nr(xa,t.__scopeDialog),r=g.useRef(null),s=Ue(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return TO(i)},[]),c.jsx(OO,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),kX=g.forwardRef((t,e)=>{const n=Nr(xa,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return c.jsx(OO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OO=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Nr(xa,n),l=g.useRef(null),u=Ue(e,l);return gO(),c.jsxs(c.Fragment,{children:[c.jsx(N_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Ih,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":A_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(NX,{titleId:a.titleId}),c.jsx(PX,{contentRef:l,descriptionId:a.descriptionId})]})]})}),P_="DialogTitle",MO=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(P_,n);return c.jsx(ge.h2,{id:s.titleId,...r,ref:e})});MO.displayName=P_;var LO="DialogDescription",VO=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(LO,n);return c.jsx(ge.p,{id:s.descriptionId,...r,ref:e})});VO.displayName=LO;var FO="DialogClose",$O=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(FO,n);return c.jsx(ge.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});$O.displayName=FO;function A_(t){return t?"open":"closed"}var UO="DialogTitleWarning",[Yne,BO]=w6(UO,{contentName:xa,titleName:P_,docsSlug:"dialog"}),NX=({titleId:t})=>{const e=BO(UO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},RX="DialogDescriptionWarning",PX=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BO(RX).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},j_=kO,zO=RO,D_=AO,Kh=jO,Wh=DO,Av=MO,jv=VO,O_=$O;const xC=j_,bC=zO,AX=O_,jX=D_,qO=g.forwardRef(({className:t,...e},n)=>c.jsx(Kh,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));qO.displayName=Kh.displayName;const DX=Th("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Lx=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(jX,{children:[c.jsx(qO,{}),c.jsxs(Wh,{ref:s,className:ae(DX({side:t}),e),...r,children:[n,c.jsxs(O_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(yr,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lx.displayName=Wh.displayName;const Vx=({className:t,...e})=>c.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});Vx.displayName="SheetHeader";const HO=g.forwardRef(({className:t,...e},n)=>c.jsx(Av,{ref:n,className:ae("text-lg font-semibold text-foreground",t),...e}));HO.displayName=Av.displayName;const OX=g.forwardRef(({className:t,...e},n)=>c.jsx(jv,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));OX.displayName=jv.displayName;const kc=j_,Fx=zO,MX=D_,KO=g.forwardRef(({className:t,...e},n)=>c.jsx(Kh,{ref:n,className:ae("fixed inset-0 z-50 bg-gray-900/60  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));KO.displayName=Kh.displayName;const ba=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(MX,{children:[c.jsx(KO,{}),c.jsxs(Wh,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(O_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(yr,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ba.displayName=Wh.displayName;const Nc=({className:t,...e})=>c.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Nc.displayName="DialogHeader";const WO=({className:t,...e})=>c.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});WO.displayName="DialogFooter";const Rc=g.forwardRef(({className:t,...e},n)=>c.jsx(Av,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));Rc.displayName=Av.displayName;const LX=g.forwardRef(({className:t,...e},n)=>c.jsx(jv,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));LX.displayName=jv.displayName;const Gh=[{id:37,name:{ru:' " "',en:'Choker "Dream Catcher"',ge:' " "'},description:{ru:'            " ".                 .         ,   ,    .       ,     ,       .',en:'Protect your dreams and add a mystical touch to your look with the "Dream Catcher" choker. This unique accessory is crafted from a wide strip of deep brown genuine leather and adorned with a large metal ring. From the ring cascade woven threads and decorative elements reminiscent of a dream catcher, designed to trap bad dreams. Copper rivets add expressiveness and individuality to the choker, making it perfect for those who appreciate ethnic motifs and unusual jewelry.',ge:'          " ".                .        ,    ,     .        ,     ,       .'},price:35,originalPrice:0,currency:"",images:["/lovable-uploads/496509400_743942131472387_8262938680518641557_n.jpg","/lovable-uploads/496509400_743942131472387_8262938680518641557_n_2.jpg"],category:"chokers",stock:1,featured:!0,materials:[" ",""," "],colors:["",""],onSale:!1},{id:36,name:{ru:' " "',en:'Choker "Double Confession"',ge:' " "'},description:{ru:'     " "!              ,     .         ,        "Love".    ,          ,    .',en:'Express your feelings with the "Double Confession" choker! This delicate and stylish accessory consists of two thin straps - black and burgundy - that elegantly wrap around the neck. The centerpiece is a three-dimensional rhombus pendant featuring an ornate heart with the word "Love" inside. The perfect choice for those seeking a romantic yet modern piece of jewelry that symbolizes love and individuality.',ge:'    " "!          -     -    .  -    ,      "Love".   ,       ,     .'},price:35,originalPrice:0,currency:"",images:["/lovable-uploads/494361586_1116622167153556_2158416052284255224_n.jpg","/lovable-uploads/494361586_1116622167153556_2158416052284255224_n_2.jpg"],category:"chokers",stock:1,featured:!0,materials:[" ",""],colors:["",""],onSale:!1},{id:35,name:{ru:' " "',en:'Choker "Echo of Ages"',ge:' " "'},description:{ru:'     " ".           ,         .  ,    ,        . " "   ,   ;   ,       .',en:`Feel the breath of history with the "Echo of Ages" choker. This unique piece is handcrafted from natural leather and antique coins, each carrying the secrets of past eras. These coins, carefully woven into the design, give the choker a special depth and a unique vintage character. "Echo of Ages" is more than just an accessory; it's a carrier of history that will add mystery and individuality to your look.`,ge:'    " ".           ,     .  ,   ,        . " "   ;   ,       .'},price:45,originalPrice:0,currency:"",images:["/lovable-uploads/monet.jpg","/lovable-uploads/monet_2.jpg"],category:"chokers",stock:1,featured:!0,materials:[" ",""," "],colors:["",""],onSale:!1},{id:34,name:{ru:' "-"',en:'Earrings "Gummy Bear"',ge:' " "'},description:{ru:'        "-"!   ,      ,     .          -       ',en:'Immerse yourself in a world of carefree joy with our "Gummy Bear" earrings! These playful accessories, designed in the shape of adorable gummy bears, will be your daily dose of sweetness. The vibrant color and lightweight design will make every look truly unique and lift your spirits',ge:'      " " !   ,     ,     .             '},price:15,originalPrice:0,currency:"",images:["/lovable-uploads/datv1.jpg","/lovable-uploads/datv1_2.jpg"],category:"earrings",stock:1,featured:!0,materials:["",""],colors:["",""],onSale:!1},{id:33,name:{ru:' " "',en:'Keychain "Blade of Destiny"',ge:'  " "'},description:{ru:'      " "!    ,     .     ,     ,   ,      .           ,    ,      .    ,           .      ,         .',en:`Make a statement with the "Blade of Destiny" keychain! This is not just an accessory, but a manifesto of your bold style. The centerpiece is a metal pendant styled like a vintage razor blade, with intriguing cutouts that seem to whisper stories from bygone eras. Paired with a rich burgundy leather strap and aged metal accents, it creates a unique look that balances between brutality and artistry. An excellent choice for those who aren't afraid to stand out from the crowd and appreciate accessories with character. Attach it to your keys or bag to add a touch of vintage audacity to your everyday look.`,ge:'   " "  !     ,     .     ,      ,  ,      .          ,    ,       .   ,         .      ,        .'},price:10,currency:"",images:["/lovable-uploads/5325977326892216759.jpg","/lovable-uploads/5325977326892216759_2.jpg"],category:"keychains",stock:1,featured:!0,materials:["",""],colors:["",""]},{id:32,name:{ru:' " "',en:'Bracelet "Forest Pixel"',ge:' " "'},description:{ru:' " "  ,       .    ,    ,       .           .      ,    -,     .   ,          .   ,     .',en:'Meet "Forest Pixel"  a bracelet where digital precision meets organic beauty. Each facet of the square beads, carved from warm wood, speaks of the meticulous work of both nature and humans. This bracelet is an ode to modern minimalism and respect for natural materials. It easily fits both business and casual looks, adding a touch of sophistication and intellect. Perfect for those seeking a balance between urban style and a love for nature. With adjustable length, it will become your universal companion.',ge:' " "  ,      .    ,   ,   ,     .         .     ,   ,     .  ,         .  ,     .'},price:35,currency:"",images:["/lovable-uploads/5325977326892216761.jpg","/lovable-uploads/5325977326892216761_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:[""],colors:["",""]},{id:31,name:{ru:' " "',en:'Bracelet "Espresso Rhythm"',ge:' " "'},description:{ru:'         " ".  ,    ,       .    ,    ,   ,      .     ,          .     .      ,        !',en:'Indulge in the atmosphere of morning inspiration with the "Espresso Rhythm" bracelet. Each bead, like a miniature coffee bean, carries the warmth and energy of nature. This is not just jewelry, but a talisman for those who appreciate the moment, the aroma of freshly brewed coffee, and the harmony of existence. Handcrafted from natural wood, it feels pleasant on the skin and adds effortless elegance to any look. The adjustable clasp ensures a perfect fit. Wear it as a reminder that every day can be filled with the aroma of adventure!',ge:'    " " .  ,    ,     .     ,   ,   ,       .   ,         .     .  ,  ,        !'},price:35,currency:"",images:["/lovable-uploads/5325977326892216763.jpg","/lovable-uploads/5325977326892216763_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:["",""],colors:["",""]},{id:25,name:{ru:' "-"',en:'Bracelet "Rock Skeleton"',ge:' "-"'},description:{ru:'             ,   .       ,      .  "-"      -,     .       ,       .      ,    ,      .     .',en:'This unique bracelet features a stylish leather strap and an original pendant in the shape of a skeleton playing an electric guitar. The pendant is made to resemble aged bronze or brass, giving the piece a vintage and brutal look. The "Rock Skeleton" bracelet is the perfect choice for rock music lovers, gothic aesthetics enthusiasts, and those who appreciate unusual accessories. It will become a striking accent in your everyday look, emphasizing individuality and passion for informal style. Also makes a great gift for musicians, rock fans, and anyone who values creative and memorable jewelry. The adjustable clasp ensures comfortable wear.',ge:'         ,      .       ,       .  "-"    - ,       .       ,        .    ,     ,      .     .'},price:30,currency:"",images:["/lovable-uploads/494572321_1695262911380497_3159085465488947786_n.jpg","/lovable-uploads/494572321_1695262911380497_3159085465488947786_n_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:["",""],colors:["",""]},{id:24,name:{ru:' ""',en:'Bracelet "Reggae"',ge:' ""'},description:{ru:'              .       ,       .  ""    ,    ,     , -     ,    .     ,     .        .      ,   .',en:'This stylish bracelet is made of leather and adorned with a large metal pendant in the shape of a stylized leaf. The pendant has a vintage, aged bronze finish that gives the bracelet a special charm and individuality. The "Reggae" bracelet is perfect for those who appreciate a free spirit, love reggae music, hippie aesthetics, or are simply looking for a unique accessory that emphasizes their uniqueness. It will perfectly complement a casual look, adding ease and relaxation. The adjustable clasp ensures a comfortable fit for any wrist. A great gift for friends and loved ones who share similar interests.',ge:'          ,    .   ,   ,       .  ""  ,    ,   ,       ,     .     ,     .       .     ,    .'},price:30,currency:"",images:["/lovable-uploads/494573304_1210713720698628_5887406144073799270_n.jpg","/lovable-uploads/494573304_1210713720698628_5887406144073799270_n_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:["",""],colors:["",""]},{id:23,name:{ru:' " "',en:`Bracelet "Defender's Cross"`,ge:' " "'},price:30,description:{ru:"          ,            .        ,       .    ,         .",en:"This elegant and mystical bracelet features a wide leather strap with a large pendant in the form of a stylized cross with a vintage pattern. The metal pendant is made to resemble antique bronze or brass, giving the piece a special atmosphere of mystery and antiquity. A perfect accessory for those who appreciate unusual details and want to emphasize their individuality.",ge:"        ,          .        ,        .   ,          ."},currency:"",images:["/lovable-uploads/494356912_2907248866121505_2657667423894533600_n.jpg","/lovable-uploads/494356912_2907248866121505_2657667423894533600_n_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:["",""],colors:["",""]},{id:26,name:{ru:' "-"',en:'Bracelet "Rock Legend"',ge:' "-"'},description:{ru:"             ,      .    -      ,      .     ,    ,      -   .     .   ,   .",en:"This brutal and stylish bracelet is made of high-quality black leather and decorated with metal eyelets, through which two elegant chains are threaded. The bracelet design is inspired by rock aesthetics and will be the perfect accessory for those who value individuality and bold style. It will perfectly complement your everyday look, adding a touch of rebellion, and will also be appropriate at a rock concert or themed party. The reliable clasp ensures comfortable wear. Suitable for both men and women.",ge:"             ,     .    -     ,      .      ,         -   .     .   ,  ."},price:30,currency:"",images:["/lovable-uploads/494358890_1385872359349954_8620536579018894230_n.jpg","/lovable-uploads/494358890_1385872359349954_8620536579018894230_n_2.jpg"],category:"bracelets",stock:1,featured:!0,materials:[" ",""],colors:["",""]},{id:19,name:{ru:' " "',en:'Earrings "Sunlight"',ge:' " "'},description:{ru:`       ,  ,    .     ,         .

    ,     .    ,     ,        .

  ,   ,   !`,en:`Elegant earrings with graceful sun-shaped pendants, embodying warmth, light, and refined beauty. Their radiance will add sophistication to your look, while the gentle sway with movement creates a living sparkle effect.

Perfect for evening outings, romantic dates, or special occasions. Despite their expressive design, the earrings remain light and comfortable, making them an excellent choice for extended wear.

Let yourself shine like a sunbeam with every step!`,ge:`     ,   ,    .      ,        .

  ,     .   ,     ,       .

     ,   ,  !`},price:15,currency:"",images:["/lovable-uploads/494356262_714391001147663_7135250089724160584_n.jpg","/lovable-uploads/494356262_714391001147663_7135250089724160584_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:["   "],colors:[""]},{id:20,name:{ru:' " "',en:'Earrings "Moon Crescent"',ge:' " "'},description:{ru:`   ,    .        ,     .

    ,    .   ,                 .

             .`,en:`Delicate and sophisticated earrings inspired by the magic of the night sky. The graceful crescent moon shape adds an air of mystery and romance to your look, emphasizing individuality and inner harmony.

They will add elegance to both casual and evening outfits. Lightweight and comfortable, they will become your companion for any occasion  from business meetings to quiet evening walks under the stars.

Let the moonlight always be with you  in every movement and every glance.`,ge:`   ,    .         ,      .

   ,   .   ,              .

            .`},price:15,currency:"",images:["/lovable-uploads/494356774_1769263413996811_5281240654920214474_n.jpg","/lovable-uploads/494356774_1769263413996811_5281240654920214474_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:[" "," "],colors:["",""]},{id:21,name:{ru:' " "',en:'Earrings "Short Moon"',ge:' " "'},description:{ru:`         .              ,       .

          . ,            .

" "      .`,en:`Stylish and concise earrings with an elegant crescent moon accent. Their minimalist design makes the jewelry versatile  they will perfectly fit both casual looks and special occasion outfits.

The restrained shine and smooth lines of the moon add sophistication and a touch of mystery. Lightweight, comfortable, and almost weightless  perfect for long-term wear without discomfort.

"Short Moon"  when style speaks for you.`,ge:`      .            ,     .

          . ,          .

" "      .`},price:15,currency:"",images:["/lovable-uploads/494358021_1236477491488223_1113084814910147747_n.jpg","/lovable-uploads/494358021_1236477491488223_1113084814910147747_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:["   "],colors:[""]},{id:22,name:{ru:' ""',en:'Earrings "Western"',ge:' ""'},description:{ru:`      ,     .       : ,  ,       .

   ,          .  ,          .

""      .`,en:`Luxurious earrings with character  for those who aren't afraid to be bold. A design that references the spirit of the Wild West: revolvers, dusty roads, hot sun, and freedom in every step.

The perfect accessory for those who love to combine style with a spark of rebellion. A striking piece that will attract attention and ensure all eyes are on you.

"Western"  when your style hits the mark.`,ge:`    ,     . ,     : ,  ,      .

  ,      .  ,        .

""       .`},price:15,currency:"",images:["/lovable-uploads/494360448_1202980541322821_433259679981194833_n.jpg","/lovable-uploads/494360448_1202980541322821_433259679981194833_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:[""," "],colors:[" ",""]},{id:27,name:{ru:' ""',en:'Earrings "Snowball"',ge:' " "'},description:{ru:`      ,       .        ,    .

      ,     .   ,           .

""    ,      .`,en:`Elegant snowball-shaped earrings  light as the first snow and just as charming. Their refined design adds freshness and lightness to your look, highlighting your natural beauty.

They will become the perfect accent in both casual and evening wear. Versatile and weightless, they will add a touch of winter fairy tale to your style at any time of the year.

"Snowball"  when you want tenderness, sparkle, and a light frosty touch.`,ge:`      ,      .        ,     .

    ,   .   ,          .

" "    ,   ,  .`},price:15,currency:"",images:["/lovable-uploads/496514974_486316394509569_7569377168526650890_n.jpg","/lovable-uploads/496514974_486316394509569_7569377168526650890_n_2.jpg"],category:"earrings",stock:1,featured:!0,materials:[" 925 "],colors:[""]},{id:18,name:{ru:' " "',en:'Pendant "Free Feather"',ge:"  "},description:{ru:'  " "         .          ,         .        ,   -  .     ,         ,   .',en:'The elegant "Free Feather" pendant is made of two thin strips of deep brown fabric. The leather straps are connected with metal rivets and a central ring, from which hangs a large silver feather pendant. This accessory will be a wonderful addition to your look, adding a touch of boho chic and individuality. Perfect for everyday wear and for creating stylish looks in country, ethnic, or hippie styles.',ge:' " "        .        ,       .       ,   -  .   ,     ,    .'},price:35,currency:"",images:["/lovable-uploads/bumbl_1.jpg","/lovable-uploads/bumbl_2.jpeg"],category:"necklaces",stock:0,featured:!0,materials:[" "," "],colors:["",""]},{id:17,name:{ru:'  " "',en:'Double Necklace "Mystic Cross"',ge:'  " "'},description:{ru:"          .          ,   .         - ,         .     , ,         ,       .          ,        .       ,   .",en:"This unique double necklace combines grunge and vintage styles. The upper part features a simple and elegant black elastic band that fits snugly around the neck. Below it is a second layer made of a thin dark brown leather strap, from which hangs a massive antique-style cross pendant. The cross is crafted with intricate detailing, possibly featuring skull or other gothic elements, giving it a mystical and mysterious appearance. This choker is perfect for creating a bold and expressive look, highlighting your individuality and love for unique jewelry. Pairs beautifully with casual, rock, or grunge outfits.",ge:"        .         ,    .     -    ,        .    ,       ,       .        ,         .   ,     ."},price:35,currency:"",images:["/lovable-uploads/jvar_1.jpg","/lovable-uploads/jvar_2.jpg"],category:"necklaces",stock:1,featured:!0,materials:["  "],colors:[""]},{id:16,name:{ru:' ""',en:'Choker "Heart"',ge:' ""'},description:{ru:"   ,     .    4 ,             .        ,     .     ,          .        ,       ,    .",en:"An elegant and stylish choker made of soft black suede. It consists of 4 strips that connect and fasten at the sides to a large metal ring in the shape of a heart. The silver-tone metal heart is positioned in the center, drawing attention to the neckline. This choker is a striking accessory that will add a touch of romance and gothic chic to any look. Perfect for creating bold and feminine outfits, it also makes a great gift for those who appreciate unique jewelry.",ge:"       .   4 ,            .      ,     .     ,         .      ,     ,    ."},price:35,currency:"",images:["/lovable-uploads/gul_1.jpg","/lovable-uploads/gul_2.jpg"],category:"chokers",stock:0,featured:!0,materials:["",""],colors:["",""]},{id:15,name:{ru:' " "',en:'Necklace "Infinite Skull"',ge:' "  "'},description:{ru:"      - .           ,        .     ,      ,     .       ,      .       ,    , -       .     ,     .",en:"Stylish necklace made of a thin dark brown leather strap. The centerpiece of the necklace features an original metal infinity symbol, from which hangs a detailed skull pendant. At the base of the skull, you can see elements resembling a flower or small decorative details, adding sophistication and uniqueness. The choker clasp is made with metal rivets, giving it a sturdy and reliable appearance. This necklace is a striking statement piece for those who appreciate gothic aesthetics, rock style, or simply love unusual and symbolic jewelry. It will perfectly complement your everyday look, adding an edge of boldness and individuality.",ge:"      .       ,        .           ,     .      ,       .      ,    , -       .      ,      ."},price:35,currency:"",images:["/lovable-uploads/conchx_1.jpg","/lovable-uploads/conchx_2.jpg"],category:"necklaces",stock:1,featured:!0,materials:["   "],colors:[""]},{id:14,name:{ru:" 'The Walking Dead'",en:"Choker 'The Walking Dead'",ge:" 'The Walking Dead'"},description:{ru:"     The Walking Dead.        .        .",en:"Stylish leather choker inspired by The Walking Dead. Perfect accessory for fans of the series and post-apocalyptic style. Includes two photos from different angles.",ge:"   The Walking Dead- .     -  .     ."},price:35,currency:"",images:["/lovable-uploads/walking_1.jpg","/lovable-uploads/walking_2.jpg"],category:"chokers",stock:1,featured:!0,materials:["",""],colors:["",""]},{id:12,name:{ru:" ''",en:"Choker 'Razor'",ge:" ''"},description:{ru:"       .        .",en:"Stylish choker with a razor-shaped metal pendant. Perfect for creating a bold and edgy look.",ge:"     .      ."},price:35,currency:"",images:["/lovable-uploads/britva_1.jpg","/lovable-uploads/britva_2.jpg"],category:"chokers",stock:1,featured:!0,materials:["",""],colors:["",""]},{id:11,name:{ru:" ' '  ",en:"Steel 'Star of David' Choker",ge:" ' ' "},description:{ru:"        .     .        .     ,        .",en:"Elegant steel choker featuring a Star of David pendant. A symbol of Judaism and Jewish identity. Perfect for both everyday wear and special occasions. Made from high-quality surgical steel, hypoallergenic and tarnish-resistant.",ge:"     .     .   ,   .     ,   ."},price:35,currency:"",images:["/lovable-uploads/choker-dvd-1.jpg","/lovable-uploads/choker-dvd-2.jpeg"],category:"chokers",stock:1,featured:!0,materials:["",""],colors:[""]},{id:9,name:{ru:"   Guns N' Roses",en:"Guns N' Roses Choker",ge:"Guns N' Roses "},description:{ru:"       Guns N' Roses.     -.",en:"Stylish choker with a Guns N' Roses logo pendant. Perfect accessory for rock music fans.",ge:"  Guns N' Roses- .   - ."},price:35,currency:"",images:["/lovable-uploads/choker-gnr-1.jpg","/lovable-uploads/choker-gnr-2.jpg"],category:"chokers",stock:1,featured:!0,materials:["",""],colors:[""]},{id:30,name:{ru:' " "',en:'Choker "Secret Relics"',ge:' " "'},description:{ru:"         .    ,         .      .         .",en:"This stylish leather choker is perfect for fans of the wizarding world. Made of high-quality leather, it features a metal pendant with the iconic Deathly Hallows symbol. The double chain adds elegance and uniqueness. A great accessory for everyday wear or themed parties.",ge:"       .    ,       .      .       ."},price:45,currency:"",images:["/lovable-uploads/494577307_1133697015439922_8487778689865922825_n.jpg","/lovable-uploads/494577307_1133697015439922_8487778689865922825_n_2.jpg"],category:"chokers",stock:1,featured:!0,materials:["",""],colors:["",""]},{id:31,name:{ru:' " "',en:'Choker "Falling Star"',ge:' " "'},description:{ru:'               " ".     ,        .       ""  ,   ,      .     -.        ,    ,       .',en:'Add some stardust and rebellious spirit to your look with this unique "Falling Star" leather choker. Made from high-quality black leather, it combines durability and style. The centerpiece features a worn or "falling" metal star pendant surrounded by delicate chains, giving the accessory a mysterious and edgy look. Metal eyelets complete its grunge aesthetic. Perfect for making a statement at concerts, parties, or for those seeking a unique accent in their everyday style.',ge:'          " "  .     ,     .      ""   ,   ,      .      .     ,   ,      .'},price:35,originalPrice:45,currency:"",images:["/lovable-uploads/494572202_706432308535630_1694410801192056586_n.jpg","/lovable-uploads/494572202_706432308535630_1694410801192056586_n_2.jpg"],category:"chokers",stock:1,featured:!0,onSale:!0,materials:["",""],colors:["",""]}],zr=()=>Gh,sg=t=>{try{console.log(`[getProductById] Looking for product with ID: ${t}`);const e=Gh.find(n=>n.id===t);if(!e){console.warn(`[getProductById] Product not found with ID: ${t}`);return}return console.log("[getProductById] Found product:",e),e}catch(e){console.error(`[getProductById] Error finding product with ID ${t}:`,e);return}},$x=()=>{try{const{getMostPopularProductId:t}=require("./productViewService"),e=t();return e===null?null:Gh.find(r=>r.id===e)||null}catch(t){return console.error("[getMostPopularProduct] Error getting most popular product:",t),null}},VX=()=>{try{const t=[...Gh].sort((e,n)=>n.id-e.id).filter(e=>e.featured);if(t.length===0){const e=$x();return e?[e]:[]}return t}catch(t){return console.error("[getFeaturedProducts] Error getting featured products:",t),[]}},FX=t=>{try{return Gh.filter(e=>e.category===t)}catch(e){return console.error(`[getProductsByCategory] Error getting products for category ${t}:`,e),[]}},$X=()=>{const t=localStorage.getItem("discounts");return t?JSON.parse(t):[]},UX=t=>{localStorage.setItem("discounts",JSON.stringify(t))};let zp=$X();const BX=(t,e,n)=>{const r={id:Math.random().toString(36).substr(2,9),type:e,value:n,userId:t,isUsed:!1};return zp=[...zp,r],UX(zp),r},GO=t=>zp.filter(e=>e.userId===t&&!e.isUsed),zX=({isOpen:t,onClose:e})=>{const{t:n,language:r}=ze(),s=i=>{window.open(i,"_blank","noopener,noreferrer")};return c.jsx(kc,{open:t,onOpenChange:i=>!i&&e(),children:c.jsxs(ba,{className:"sm:max-w-[500px] bg-background",children:[c.jsx(Nc,{children:c.jsxs(Rc,{className:"text-2xl font-bold text-center mb-6 text-crimson",children:[r==="ru"&&" ?",r==="en"&&"Want a discount?",r==="ge"&&"  ?"]})}),c.jsxs("div",{className:"space-y-6 py-2 px-2",children:[c.jsxs("div",{className:"text-center font-medium mb-6",children:[r==="ru"&&"   :",r==="en"&&"Here's how to get it:",r==="ge"&&"    :"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-crimson/20 rounded-full flex items-center justify-center text-crimson font-bold",children:"1"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:[r==="ru"&&",      !",r==="en"&&"Promo codes that we post on our social media!",r==="ge"&&" ,     !"]}),c.jsxs("div",{className:"flex gap-4 mt-2",children:[c.jsxs(xe,{variant:"outline",size:"sm",className:"gap-2 bg-blue-600 hover:bg-blue-700 text-white border-blue-700",onClick:()=>s("https://www.facebook.com/NekosShopy"),children:[c.jsx(Og,{className:"w-4 h-4"}),"Facebook"]}),c.jsxs(xe,{variant:"outline",size:"sm",className:"gap-2 bg-pink-600 hover:bg-pink-700 text-white border-pink-700",onClick:()=>s("https://www.instagram.com/nekosshop/"),children:[c.jsx(K1,{className:"w-4 h-4"}),"Instagram"]})]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-crimson/20 rounded-full flex items-center justify-center text-crimson font-bold",children:"2"}),c.jsx("div",{children:c.jsxs("p",{className:"font-medium",children:[r==="ru"&&"   500    10% !",r==="en"&&"For orders over 500 lari  get 10% off!",r==="ge"&&"500      10%- !"]})})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-crimson/20 rounded-full flex items-center justify-center text-crimson font-bold",children:"3"}),c.jsx("div",{children:c.jsxs("p",{className:"font-medium",children:[r==="ru"&&"   200    5% !",r==="en"&&"For orders over 200 lari  get 5% off!",r==="ge"&&"200      5%- !"]})})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-crimson/20 rounded-full flex items-center justify-center text-crimson font-bold",children:"4"}),c.jsx("div",{children:c.jsxs("p",{className:"font-medium",children:[r==="ru"&&"   100    !",r==="en"&&"For orders over 100 lari  free delivery!",r==="ge"&&"100      !"]})})]})]})]})]})})};var qX=g.createContext(void 0);function Dv(t){const e=g.useContext(qX);return t||e||"ltr"}var g0="rovingFocusGroup.onEntryFocus",HX={bubbles:!1,cancelable:!0},Qh="RovingFocusGroup",[Ux,QO,KX]=Pg(Qh),[WX,Ov]=zn(Qh,[KX]),[GX,QX]=WX(Qh),YO=g.forwardRef((t,e)=>c.jsx(Ux.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Ux.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(YX,{...t,ref:e})})}));YO.displayName=Qh;var YX=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,p=g.useRef(null),m=Ue(e,p),b=Dv(i),[w,y]=to({prop:o,defaultProp:a??null,onChange:l,caller:Qh}),[x,_]=g.useState(!1),E=kn(u),C=QO(n),R=g.useRef(!1),[O,S]=g.useState(0);return g.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(g0,E),()=>I.removeEventListener(g0,E)},[E]),c.jsx(GX,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:w,onItemFocus:g.useCallback(I=>y(I),[y]),onItemShiftTab:g.useCallback(()=>_(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(I=>I+1),[]),onFocusableItemRemove:g.useCallback(()=>S(I=>I-1),[]),children:c.jsx(ge.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{R.current=!0}),onFocus:se(t.onFocus,I=>{const N=!R.current;if(I.target===I.currentTarget&&N&&!x){const k=new CustomEvent(g0,HX);if(I.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=C().filter(U=>U.focusable),P=D.find(U=>U.active),j=D.find(U=>U.id===w),X=[P,j,...D].filter(Boolean).map(U=>U.ref.current);ZO(X,f)}}R.current=!1}),onBlur:se(t.onBlur,()=>_(!1))})})}),JO="RovingFocusGroupItem",XO=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Di(),u=i||l,f=QX(JO,n),h=f.currentTabStopId===u,p=QO(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:w}=f;return g.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),c.jsx(Ux.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(ge.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:se(t.onMouseDown,y=>{r?f.onItemFocus(u):y.preventDefault()}),onFocus:se(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:se(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=ZX(y,f.orientation,f.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let E=p().filter(C=>C.focusable).map(C=>C.ref.current);if(x==="last")E.reverse();else if(x==="prev"||x==="next"){x==="prev"&&E.reverse();const C=E.indexOf(y.currentTarget);E=f.loop?eZ(E,C+1):E.slice(C+1)}setTimeout(()=>ZO(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});XO.displayName=JO;var JX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ZX(t,e,n){const r=XX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return JX[r]}function ZO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function eZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var e5=YO,t5=XO,Bx=["Enter"," "],tZ=["ArrowDown","PageUp","Home"],n5=["ArrowUp","PageDown","End"],nZ=[...tZ,...n5],rZ={ltr:[...Bx,"ArrowRight"],rtl:[...Bx,"ArrowLeft"]},sZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yh="Menu",[rh,iZ,oZ]=Pg(Yh),[Ra,r5]=zn(Yh,[oZ,Fg,Ov]),Mv=Fg(),s5=Ov(),[aZ,Pa]=Ra(Yh),[lZ,Jh]=Ra(Yh),i5=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Mv(e),[l,u]=g.useState(null),f=g.useRef(!1),h=kn(i),p=Dv(s);return g.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),c.jsx(vP,{...a,children:c.jsx(aZ,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:c.jsx(lZ,{scope:e,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:p,modal:o,children:r})})})};i5.displayName=Yh;var cZ="MenuAnchor",M_=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Mv(n);return c.jsx(yP,{...s,...r,ref:e})});M_.displayName=cZ;var L_="MenuPortal",[uZ,o5]=Ra(L_,{forceMount:void 0}),a5=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Pa(L_,e);return c.jsx(uZ,{scope:e,forceMount:n,children:c.jsx(or,{present:n||i.open,children:c.jsx(Ag,{asChild:!0,container:s,children:r})})})};a5.displayName=L_;var er="MenuContent",[dZ,V_]=Ra(er),l5=g.forwardRef((t,e)=>{const n=o5(er,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Pa(er,t.__scopeMenu),o=Jh(er,t.__scopeMenu);return c.jsx(rh.Provider,{scope:t.__scopeMenu,children:c.jsx(or,{present:r||i.open,children:c.jsx(rh.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(hZ,{...s,ref:e}):c.jsx(fZ,{...s,ref:e})})})})}),hZ=g.forwardRef((t,e)=>{const n=Pa(er,t.__scopeMenu),r=g.useRef(null),s=Ue(e,r);return g.useEffect(()=>{const i=r.current;if(i)return TO(i)},[]),c.jsx(F_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),fZ=g.forwardRef((t,e)=>{const n=Pa(er,t.__scopeMenu);return c.jsx(F_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),pZ=sc("MenuContent.ScrollLock"),F_=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:b,...w}=t,y=Pa(er,n),x=Jh(er,n),_=Mv(n),E=s5(n),C=iZ(n),[R,O]=g.useState(null),S=g.useRef(null),I=Ue(e,S,y.onContentChange),N=g.useRef(0),k=g.useRef(""),D=g.useRef(0),P=g.useRef(null),j=g.useRef("right"),K=g.useRef(0),X=b?IO:g.Fragment,U=b?{as:pZ,allowPinchZoom:!0}:void 0,G=F=>{var be,Je;const W=k.current+F,z=C().filter(Oe=>!Oe.disabled),q=document.activeElement,Z=(be=z.find(Oe=>Oe.ref.current===q))==null?void 0:be.textValue,ue=z.map(Oe=>Oe.textValue),ie=TZ(ue,W,Z),ce=(Je=z.find(Oe=>Oe.textValue===ie))==null?void 0:Je.ref.current;(function Oe(at){k.current=at,window.clearTimeout(N.current),at!==""&&(N.current=window.setTimeout(()=>Oe(""),1e3))})(W),ce&&setTimeout(()=>ce.focus())};g.useEffect(()=>()=>window.clearTimeout(N.current),[]),gO();const M=g.useCallback(F=>{var z,q;return j.current===((z=P.current)==null?void 0:z.side)&&kZ(F,(q=P.current)==null?void 0:q.area)},[]);return c.jsx(dZ,{scope:n,searchRef:k,onItemEnter:g.useCallback(F=>{M(F)&&F.preventDefault()},[M]),onItemLeave:g.useCallback(F=>{var W;M(F)||((W=S.current)==null||W.focus(),O(null))},[M]),onTriggerLeave:g.useCallback(F=>{M(F)&&F.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:g.useCallback(F=>{P.current=F},[]),children:c.jsx(X,{...U,children:c.jsx(N_,{asChild:!0,trapped:s,onMountAutoFocus:se(i,F=>{var W;F.preventDefault(),(W=S.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(Ih,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:c.jsx(e5,{asChild:!0,...E,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:O,onEntryFocus:se(l,F=>{x.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(wP,{role:"menu","aria-orientation":"vertical","data-state":I5(y.open),"data-radix-menu-content":"",dir:x.dir,..._,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:se(w.onKeyDown,F=>{const z=F.target.closest("[data-radix-menu-content]")===F.currentTarget,q=F.ctrlKey||F.altKey||F.metaKey,Z=F.key.length===1;z&&(F.key==="Tab"&&F.preventDefault(),!q&&Z&&G(F.key));const ue=S.current;if(F.target!==ue||!nZ.includes(F.key))return;F.preventDefault();const ce=C().filter(be=>!be.disabled).map(be=>be.ref.current);n5.includes(F.key)&&ce.reverse(),IZ(ce)}),onBlur:se(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(N.current),k.current="")}),onPointerMove:se(t.onPointerMove,sh(F=>{const W=F.target,z=K.current!==F.clientX;if(F.currentTarget.contains(W)&&z){const q=F.clientX>K.current?"right":"left";j.current=q,K.current=F.clientX}}))})})})})})})});l5.displayName=er;var mZ="MenuGroup",$_=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ge.div,{role:"group",...r,ref:e})});$_.displayName=mZ;var gZ="MenuLabel",c5=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ge.div,{...r,ref:e})});c5.displayName=gZ;var ig="MenuItem",_C="menu.itemSelect",Lv=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=Jh(ig,t.__scopeMenu),a=V_(ig,t.__scopeMenu),l=Ue(e,i),u=g.useRef(!1),f=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(_C,{bubbles:!0,cancelable:!0});h.addEventListener(_C,m=>r==null?void 0:r(m),{once:!0}),B1(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(u5,{...s,ref:l,disabled:n,onClick:se(t.onClick,f),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),u.current=!0},onPointerUp:se(t.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:se(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Bx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Lv.displayName=ig;var u5=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=V_(ig,n),a=s5(n),l=g.useRef(null),u=Ue(e,l),[f,h]=g.useState(!1),[p,m]=g.useState("");return g.useEffect(()=>{const b=l.current;b&&m((b.textContent??"").trim())},[i.children]),c.jsx(rh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:c.jsx(t5,{asChild:!0,...a,focusable:!r,children:c.jsx(ge.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:se(t.onPointerMove,sh(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,sh(b=>o.onItemLeave(b))),onFocus:se(t.onFocus,()=>h(!0)),onBlur:se(t.onBlur,()=>h(!1))})})})}),vZ="MenuCheckboxItem",d5=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx(g5,{scope:t.__scopeMenu,checked:n,children:c.jsx(Lv,{role:"menuitemcheckbox","aria-checked":og(n)?"mixed":n,...s,ref:e,"data-state":B_(n),onSelect:se(s.onSelect,()=>r==null?void 0:r(og(n)?!0:!n),{checkForDefaultPrevented:!1})})})});d5.displayName=vZ;var h5="MenuRadioGroup",[yZ,wZ]=Ra(h5,{value:void 0,onValueChange:()=>{}}),f5=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=kn(r);return c.jsx(yZ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:c.jsx($_,{...s,ref:e})})});f5.displayName=h5;var p5="MenuRadioItem",m5=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=wZ(p5,t.__scopeMenu),i=n===s.value;return c.jsx(g5,{scope:t.__scopeMenu,checked:i,children:c.jsx(Lv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":B_(i),onSelect:se(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});m5.displayName=p5;var U_="MenuItemIndicator",[g5,xZ]=Ra(U_,{checked:!1}),v5=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=xZ(U_,n);return c.jsx(or,{present:r||og(i.checked)||i.checked===!0,children:c.jsx(ge.span,{...s,ref:e,"data-state":B_(i.checked)})})});v5.displayName=U_;var bZ="MenuSeparator",y5=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});y5.displayName=bZ;var _Z="MenuArrow",w5=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Mv(n);return c.jsx(xP,{...s,...r,ref:e})});w5.displayName=_Z;var EZ="MenuSub",[Jne,x5]=Ra(EZ),Bu="MenuSubTrigger",b5=g.forwardRef((t,e)=>{const n=Pa(Bu,t.__scopeMenu),r=Jh(Bu,t.__scopeMenu),s=x5(Bu,t.__scopeMenu),i=V_(Bu,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},f=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>f,[f]),g.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),c.jsx(M_,{asChild:!0,...u,children:c.jsx(u5,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":I5(n.open),...t,ref:Rg(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,sh(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:se(t.onPointerLeave,sh(h=>{var m,b;f();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const w=(b=n.content)==null?void 0:b.dataset.side,y=w==="right",x=y?-5:5,_=p[y?"left":"right"],E=p[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:_,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:_,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,h=>{var m;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||rZ[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});b5.displayName=Bu;var _5="MenuSubContent",E5=g.forwardRef((t,e)=>{const n=o5(er,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Pa(er,t.__scopeMenu),o=Jh(er,t.__scopeMenu),a=x5(_5,t.__scopeMenu),l=g.useRef(null),u=Ue(e,l);return c.jsx(rh.Provider,{scope:t.__scopeMenu,children:c.jsx(or,{present:r||i.open,children:c.jsx(rh.Slot,{scope:t.__scopeMenu,children:c.jsx(F_,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:se(t.onFocusOutside,f=>{f.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:se(t.onKeyDown,f=>{var m;const h=f.currentTarget.contains(f.target),p=sZ[o.dir].includes(f.key);h&&p&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),f.preventDefault())})})})})})});E5.displayName=_5;function I5(t){return t?"open":"closed"}function og(t){return t==="indeterminate"}function B_(t){return og(t)?"indeterminate":t?"checked":"unchecked"}function IZ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function SZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function TZ(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=SZ(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function CZ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,f=a.y,h=l.x,p=l.y;f>r!=p>r&&n<(h-u)*(r-f)/(p-f)+u&&(s=!s)}return s}function kZ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return CZ(n,e)}function sh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var NZ=i5,RZ=M_,PZ=a5,AZ=l5,jZ=$_,DZ=c5,OZ=Lv,MZ=d5,LZ=f5,VZ=m5,FZ=v5,$Z=y5,UZ=w5,BZ=b5,zZ=E5,Vv="DropdownMenu",[qZ,Xne]=zn(Vv,[r5]),fn=r5(),[HZ,S5]=qZ(Vv),T5=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=fn(e),u=g.useRef(null),[f,h]=to({prop:s,defaultProp:i??!1,onChange:o,caller:Vv});return c.jsx(HZ,{scope:e,triggerId:Di(),triggerRef:u,contentId:Di(),open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:a,children:c.jsx(NZ,{...l,open:f,onOpenChange:h,dir:r,modal:a,children:n})})};T5.displayName=Vv;var C5="DropdownMenuTrigger",k5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=S5(C5,n),o=fn(n);return c.jsx(RZ,{asChild:!0,...o,children:c.jsx(ge.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Rg(e,i.triggerRef),onPointerDown:se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});k5.displayName=C5;var KZ="DropdownMenuPortal",N5=t=>{const{__scopeDropdownMenu:e,...n}=t,r=fn(e);return c.jsx(PZ,{...r,...n})};N5.displayName=KZ;var R5="DropdownMenuContent",P5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=S5(R5,n),i=fn(n),o=g.useRef(!1);return c.jsx(AZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P5.displayName=R5;var WZ="DropdownMenuGroup",GZ=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(jZ,{...s,...r,ref:e})});GZ.displayName=WZ;var QZ="DropdownMenuLabel",A5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(DZ,{...s,...r,ref:e})});A5.displayName=QZ;var YZ="DropdownMenuItem",j5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(OZ,{...s,...r,ref:e})});j5.displayName=YZ;var JZ="DropdownMenuCheckboxItem",D5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(MZ,{...s,...r,ref:e})});D5.displayName=JZ;var XZ="DropdownMenuRadioGroup",ZZ=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(LZ,{...s,...r,ref:e})});ZZ.displayName=XZ;var eee="DropdownMenuRadioItem",O5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(VZ,{...s,...r,ref:e})});O5.displayName=eee;var tee="DropdownMenuItemIndicator",M5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(FZ,{...s,...r,ref:e})});M5.displayName=tee;var nee="DropdownMenuSeparator",L5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx($Z,{...s,...r,ref:e})});L5.displayName=nee;var ree="DropdownMenuArrow",see=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(UZ,{...s,...r,ref:e})});see.displayName=ree;var iee="DropdownMenuSubTrigger",V5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(BZ,{...s,...r,ref:e})});V5.displayName=iee;var oee="DropdownMenuSubContent",F5=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=fn(n);return c.jsx(zZ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});F5.displayName=oee;var aee=T5,lee=k5,cee=N5,$5=P5,U5=A5,B5=j5,z5=D5,q5=O5,H5=M5,K5=L5,W5=V5,G5=F5;const uee=aee,dee=lee,hee=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>c.jsxs(W5,{ref:s,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,c.jsx(Pd,{className:"ml-auto h-4 w-4"})]}));hee.displayName=W5.displayName;const fee=g.forwardRef(({className:t,...e},n)=>c.jsx(G5,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));fee.displayName=G5.displayName;const Q5=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(cee,{children:c.jsx($5,{ref:r,sideOffset:e,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Q5.displayName=$5.displayName;const Y5=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(B5,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Y5.displayName=B5.displayName;const pee=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>c.jsxs(z5,{ref:s,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(H5,{children:c.jsx(OR,{className:"h-4 w-4"})})}),e]}));pee.displayName=z5.displayName;const mee=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(q5,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(H5,{children:c.jsx(vF,{className:"h-2 w-2 fill-current"})})}),e]}));mee.displayName=q5.displayName;const gee=g.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(U5,{ref:r,className:ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));gee.displayName=U5.displayName;const vee=g.forwardRef(({className:t,...e},n)=>c.jsx(K5,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));vee.displayName=K5.displayName;const v0=[{code:"ru",name:"",displayCode:"RU"},{code:"en",name:"English",displayCode:"EN"},{code:"ge",name:"",displayCode:"GE"}],yee=({currentLanguage:t,onLanguageChange:e})=>{const n=v0.find(r=>r.code===t)||v0[0];return c.jsxs(uee,{children:[c.jsx(dee,{asChild:!0,children:c.jsx(xe,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-transparent",children:c.jsx("div",{className:"flex items-center justify-center w-8 h-8 border border-crimson/50 hover:border-crimson",children:c.jsx("span",{className:"text-sm font-medium text-crimson",children:n.displayCode})})})}),c.jsx(Q5,{align:"end",className:"bg-black/95 border border-crimson/20 p-1 min-w-[60px]",children:v0.map(r=>c.jsx(Y5,{className:`flex justify-center p-2 text-sm cursor-pointer ${t===r.code?"text-crimson":"text-gray-200 hover:text-white"}`,onClick:()=>e(r.code),children:r.displayCode},r.code))})]})},J5=({isOpen:t,onClose:e})=>{const{t:n,language:r}=ze();return c.jsx(kc,{open:t,onOpenChange:s=>!s&&e(),children:c.jsxs(ba,{className:"sm:max-w-[500px] bg-background",children:[c.jsx(Nc,{children:c.jsx(Rc,{className:"text-2xl font-bold text-center mb-6 text-crimson",children:n("delivery.title")})}),c.jsxs("div",{className:"space-y-6 py-2 px-2",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(xw,{className:"w-6 h-6 mt-1 text-crimson flex-shrink-0"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg mb-1",children:[r==="ru"&&"   ",r==="en"&&"Delivery throughout Tbilisi",r==="ge"&&"  "]}),c.jsxs("p",{className:"text-foreground/90",children:[r==="ru"&&": 5 ",r==="en"&&"Price: 5 GEL",r==="ge"&&": 5 "]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(yF,{className:"w-6 h-6 mt-1 text-crimson flex-shrink-0"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg mb-1",children:[r==="ru"&&" ",r==="en"&&"Delivery time",r==="ge"&&" "]}),c.jsxs("p",{className:"text-foreground/90",children:[r==="ru"&&" 1  5 ",r==="en"&&"1 to 5 days",r==="ge"&&"1  5 "]})]})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx(ww,{className:"w-6 h-6 mt-1 text-crimson flex-shrink-0"}),c.jsxs("p",{className:"text-foreground/90",children:[r==="ru"&&"        ",r==="en"&&"The courier will contact you in advance using the provided phone number",r==="ge"&&"       "]})]}),c.jsxs("div",{className:"flex items-start gap-4 bg-crimson/10 p-4 rounded-lg border border-crimson/20",children:[c.jsx(FR,{className:"w-6 h-6 mt-1 text-crimson flex-shrink-0"}),c.jsxs("p",{className:"text-foreground/90 font-medium",children:[r==="ru"&&"   100  -  !",r==="en"&&"Free delivery for orders over 100 GEL!",r==="ge"&&"100    -  !"]})]})]})]})})};Nv`
  to {
    transform: translateX(200%) skewX(-12deg);
  }
`;Nv`
  0%, 100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(4px);
  }
`;const wee=({onClose:t})=>{const{t:e}=ze(),n=wa();return c.jsx("div",{className:"p-4",children:c.jsxs(xe,{type:"button",variant:"outline",className:"w-full bg-white hover:bg-gray-100 text-gray-800 hover:text-gray-900",onClick:async()=>{try{await n.signInWithGoogle(),t()}catch(r){console.error("Google sign in failed:",r)}},children:[c.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",children:c.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[c.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.28426 53.749 C -8.52426 55.229 -9.24426 56.479 -10.4643 57.329 L -10.4643 60.609 L -6.39927 60.609 C -4.15927 58.619 -3.264 55.409 -3.264 51.509 Z"}),c.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.86 60.609 L -10.465 57.329 C -11.425 58.049 -12.745 58.489 -14.254 58.489 C -17.204 58.489 -19.654 56.379 -20.424 53.529 L -24.464 53.529 L -24.464 56.958 C -22.514 60.819 -18.924 63.239 -14.754 63.239 Z"}),c.jsx("path",{fill:"#FBBC05",d:"M -20.424 53.529 C -20.814 52.249 -21.024 50.879 -21.024 49.499 C -21.024 48.119 -20.814 46.749 -20.324 45.469 L -20.324 42.04 L -24.464 42.04 C -25.934 44.98 -26.664 48.199 -26.664 51.499 C -26.664 54.799 -25.934 58.019 -24.464 60.958 L -20.424 57.499 C -20.814 56.249 -21.024 54.879 -21.024 53.499"}),c.jsx("path",{fill:"#EA4335",d:"M -14.754 44.509 C -12.984 44.509 -11.404 45.069 -10.084 46.099 L -6.768 42.819 C -8.898 40.889 -11.664 39.759 -14.754 39.759 C -18.924 39.759 -22.514 42.179 -24.464 46.04 L -20.324 49.469 C -19.554 46.619 -17.104 44.509 -14.754 44.509 Z"})]})}),e("auth.google")||"Sign in with Google"]})})},xee=pO.div`
  @keyframes arrowPulse {
    0%, 100% {
      transform: translateX(0);
    }
    50% {
      transform: translateX(4px);
    }
  }
`,bee=()=>{var X;const{t,language:e,setLanguage:n}=ze();Cm();const{cart:r,calculateTotal:s,calculateDiscount:i,isFreeDelivery:o,calculateTotalWithDiscount:a,addToCart:l}=so(),[u,f]=g.useState(!1);g.useState(!1);const[h,p]=g.useState(!1);g.useState(!1);const[m,b]=g.useState(!1),[w,y]=g.useState(!1),[x,_]=g.useState(!1),[E,C]=g.useState(!1);s(),i();const{favorites:R,removeFromFavorites:O}=_v(),S=zr(),I=wa(),{user:N}=I,k=Fc(),D=ro();g.useEffect(()=>{b(!1)},[D]),Cm(),g.useEffect(()=>{if(N){const G=GO(N.uid).find(M=>M.type==="review"&&!M.isUsed);y(!!G)}},[N]);const P=R.map(U=>S.find(M=>M.id===U.productId)).filter(U=>U!==void 0),j=r.reduce((U,G)=>U+G.quantity,0),K=async()=>{await I.logout(),k("/")};return c.jsxs("nav",{className:"sticky top-0 z-50 w-full border-b bg-black shadow-sm h-[5.5rem]",children:[c.jsxs("div",{className:"container flex h-full items-center",children:[c.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[c.jsxs(De,{to:"/",className:"group relative flex items-center gap-3 focus:outline-none","aria-label":t("nav.home"),children:[c.jsxs("div",{className:"relative overflow-hidden rounded-full transition-all duration-300 group-hover:shadow-[0_0_20px_rgba(234,56,76,0.6)] transform-gpu",children:[c.jsx("img",{src:"/lovable-uploads/nekos-logo.jpeg",alt:"NEKOSHOP Logo",className:"h-[4.4rem] w-[4.4rem] object-cover rounded-full transition-all duration-500 group-hover:scale-110 group-hover:rotate-2","aria-hidden":"true"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent group-hover:border-crimson/60 transition-all duration-300 group-hover:shadow-inner"}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-transparent via-transparent to-crimson/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("h1",{className:"text-[2.2rem] md:text-4xl font-bold tracking-tight relative font-medieval",children:[c.jsx("span",{className:"text-crimson transition-all duration-300 group-hover:text-red-400","aria-hidden":"true",children:"NEKO"}),c.jsx("span",{className:"text-white transition-all duration-300 group-hover:text-gray-200","aria-hidden":"true",children:"SHOP"}),c.jsxs("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:[c.jsx("span",{className:"text-crimson animate-[pulse_1.5s_ease-in-out_infinite] drop-shadow-[0_0_8px_rgba(234,56,76,0.7)]",children:"NEKO"}),c.jsx("span",{className:"text-white animate-[pulse_1.5s_ease-in-out_0.2s_infinite] drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]",children:"SHOP"})]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-crimson transition-all duration-300 group-hover:w-full"}),c.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-crimson/20"}),c.jsx("span",{className:"sr-only",children:"Home"})]})]}),c.jsx("nav",{"aria-label":t("nav.main"),children:c.jsx("ul",{className:"hidden md:flex items-center list-none p-0 m-0 space-x-1",children:[{type:"link",to:"/shop",icon:c.jsx(rS,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("nav.shop")},{type:"button",onClick:()=>f(!0),icon:c.jsx(xw,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("cart.delivery").replace(":","")},{type:"link",to:"/about",icon:c.jsx(tS,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("home.our_story")},{type:"link",to:"/contact",icon:c.jsx(ww,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("nav.contact")},{type:"link",to:"/faq",icon:c.jsx(nS,{className:"w-[1.25rem] h-[1.25rem] text-crimson group-hover:animate-bounce"}),text:t("nav.faq")}].map((U,G)=>c.jsx("li",{className:"relative",children:U.type==="link"?c.jsxs(De,{to:U.to,className:"relative flex items-center gap-2 px-5 py-4 text-[1.05em] font-medium group",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-2 text-white/90 group-hover:text-white transition-colors duration-200",children:[U.icon,c.jsx("span",{className:"font-sans",style:{fontFamily:'"Noto Sans Georgian", sans-serif'},children:U.text})]}),c.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-crimson/20"}),c.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-crimson transition-all duration-300 group-hover:w-full"})]}):c.jsxs("button",{onClick:U.onClick,className:"relative flex items-center gap-2 px-5 py-4 text-[1.05em] font-medium group w-full text-left",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-2 text-white/90 group-hover:text-white transition-colors duration-200",children:[U.icon,c.jsx("span",{className:"font-sans",style:{fontFamily:'"Noto Sans Georgian", sans-serif'},children:U.text})]}),c.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-crimson/20"}),c.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-crimson transition-all duration-300 group-hover:w-full"})]})},G))})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yee,{currentLanguage:e,onLanguageChange:U=>n(U)}),c.jsxs(kc,{open:x,onOpenChange:_,children:[c.jsx(Fx,{asChild:!0,children:c.jsxs(xe,{variant:"ghost",className:"relative group/promo h-12 px-4 py-3 focus:outline-none transition-all duration-300 overflow-hidden","aria-label":t("promo.have_code"),children:[c.jsxs("div",{className:"absolute inset-0 rounded-lg overflow-hidden p-[1.5px]",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-crimson via-pink-500 to-crimson bg-[length:200%_100%] animate-gradient-xy rounded-lg opacity-100 transition-all duration-500 group-hover:opacity-90"}),c.jsx("div",{className:"absolute inset-[1.5px] bg-gray-950/95 rounded-lg backdrop-blur-sm transition-all duration-300 group-hover:bg-gray-900/95"})]}),c.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(FR,{className:"w-5 h-5 flex-shrink-0 relative z-10 transition-all duration-300 group-hover/promo:scale-110 group-hover/promo:rotate-[-15deg] text-crimson-300"}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-crimson/30 blur-[2px]",style:{animation:"subtlePulse 3s ease-in-out infinite",opacity:.3}})]}),c.jsxs("span",{className:"text-sm font-medium whitespace-nowrap hidden md:inline-block relative",children:[c.jsx("span",{className:"relative z-10 text-crimson-200 group-hover/promo:text-white transition-all duration-300 inline-block",style:{animation:"subtlePulse 3s ease-in-out infinite",textShadow:"0 0 8px rgba(220, 38, 38, 0.5)"},children:"!"}),c.jsx("style",{children:`
                      @keyframes subtlePulse {
                        0% { opacity: 0.7; transform: scale(1); }
                        50% { opacity: 1; transform: scale(1.15); }
                        100% { opacity: 0.7; transform: scale(1); }
                      }
                    `}),c.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[2px] bg-gradient-to-r from-crimson to-pink-500 transition-all duration-300 group-hover/promo:w-full"})]})]}),c.jsxs("div",{className:"absolute inset-0 -z-10 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-crimson/10 via-pink-500/10 to-crimson/10 opacity-0 group-hover/promo:opacity-100 transition-opacity duration-300"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(220,38,38,0.15)_70%,transparent_100%)] opacity-0 group-hover/promo:opacity-100 transition-opacity duration-500"})]}),c.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full bg-crimson blur-[2px] animate-ping-slow"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-crimson/5 to-transparent opacity-0 group-hover/promo:opacity-100 transition-opacity duration-300"})]})}),c.jsxs(ba,{className:"sm:max-w-[500px] bg-gradient-to-br from-gray-900 to-black border border-crimson/50 overflow-hidden shadow-2xl",children:[c.jsx("div",{className:"absolute -top-20 -right-20 w-60 h-60 bg-crimson/10 rounded-full filter blur-3xl animate-pulse"}),c.jsx("div",{className:"absolute -bottom-20 -left-20 w-60 h-60 bg-crimson/5 rounded-full filter blur-3xl animate-pulse",style:{animationDelay:"1s",animationDuration:"4s"}}),c.jsx(Nc,{children:c.jsx(Rc,{className:"text-2xl font-bold bg-gradient-to-r from-crimson to-pink-500 bg-clip-text text-transparent",children:t("promo.want_discount")})}),c.jsxs("div",{className:"relative z-10 space-y-6 py-2",children:[c.jsx("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-xl border border-crimson/30",children:c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{type:"text",placeholder:t("nav.enter_promo"),className:"flex-1 px-4 py-3 bg-gray-900/80 border border-crimson/30 rounded-lg text-white placeholder-crimson-200/50 focus:outline-none focus:ring-2 focus:ring-crimson/50 focus:border-crimson/50 transition-all duration-300"}),c.jsx(xe,{className:"ml-3 bg-gradient-to-r from-crimson to-crimson/80 hover:from-crimson hover:to-crimson/90 transition-all duration-300 transform hover:scale-105 active:scale-95 px-6 font-medium shadow-lg shadow-crimson/20",children:t("common.apply")})]})}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"p-5 bg-black/30 rounded-xl border border-crimson/20 hover:border-crimson/30 transition-colors",children:[c.jsx("h3",{className:"text-lg font-semibold text-crimson-200 mb-3",children:t("promo.social_codes")}),c.jsx("p",{className:"text-crimson-100/90 mb-4 text-sm leading-relaxed",children:t("promo.follow_us_for_discounts")}),c.jsxs("div",{className:"flex gap-4 mt-4",children:[c.jsxs("a",{href:"https://www.facebook.com/NekosShopy",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-blue-600/20 hover:bg-blue-600/30 transition-all duration-300 group border border-blue-500/30","aria-label":t("promo.facebook"),target:"_blank",rel:"noopener noreferrer",children:[c.jsx("svg",{className:"w-5 h-5 text-blue-300 group-hover:text-blue-200 transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium text-white",children:t("promo.facebook")})]}),c.jsxs("a",{href:"https://www.instagram.com/nekosshop/",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-gradient-to-br from-pink-600/20 to-purple-600/20 hover:from-pink-600/30 hover:to-purple-600/30 transition-all duration-300 group border border-pink-500/30","aria-label":t("promo.instagram"),target:"_blank",rel:"noopener noreferrer",children:[c.jsx("svg",{className:"w-5 h-5 text-pink-300 group-hover:text-pink-200 transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:c.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.415-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.067-.06-1.407-.06-4.123v-.08c0-2.643.012-2.987.06-4.043.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.976.045-1.505.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.352-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.976.207 1.505.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.352.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.352.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium text-white",children:t("promo.instagram")})]})]})]}),c.jsxs("div",{className:"p-5 bg-black/30 rounded-xl border border-crimson/20 hover:border-crimson/30 transition-colors",children:[c.jsxs("h3",{className:"text-lg font-semibold text-crimson-200 mb-4 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-crimson-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"})}),t("promo.discount_info_title")]}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("p",{className:"text-crimson-100 flex items-start",children:[c.jsx("span",{className:"text-crimson-300 font-medium mr-2",children:""}),c.jsx("span",{children:t("promo.over_500")})]}),c.jsxs("p",{className:"text-crimson-100 flex items-start",children:[c.jsx("span",{className:"text-crimson-300 font-medium mr-2",children:""}),c.jsx("span",{children:t("promo.over_200")})]}),c.jsxs("p",{className:"text-crimson-100 flex items-start",children:[c.jsx("span",{className:"text-crimson-300 font-medium mr-2",children:""}),c.jsx("span",{children:t("promo.over_100")})]})]})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 w-16 h-16 bg-crimson/10 rounded-full filter blur-xl opacity-70"}),c.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-24 h-24 bg-crimson/5 rounded-full filter blur-xl opacity-50"})]})]}),c.jsxs(xC,{children:[c.jsx(bC,{asChild:!0,children:c.jsxs(xe,{variant:"ghost",className:"h-12 px-4 py-3 relative rounded-sm border-r text-white/90 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-crimson focus:ring-offset-2 focus:ring-offset-gray-900","aria-label":`${t("nav.cart")} (${j} ${t(j===1?"cart.item":"cart.items")})`,"aria-expanded":!1,children:[c.jsx(jo,{className:"w-5 h-5","aria-hidden":"true"}),j>0&&c.jsx("div",{className:"absolute -top-2 -right-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(lC,{variant:"secondary",className:"bg-crimson text-white relative z-10 animate-pulse","aria-hidden":"true",style:{animation:"pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite"},children:j}),c.jsx("div",{className:"absolute inset-0 bg-crimson/50 rounded-full blur-[6px] -z-0 animate-ping-slow",style:{animation:"ping 2s cubic-bezier(0, 0, 0.2, 1) infinite"}})]})}),c.jsx("span",{className:"sr-only",children:j>0?`${j} ${t(j===1?"cart.item":"cart.items")} in cart`:t("nav.cart")})]})}),c.jsx(Lx,{className:"flex flex-col p-0",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(Vx,{className:"border-b border-red-900/30"}),r.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[c.jsx("div",{className:"relative mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(jo,{className:"w-16 h-16 text-crimson animate-bounce"}),c.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:t("cart.empty_title",{defaultValue:"Your cart is empty"})}),c.jsx("p",{className:"text-gray-300 max-w-xs mb-6",children:t("cart.empty_description",{defaultValue:"Add items to your cart and they will appear here"})}),c.jsx(AX,{asChild:!0,children:c.jsx(xe,{variant:"outline",className:"bg-crimson/10 border-crimson/20 text-white hover:bg-crimson/20 hover:border-crimson/30 transition-colors",onClick:()=>k("/shop"),children:t("cart.continue_shopping")})})]}):c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.jsx("div",{className:"space-y-2 pr-2",children:r.map(U=>c.jsx("div",{className:"pb-4 last:pb-0",children:c.jsx(PJ,{item:U})},U.product.id))})}),c.jsxs("div",{className:"border-t p-6 bg-background flex-shrink-0 sticky bottom-0",children:[c.jsx("div",{className:"space-y-3",children:(()=>{const U=r.reduce((z,q)=>z+q.product.price*q.quantity,0),G=U>=100?0:5;let M=0,F=0;U>=500?(M=U*.1,F=10):U>=200&&(M=U*.05,F=5);const W=U-M+G;return c.jsxs(c.Fragment,{children:[G>0&&c.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[c.jsx("span",{children:t("cart.delivery")}),c.jsxs("span",{children:[G," "]})]}),M>0&&c.jsxs("div",{className:"flex justify-between text-green-500 text-sm",children:[c.jsxs("span",{children:["Discount (",F,"%):"]}),c.jsxs("span",{children:["-",M.toFixed(2)," "]})]}),c.jsxs("div",{className:"flex justify-between text-lg font-bold mt-3 pt-3 border-t border-gray-700",children:[c.jsxs("span",{children:[t("cart.total"),":"]}),c.jsxs("span",{className:"text-crimson",children:[Math.round(W*100)/100," "]})]})]})})()}),c.jsxs("div",{className:"flex flex-col gap-2 mt-4 relative group",children:[c.jsxs(xe,{className:"w-full relative overflow-hidden bg-crimson/80 hover:bg-crimson/90 transition-all duration-300 text-white font-semibold text-base py-6 rounded-lg shadow-lg hover:shadow-xl hover:shadow-crimson/30 transform hover:-translate-y-0.5 border border-crimson/50",size:"lg",onClick:()=>k("/checkout"),children:[c.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[c.jsx("span",{className:"inline-block group-hover:animate-bounce",children:c.jsx(jo,{className:"w-5 h-5"})}),c.jsx("span",{children:t("cart.checkout")}),c.jsx("span",{className:"inline-flex items-center ml-1",children:c.jsx("span",{className:"relative w-4 h-4 inline-flex items-center justify-center",children:c.jsx("svg",{className:"absolute inset-0 w-full h-full",fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{animation:"arrowPulse 1.5s ease-in-out infinite",willChange:"transform",transformOrigin:"center center"},children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})})]}),c.jsx("span",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),c.jsx("div",{className:"absolute -bottom-1 left-1/2 w-4/5 h-2 bg-crimson/20 blur-md -translate-x-1/2 group-hover:opacity-100 opacity-70 transition-opacity duration-300"})]})]})]})]})})]}),c.jsxs(xC,{children:[c.jsx(bC,{asChild:!0,children:c.jsxs(xe,{variant:"ghost",className:"h-12 px-4 py-3 relative rounded-sm border-l text-white/90 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-crimson focus:ring-offset-2 focus:ring-offset-gray-900","aria-label":`${t("nav.favorites")} (${R.length} ${R.length===1?t("favorites.item"):t("favorites.items")})`,"aria-expanded":!1,children:[c.jsx(Sl,{className:"w-5 h-5","aria-hidden":"true"}),R.length>0&&c.jsx("div",{className:"absolute -top-2 -right-2",children:c.jsxs("div",{className:"relative",children:[c.jsx(lC,{variant:"secondary",className:"bg-crimson text-white relative z-10 animate-pulse","aria-hidden":"true",style:{animation:"pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite"},children:R.length}),c.jsx("div",{className:"absolute inset-0 bg-crimson/50 rounded-full blur-[6px] -z-0 animate-ping-slow",style:{animation:"ping 2s cubic-bezier(0, 0, 0.2, 1) infinite"}})]})}),c.jsx("span",{className:"sr-only",children:R.length>0?`${R.length} ${R.length===1?t("favorites.item"):t("favorites.items")} in ${t("nav.favorites").toLowerCase()}`:t("nav.favorites")})]})}),c.jsxs(Lx,{className:"w-full sm:max-w-xl bg-gradient-to-b from-gray-950 via-black/95 to-gray-950 border-l border-crimson/20 flex flex-col h-screen max-h-screen",children:[c.jsx(Vx,{className:"border-b border-crimson/20 pb-4",children:c.jsxs(HO,{className:"text-white text-2xl font-bold",children:[c.jsx("span",{className:"text-crimson",children:t("favorites.title")}),R.length>0&&c.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",R.length," ",R.length===1?t("favorites.item"):t("favorites.items"),")"]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 favorites-scrollbar",style:{scrollBehavior:"smooth",msOverflowStyle:"none",scrollbarWidth:"thin",scrollbarColor:"rgba(220, 38, 38, 0.4) rgba(220, 38, 38, 0.1)",height:"100%",padding:"1.5rem 0.5rem 1rem 0",WebkitOverflowScrolling:"touch"},children:[c.jsx("style",{children:`
                  @keyframes fadeInUp {
                    0% {
                      opacity: 0;
                      transform: translateY(10px);
                    }
                    100% {
                      opacity: 1;
                      transform: translateY(0);
                    }
                  }
                  
                  /* Custom scrollbar for WebKit browsers */
                  .favorites-scrollbar::-webkit-scrollbar {
                    width: 6px;
                    height: 6px;
                  }
                  .favorites-scrollbar::-webkit-scrollbar-track {
                    background: rgba(220, 38, 38, 0.1);
                    border-radius: 3px;
                  }
                  .favorites-scrollbar::-webkit-scrollbar-thumb {
                    background: rgba(220, 38, 38, 0.4);
                    border-radius: 3px;
                  }
                  .favorites-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: rgba(220, 38, 38, 0.6);
                  }
                  
                  /* For Firefox */
                  .favorites-scrollbar {
                    scrollbar-width: thin;
                    scrollbar-color: rgba(220, 38, 38, 0.4) rgba(220, 38, 38, 0.1);
                  }`}),R.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[c.jsx(Sl,{className:"w-12 h-12 text-crimson/30 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:t("favorites.empty_title",{defaultValue:"Your favorites list is empty"})}),c.jsx("p",{className:"text-gray-400 max-w-xs mb-6",children:t("favorites.empty_description",{defaultValue:"Add items to your favorites and they will appear here"})}),c.jsx(De,{to:"/shop",children:c.jsx(xe,{variant:"outline",className:"border-crimson/30 text-crimson hover:bg-crimson/10 hover:border-crimson/50",onClick:()=>document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape"})),children:t("favorites.browse_shop",{defaultValue:"Browse Shop"})})})]}):c.jsx("div",{className:"flex flex-col h-full -mt-1 -mx-1",children:P.map((U,G)=>c.jsxs("div",{className:"group relative flex gap-2 p-0 rounded-lg bg-gradient-to-r from-gray-900/90 via-gray-900/80 to-gray-900/60 hover:from-gray-900 hover:via-gray-900/90 hover:to-gray-900/70 transition-all duration-300 border border-crimson/10 hover:border-crimson/30 backdrop-blur-sm h-[calc(6rem*1.05)] m-0.5",style:{opacity:0,transform:"translateY(10px)",animation:`fadeInUp 0.3s ease-out forwards ${G*.05}s`,willChange:"opacity, transform",transition:"opacity 0.3s ease, transform 0.3s ease, border-color 0.3s ease",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},onClick:M=>{M.target.closest("button")||k(`/product/${U.id}`)},children:[c.jsx(De,{to:`/product/${U.id}`,className:"flex-shrink-0 w-24 h-full rounded-l-md overflow-hidden bg-gray-700/50",children:U.images&&U.images.length>0?c.jsx("img",{src:U.images[0],alt:U.name[e],className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:M=>{const F=M.target;F.src="/placeholder-product.jpg"}}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-700 p-2",children:c.jsx("span",{className:"text-xs text-gray-400 text-center",children:t("product.no_image")})})}),c.jsxs("div",{className:"flex-1 min-w-0 p-2 flex flex-col h-full justify-between",children:[c.jsxs("div",{children:[c.jsx(De,{to:`/product/${U.id}`,className:"block font-semibold text-white hover:text-crimson transition-colors text-[1.1rem] leading-tight line-clamp-2 mb-1",title:U.name[e],style:{fontSize:"calc(1rem * 1.1)"},onClick:M=>M.stopPropagation(),children:U.name[e]}),c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsxs("span",{className:"text-crimson font-bold whitespace-nowrap",style:{fontSize:"calc(1.125rem * 1.1)"},children:[U.price," "]}),U.stock===0&&c.jsx("span",{className:"text-xs text-amber-400 bg-amber-900/30 px-2 py-0.5 rounded-full",children:t("product.out_of_stock")})]})]}),c.jsxs("div",{className:"mt-auto flex justify-between items-end",children:[c.jsxs(xe,{variant:"outline",size:"sm",className:"h-8 text-xs border-crimson/20 text-crimson hover:bg-crimson/10 hover:border-crimson/40 transition-colors group/remove",onClick:M=>{M.preventDefault(),M.stopPropagation(),O(U.id)},children:[c.jsx(Sl,{className:"w-3.5 h-3.5 mr-1.5 fill-current group-hover/remove:hidden"}),c.jsx(xF,{className:"w-3.5 h-3.5 mr-1.5 hidden group-hover/remove:block text-red-400"}),t("favorites.remove")]}),c.jsxs(xe,{variant:"outline",size:"sm",className:"h-8 text-xs border-crimson/20 text-crimson hover:bg-crimson/10 hover:border-crimson/40 transition-colors group/add",onClick:M=>{M.preventDefault(),M.stopPropagation(),l(U)},disabled:U.stock===0,children:[c.jsx(jo,{className:"w-3.5 h-3.5 mr-1.5"}),t("product.add_to_cart")]})]})]})]},U.id))})]})]})]}),I.user?c.jsxs(De,{to:"/profile",className:"flex items-center gap-2 group p-1 pr-4 rounded-full transition-colors hover:bg-gray-800/50",children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-black border-2 border-crimson/50 overflow-hidden flex items-center justify-center group-hover:border-crimson transition-all duration-300 shadow-[0_0_10px_rgba(220,38,38,0.3)] hover:shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:(X=I.user)!=null&&X.photoURL?c.jsxs(c.Fragment,{children:[c.jsx("img",{src:I.user.photoURL,alt:"",className:"w-full h-full object-cover",onError:U=>{var F;console.error("Error loading user photo:",{photoURL:(F=I.user)==null?void 0:F.photoURL,user:I.user,error:U});const G=U.target;G.style.display="none";const M=G.nextElementSibling;M&&(M.style.display="flex")},onLoad:U=>{var G;console.log("Successfully loaded user photo:",{photoURL:(G=I.user)==null?void 0:G.photoURL,naturalWidth:U.target.naturalWidth,naturalHeight:U.target.naturalHeight})},crossOrigin:"anonymous","aria-hidden":"true"}),c.jsx("div",{className:"absolute inset-0 hidden items-center justify-center bg-gray-800",children:c.jsx(yp,{className:"w-5 h-5 text-crimson"})})]}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(yp,{className:"w-5 h-5 text-gray-300"})})})}),c.jsx("div",{className:"hidden md:flex items-center",children:c.jsx("span",{className:"text-sm font-medium text-white group-hover:text-crimson transition-colors tracking-wider",children:t("nav.profile").toUpperCase()})})]}):c.jsxs(kc,{open:E,onOpenChange:U=>C(U),children:[c.jsx(Fx,{asChild:!0,children:c.jsx(xe,{variant:"ghost",size:"icon",className:"relative h-10 w-10 p-0 rounded-full border-2 border-crimson/50 hover:border-crimson focus:outline-none focus:ring-2 focus:ring-crimson focus:ring-offset-2 focus:ring-offset-gray-900 overflow-hidden transition-all duration-300 shadow-[0_0_10px_rgba(220,38,38,0.3)] hover:shadow-[0_0_15px_rgba(220,38,38,0.5)]","aria-label":t("auth.sign_in"),children:c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black rounded-full group-hover:bg-gray-900 transition-colors duration-300",children:c.jsx(yp,{className:"w-5 h-5 text-crimson group-hover:scale-110 transition-transform duration-300"})})})}),c.jsxs(ba,{className:"sm:max-w-[425px] bg-black/95 border-crimson/20",children:[c.jsx(Nc,{children:c.jsx(Rc,{className:"text-white",children:t("auth.sign_in")})}),c.jsx(wee,{onClose:()=>C(!1)}),c.jsx(WO,{})]})]})]}),c.jsx("div",{className:"md:hidden flex items-center",children:c.jsxs("button",{onClick:()=>b(!m),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-crimson","aria-expanded":"false","aria-label":m?"Close menu":"Open menu",children:[c.jsx("span",{className:"sr-only",children:"Open main menu"}),m?c.jsx(yr,{className:"block h-6 w-6","aria-hidden":"true"}):c.jsx(SF,{className:"block h-6 w-6","aria-hidden":"true"})]})})]}),c.jsx("div",{className:`fixed inset-0 z-40 transform ${m?"translate-x-0":"-translate-x-full"} md:hidden transition-transform duration-300 ease-in-out`,style:{backgroundColor:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:c.jsxs("div",{className:"flex flex-col h-full overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-4",children:[c.jsxs(De,{to:"/",className:"flex items-center gap-2",onClick:()=>b(!1),children:[c.jsx("img",{src:"/lovable-uploads/nekos-logo.jpeg",alt:"NEKOSHOP Logo",className:"h-12 w-12 rounded-full"}),c.jsxs("h1",{className:"text-2xl font-bold text-white",children:[c.jsx("span",{className:"text-crimson",children:"NEKO"}),c.jsx("span",{children:"SHOP"})]})]}),c.jsxs("button",{onClick:()=>b(!1),className:"rounded-md p-2 text-gray-400 hover:bg-gray-900 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-crimson",children:[c.jsx("span",{className:"sr-only",children:"Close menu"}),c.jsx(yr,{className:"h-6 w-6","aria-hidden":"true"})]})]}),c.jsxs("div",{className:"px-6 py-6 space-y-1",children:[[{to:"/shop",text:t("nav.shop"),icon:c.jsx(rS,{className:"w-5 h-5 mr-3"})},{to:"/about",text:t("home.our_story"),icon:c.jsx(tS,{className:"w-5 h-5 mr-3"})},{to:"/contact",text:t("nav.contact"),icon:c.jsx(ww,{className:"w-5 h-5 mr-3"})},{to:"/faq",text:t("nav.faq"),icon:c.jsx(nS,{className:"w-5 h-5 mr-3"})}].map(U=>c.jsxs(De,{to:U.to,onClick:()=>b(!1),className:"flex items-center px-3 py-3 text-base font-medium text-gray-300 hover:bg-gray-800 hover:text-white rounded-md group",children:[U.icon,U.text,c.jsx(Pd,{className:"ml-auto w-5 h-5 text-gray-400 group-hover:text-crimson transition-colors"})]},U.to)),c.jsxs("button",{onClick:()=>{b(!1),f(!0)},className:"w-full flex items-center px-3 py-3 text-base font-medium text-gray-300 hover:bg-gray-800 hover:text-white rounded-md group",children:[c.jsx(xw,{className:"w-5 h-5 mr-3"}),t("cart.delivery").replace(":",""),c.jsx(Pd,{className:"ml-auto w-5 h-5 text-gray-400 group-hover:text-crimson transition-colors"})]}),c.jsx("div",{className:"pt-4 mt-4 border-t border-gray-800",children:c.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-400",children:t("nav.language")}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>n("en"),className:`px-3 py-1 text-sm rounded-md ${e==="en"?"bg-crimson text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"EN"}),c.jsx("button",{onClick:()=>n("ru"),className:`px-3 py-1 text-sm rounded-md ${e==="ru"?"bg-crimson text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"RU"}),c.jsx("button",{onClick:()=>n("ge"),className:`px-3 py-1 text-sm rounded-md ${e==="ge"?"bg-crimson text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"GE"})]})]})})]}),c.jsx("div",{className:"mt-auto p-6 bg-black/50 border-t border-gray-800",children:I.user?c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(De,{to:"/profile",className:"flex-1 flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-crimson hover:bg-crimson/90",onClick:()=>b(!1),children:t("nav.profile")}),c.jsx("button",{onClick:()=>{K(),b(!1)},className:"flex-1 flex items-center justify-center px-4 py-2 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-800 hover:bg-gray-700",children:t("auth.sign_out")})]}):c.jsx("button",{onClick:()=>{b(!1),C(!0)},className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-crimson hover:bg-crimson/90",children:t("auth.sign_in")})})]})}),c.jsx(zX,{isOpen:h,onClose:()=>p(!1)}),c.jsx(J5,{isOpen:u,onClose:()=>f(!1)})]})},es=()=>c.jsxs(c.Fragment,{children:[c.jsx(xee,{}),c.jsx(bee,{})]}),ts=()=>{const{t}=ze(),[e,n]=g.useState(!1);return c.jsxs("footer",{className:"bg-card border-t border-border mt-16",children:[c.jsxs("div",{className:"container mx-auto py-10 px-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/lovable-uploads/nekos-logo.jpeg",alt:"Neko mini logo",className:"h-8 w-8"}),c.jsxs("h3",{className:"text-xl font-bold tracking-tighter",children:[c.jsx("span",{className:"text-crimson",children:"NEKO"}),c.jsx("span",{className:"text-black",children:"."}),c.jsx("span",{className:"text-white",children:"shop"})]})]}),c.jsx("p",{className:"text-sm text-foreground/80",children:t("footer.alternative_jewelry")})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-bold",children:t("footer.shop")}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(De,{to:"/shop",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.all_products")})}),c.jsx("li",{children:c.jsx(De,{to:"/category/bracelets",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.bracelets")})}),c.jsx("li",{children:c.jsx(De,{to:"/category/necklaces",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.necklaces")})}),c.jsx("li",{children:c.jsx(De,{to:"/category/rings",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.rings")})}),c.jsx("li",{children:c.jsx(De,{to:"/category/candles",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.candles")})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-bold",children:t("footer.company")}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(De,{to:"/about",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.about_us")})}),c.jsx("li",{children:c.jsx(De,{to:"/contact",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.contact")})}),c.jsx("li",{children:c.jsx(De,{to:"/faq",className:"text-foreground/80 hover:text-crimson transition",children:t("footer.faq")})}),c.jsx("li",{children:c.jsx("button",{type:"button",onClick:()=>n(!0),className:"text-foreground/80 hover:text-crimson transition w-full text-left",children:t("footer.shipping")})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-bold",children:t("footer.info")}),c.jsx("div",{className:"space-y-2 text-foreground/80",children:c.jsx("p",{children:t("footer.handmade")})})]})]}),c.jsx("div",{className:"border-t border-border mt-8 pt-6 text-center text-sm text-foreground/60",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," NEKO.shop. All rights reserved."]})})]}),c.jsx(J5,{isOpen:e,onClose:()=>n(!1)})]})},hd=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));hd.displayName="Card";const qp=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));qp.displayName="CardHeader";const Hp=g.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));Hp.displayName="CardTitle";const Kp=g.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));Kp.displayName="CardDescription";const Wp=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("p-6 pt-0",t),...e}));Wp.displayName="CardContent";const _ee=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",t),...e}));_ee.displayName="CardFooter";const X5="productViews",Z5=()=>{if(typeof window>"u")return[];try{const t=localStorage.getItem(X5);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading from localStorage:",t),[]}},eM=t=>{if(!(typeof window>"u"))try{localStorage.setItem(X5,JSON.stringify(t))}catch(e){console.error("Error saving to localStorage:",e)}},Eee=t=>{if(typeof window>"u")return;const e=Date.now(),n=e-24*60*60*1e3;let r=Z5();r=r.filter(i=>i.timestamp>n);let s=r.find(i=>i.productId===t);s?(s.count+=1,s.timestamp=e):(s={productId:t,timestamp:e,count:1},r.push(s)),eM(r)},EC=()=>{if(typeof window>"u")return;const t=Date.now()-24*60*60*1e3,e=Z5(),n=e.filter(r=>r.timestamp>t);n.length!==e.length&&eM(n)};typeof window<"u"&&(EC(),setInterval(EC,60*60*1e3));const ag=({category:t="",featured:e=!1,id:n,name:r,materials:s=[],colors:i=[],description:o,price:a,currency:l,images:u,stock:f,onAddToCart:h,originalPrice:p})=>{const{t:m,language:b}=ze(),{cart:w,addToCart:y}=so(),{isInFavorites:x,addToFavorites:_,removeFromFavorites:E}=_v(),C=w.find(k=>k.product.id===n),R=(C==null?void 0:C.quantity)||0,O=f-R,S=O<=0,[I,N]=g.useState(!1);return g.useEffect(()=>{Eee(n)},[n]),g.useEffect(()=>{const k=()=>{N(Nl.checkInterest(n))};k();const D=setInterval(k,3e4);return()=>clearInterval(D)},[n]),c.jsx("div",{className:"h-full",children:c.jsx(hd,{className:`product-card bg-card border-2 border-border overflow-hidden h-full flex flex-col ${S?"opacity-75":""}`,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(De,{to:`/product/${n}`,className:"block flex-shrink-0",children:c.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted group",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-5 z-0",children:c.jsx(Ns,{className:"w-40 h-40"})}),c.jsx("div",{className:"relative w-full h-full",children:c.jsx("img",{src:u[0],alt:r[b],className:`object-cover w-full h-full transition-transform duration-300 ${S?"":"group-hover:scale-105"} relative z-1`})}),c.jsx("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),x(n)?E(n):_(n)},className:"absolute top-2 left-2 z-10 p-2 rounded-full bg-background/80 backdrop-blur-sm hover:bg-background/90 transition-colors",children:c.jsx(Sl,{className:`w-5 h-5 ${x(n)?"fill-crimson text-crimson":"text-foreground/60"}`})}),c.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col gap-2",children:[S?c.jsx("span",{className:"bg-background/80 backdrop-blur-sm text-foreground/80 text-xs px-2 py-1 rounded",children:m("product.out_of_stock")}):c.jsxs("span",{className:"bg-background/80 backdrop-blur-sm text-crimson text-xs px-2 py-1 rounded",children:[m("product.in_stock")," ",O]}),I&&!S&&c.jsx("span",{className:"bg-background/80 backdrop-blur-sm text-amber-500 text-xs px-2 py-1 rounded animate-pulse",children:m("product.in_cart")})]})]})}),c.jsx("div",{className:"p-4 pb-2",children:c.jsx(De,{to:`/product/${n}`,className:"block",children:c.jsx("h3",{className:"text-xl font-bold text-crimson",children:r[b]})})}),c.jsx("div",{className:"px-4 py-2 flex-grow",children:c.jsx("p",{className:"text-sm text-foreground/80 line-clamp-3",children:o[b]})}),c.jsxs("div",{className:"p-4 pt-2 flex flex-col gap-3",children:[c.jsx("div",{className:"flex items-center gap-2",children:p&&p>a?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-xl font-bold text-crimson",children:`${a} `}),c.jsx("span",{className:"text-sm text-muted-foreground line-through",children:`${p} `}),c.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-1.5 py-0.5 rounded",children:[Math.round((p-a)/p*100),"% OFF"]})]}):c.jsx("span",{className:"text-xl font-bold text-crimson",children:`${a} `})}),c.jsxs(xe,{className:`w-full relative ${S?"bg-muted text-muted-foreground cursor-not-allowed":"bg-crimson hover:bg-crimson/90 text-black font-medium"}`,onClick:()=>!S&&h({id:n,name:r,description:o,price:a,currency:l,images:u,stock:f,category:t,featured:e,materials:s||[],colors:i||[]}),disabled:S,children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10 z-0",children:c.jsx(jo,{className:"w-8 h-8"})}),c.jsxs("span",{className:"relative z-1 flex items-center",children:[c.jsx(jo,{className:"mr-2 h-4 w-4"}),m(S?"product.out_of_stock":"product.add_to_cart")]})]})]})]})})})},z_=({reviews:t,showTitle:e=!0,showOnlyVerified:n=!0})=>{const r=n?t.filter(u=>u.isVerifiedPurchase):t,{t:s}=ze();if(r.length===0)return c.jsx("div",{className:"text-center py-6 text-foreground/70",children:c.jsx("p",{children:s("reviews.no_reviews")})});const i=u=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(u)),o=u=>{if(!u)return null;const f={"":s("reactions.love"),"":s("reactions.funny"),"":s("reactions.mind_blown")};return{emoji:u,label:f[u]||""}},a=u=>({"":s("reviews.categories.price"),"":s("reviews.categories.quality"),"":s("reviews.categories.design"),"":s("reviews.categories.delivery"),"":s("reviews.categories.packaging"),"":s("reviews.categories.usability")})[u]||u,l=u=>{const f=[],h=Math.floor(u),p=u%1>=.5,m=5-h-(p?1:0);for(let b=0;b<h;b++)f.push(c.jsx(Ns,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},`full-${b}`));p&&f.push(c.jsx(kF,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},"half"));for(let b=0;b<m;b++)f.push(c.jsx(NF,{className:"h-4 w-4 text-gray-300"},`empty-${b}`));return f};return c.jsxs("div",{className:"space-y-6",children:[e&&c.jsxs("h3",{className:"text-lg font-medium",children:[s("reviews.customer_reviews")," (",r.length,")"]}),c.jsx("div",{className:"space-y-6",children:r.map(u=>{const f=o(u.reaction);return c.jsxs("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:u.userName}),c.jsxs("div",{className:"flex items-center mt-1",children:[c.jsx("div",{className:"flex",children:l(u.rating)}),c.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:i(u.date)})]})]}),u.isVerifiedPurchase&&c.jsxs("span",{className:"inline-flex items-center text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[c.jsx(mF,{className:"h-3 w-3 mr-1"}),s("reviews.verified_purchase")]})]}),f&&c.jsx("div",{className:"mt-2",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:[c.jsx("span",{className:"text-base mr-1",children:f.emoji}),f.label]})}),c.jsx("p",{className:"text-foreground mt-3",children:u.comment}),u.feedbackCategories&&u.feedbackCategories.length>0&&c.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:u.feedbackCategories.map(h=>c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:[c.jsx("span",{className:"mr-1",children:h}),a(h)]},h))}),u.likedFeatures&&c.jsx("div",{className:"mt-3 p-3 bg-muted/30 rounded-md",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.jsx("span",{className:"font-medium",children:u.userName.split(" ")[0]})," ",s("reviews.liked"),": ",u.likedFeatures]})}),u.photoUrl&&c.jsx("div",{className:"mt-3",children:c.jsx("img",{src:u.photoUrl,alt:"Review",className:"h-32 w-32 object-cover rounded-md border"})})]},u.id)})})]})},Iee=()=>{const t=localStorage.getItem("orders");return t?JSON.parse(t).map(n=>({...n,date:new Date(n.date)})):[]};let See=Iee();const Tee=(t,e)=>See.some(n=>n.userId===t&&n.productId===e&&n.status==="completed"),Cee=()=>{if(typeof window>"u")return[];try{const t=localStorage.getItem("reviews");return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load reviews:",t),[]}},kee=t=>{localStorage.setItem("reviews",JSON.stringify(t))};let xs=Cee();const Nee=()=>[...xs].sort((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime()),tM=t=>xs.filter(e=>e.productId===t).sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime()),Ree=(t=3)=>[...xs].sort((e,n)=>n.rating-e.rating).slice(0,t),Pee=(t,e)=>xs.some(n=>n.userId===t&&n.productId===e),nM=(t,e)=>Pee(t,e)?{canReview:!1,reason:"reviews.already_reviewed"}:Tee(t,e)?{canReview:!0}:{canReview:!1,reason:"reviews.must_purchase"},Aee=t=>{if(!t.userId||!t.userName||!t.comment)return console.error("Invalid review data: Missing required fields"),null;const e=t.comment.trim();if(e.length<10||e.length>1e3)return console.error("Invalid review: Comment must be between 10 and 1000 characters"),null;if(!Number.isInteger(t.rating)||t.rating<1||t.rating>5)return console.error("Invalid review: Rating must be an integer between 1 and 5"),null;const n=["test","admin","user","reviewer","tester","fake","example","sample"],r=t.userName.toLowerCase(),s=e.toLowerCase();if([r,s].some(h=>n.some(p=>h.includes(p))))return console.error("Suspicious content detected in review"),null;if(["great","good","nice","excellent","perfect","awesome","amazing","love it","super","wow","cool","best","recommend","5 stars"].some(h=>s===h||s.split(/\s+/).length<3))return console.error("Review is too generic or lacks detail"),null;const{canReview:l,reason:u}=nM(t.userId,t.productId);if(!l)throw new Error(u);const f={...t,id:Math.max(0,...xs.map(h=>h.id))+1,isVerifiedPurchase:!0};return xs=[f,...xs],kee(xs),t.rating===5&&(GO(t.userId).some(m=>m.type==="review")||(rM(t.userId),BX(t.userId,"review",5))),f},jee=t=>{const e=tM(t);if(e.length===0)return 0;const n=e.reduce((r,s)=>r+s.rating,0);return Math.round(n/e.length*10)/10},IC=t=>xs.filter(e=>e.userId===t).sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime()),SC=t=>(t||"").toLowerCase().trim(),Dee=(t,e)=>t.filter(n=>{if(e.priceRange&&(n.price<e.priceRange[0]||n.price>e.priceRange[1]))return!1;if(e.categories&&e.categories.length>0){const s=SC(n.category);if(!e.categories.some(o=>SC(o)===s))return!1}const r=n.stock>0;return!(e.inStock&&!r||e.outOfStock&&r||e.onSale&&!n.onSale)}),rM=t=>{},Oee=async(t,e,n)=>new Promise(r=>{let s=0;const i=setInterval(()=>{if(s+=10+Math.random()*20,s>=100){s=100,clearInterval(i);const o=URL.createObjectURL(t);r(o)}n==null||n(s)},200)}),Mee=()=>{const{t}=ze(),e=Ree(3);return c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"flex flex-col space-y-4 mb-6 bg-card border border-border rounded-lg p-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4 relative z-10 font-medieval",children:[c.jsx("span",{className:"text-crimson",children:t("reviews.title_part1")})," ",c.jsx("span",{className:"text-white",children:t("reviews.title_part2")})]}),c.jsxs(De,{to:"/reviews",className:"inline-flex items-center justify-center gap-2 px-6 py-3 text-base font-medium bg-crimson/10 hover:bg-crimson/20 text-crimson border border-crimson/20 rounded-md transition-colors group",children:[t("reviews.view_all"),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-right h-4 w-4 transition-transform group-hover:translate-x-1",children:[c.jsx("path",{d:"M5 12h14"}),c.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]})}),c.jsx(z_,{reviews:e,showTitle:!1})]})};function Ml({className:t,...e}){return c.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",t),...e})}const xo={recently_viewed:{ru:" ",en:"Recently Viewed",ge:"  "},empty_state:{ru:"     ",en:"Your recently viewed products will appear here",ge:"     "},view_shop:{ru:" ",en:"View Shop",ge:""},product_not_found:{ru:"   ",en:"Product information not available",ge:"  "},product:{ru:"",en:"Product",ge:""},no_description:{ru:" ",en:"No description",ge:"  "},error_loading:{ru:"  ",en:"Error loading",ge:" "},remove:{ru:"",en:"Remove",ge:""},favorites:{add:{ru:"  ",en:"Add to favorites",ge:" "},remove:{ru:"  ",en:"Remove from favorites",ge:" "},added:{ru:"  ",en:"Added to favorites",ge:" "},removed:{ru:"  ",en:"Removed from favorites",ge:" "}},common:{error_occurred:{ru:" ",en:"An error occurred",ge:" "}}},Lee=({className:t=""})=>{const[e,n]=g.useState([]),[r,s]=g.useState(!0),[i,o]=g.useState(null),[a,l]=g.useState(!0),[u,f]=g.useState(!1),{language:h,t:p}=ze(),m=g.useRef(null),b=g.useCallback(()=>{m.current&&m.current.scrollBy({left:-300,behavior:"smooth"})},[]),w=g.useCallback(()=>{m.current&&m.current.scrollBy({left:300,behavior:"smooth"})},[]),{toast:y}=Ia(),{isInFavorites:x,addToFavorites:_,removeFromFavorites:E}=_v(),C=g.useCallback(I=>{const N=typeof I.name=="object"?I.name[h]||I.name.en||"":I.name||"",k=typeof I.description=="object"?I.description[h]||I.description.en||"":I.description||"";return{name:N,description:k}},[h]),R=g.useCallback(async()=>{console.log("Fetching recently viewed items..."),s(!0),o(null);try{const I=await Dl.getRecent(12);if(console.log("Recently viewed items:",I),!I||I.length===0){console.log("No recently viewed items found"),n([]);return}const k=(await Promise.all(I.map(async D=>{try{const P=await sg(D.productId);if(P){const j=await x(D.productId),{name:K,description:X}=C(P);return{...P,id:D.productId,viewCount:D.viewCount||1,isFavorite:D.isFavorite||j,displayName:K,displayDescription:X,rating:P.rating||0}}return null}catch(P){return console.error(`Error fetching product ${D.productId}:`,P),null}}))).filter(D=>D!==null);console.log("Fetched recently viewed products:",k),n(k)}catch(I){console.error("Error fetching recently viewed items:",I),o(p("error_loading_products"))}finally{s(!1)}},[p,x,C]);g.useEffect(()=>{console.log("RecentlyViewed component mounted"),R();const I=N=>{var k;console.log("Storage event detected:",N),(N.key==="recently_viewed_removed"||(k=N.key)!=null&&k.startsWith("recently_viewed_products")&&N.newValue===null)&&(console.log("Relevant storage change detected, refreshing..."),R())};return window.addEventListener("storage",I),()=>{console.log("RecentlyViewed component unmounting"),window.removeEventListener("storage",I)}},[R]),g.useEffect(()=>{const I=m.current;if(!I)return;const N=()=>{if(!I)return;const{scrollLeft:k,scrollWidth:D,clientWidth:P}=I,j=k<10,K=k+P>=D-10;l(j),f(K)};return N(),I.addEventListener("scroll",N,{passive:!0}),()=>{I.removeEventListener("scroll",N)}},[e]);const O=async(I,N)=>{N.preventDefault(),N.stopPropagation();try{const k=!I.isFavorite;n(D=>D.map(P=>P.id===I.id?{...P,isFavorite:k}:P)),k?await _(I.id):await E(I.id),await Dl.updateFavoriteStatus(I.id,k),y({title:p(k?"favorites.added":"favorites.removed"),variant:"default"})}catch(k){console.error("Error toggling favorite:",k),y({title:p("common.error_occurred"),variant:"destructive"}),n(D=>D.map(P=>P.id===I.id?{...P,isFavorite:!I.isFavorite}:P))}},S=async(I,N)=>{N.preventDefault(),N.stopPropagation();const k=[...e];n(D=>D.filter(P=>P.id!==I));try{await Dl.removeProduct(I),typeof window<"u"&&(localStorage.setItem("recently_viewed_removed",Date.now().toString()),window.dispatchEvent(new Event("storage")))}catch(D){console.error("Error removing item:",D),n(k),y({title:p("common.error_occurred"),variant:"destructive"})}};return console.log("Render - Loading:",r,"Error:",i,"Items:",e.length),r&&e.length===0?c.jsx("section",{className:ae("py-12",t),children:c.jsxs("div",{className:"container mx-auto px-4",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:p("recently_viewed")}),c.jsx("div",{className:"flex overflow-x-auto pb-4 -mx-2 px-2 scrollbar-hide",children:c.jsx("div",{className:"flex space-x-4 min-w-max",children:[...Array(5)].map((I,N)=>c.jsx("div",{className:"w-[200px] flex-shrink-0",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx(Ml,{className:"h-48 w-full rounded-lg"}),c.jsx(Ml,{className:"h-4 w-3/4"}),c.jsx(Ml,{className:"h-4 w-1/2"})]})},N))})})]})}):i?c.jsx("section",{className:ae("py-12",t),children:c.jsx("div",{className:"container mx-auto px-4 text-center",children:c.jsx("p",{className:"text-red-500",children:i})})}):e.length===0?c.jsx("section",{className:ae("py-16 bg-muted/30",t),children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 font-medieval tracking-tight",children:c.jsx("span",{className:"text-crimson",children:xo.recently_viewed[h]})}),c.jsx("p",{className:"text-xl text-gray-300/90 mb-8 max-w-lg mx-auto leading-relaxed",children:xo.empty_state[h]}),c.jsxs(De,{to:"/shop",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"inline-flex items-center justify-center px-8 py-4 border-2 border-crimson bg-crimson/10 hover:bg-crimson/20 text-white text-lg font-medium rounded-md transition-all duration-300 hover:shadow-lg hover:shadow-crimson/20 hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-crimson focus:ring-offset-2 focus:ring-offset-gray-900",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-crimson",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),xo.view_shop[h]]})]})})})}):c.jsx("section",{className:ae("py-16",t),children:c.jsxs("div",{className:"w-full overflow-hidden",children:[c.jsxs("div",{className:"container mx-auto px-4 mb-10",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-center font-medieval tracking-tight mb-3",children:c.jsx("span",{className:"text-crimson",children:xo.recently_viewed[h]})}),c.jsx("div",{className:"w-24 h-0.5 bg-crimson/60 mx-auto mb-12"})]}),c.jsxs("div",{className:"relative px-8",children:[c.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-24 z-10 bg-gradient-to-r from-background via-background/90 to-transparent pointer-events-none transition-opacity duration-300 ${a?"opacity-0":"opacity-100"}`}),c.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-24 z-10 bg-gradient-to-l from-background via-background/90 to-transparent pointer-events-none transition-opacity duration-300 ${u?"opacity-0":"opacity-100"}`}),c.jsx("button",{onClick:b,className:`absolute left-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 flex items-center justify-center bg-background/80 backdrop-blur-sm text-foreground/70 hover:text-foreground rounded-full shadow-lg border border-gray-800 hover:border-crimson/50 transition-all duration-300 group ${a?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Scroll left",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:w,className:`absolute right-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 flex items-center justify-center bg-background/80 backdrop-blur-sm text-foreground/70 hover:text-foreground rounded-full shadow-lg border border-gray-800 hover:border-crimson/50 transition-all duration-300 group ${u?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Scroll right",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),c.jsx("div",{ref:m,className:"flex overflow-x-auto pb-10 scrollbar-hide",style:{scrollBehavior:"smooth",scrollbarWidth:"none",msOverflowStyle:"none",padding:"0 calc((100% - 1280px) / 2)"},children:c.jsx("div",{className:"flex space-x-6 transition-all duration-300 px-4",children:e.map(I=>{var N;return c.jsx("div",{className:"w-[260px] flex-shrink-0 group",children:c.jsx(De,{to:`/product/${I.id}`,className:"relative block h-full",children:c.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gray-900/60 border border-gray-800 shadow-xl transition-all duration-500 group-hover:shadow-2xl group-hover:border-crimson/40 h-full flex flex-col",children:[c.jsxs("div",{className:"aspect-square overflow-hidden bg-gray-900 relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10"}),c.jsx("img",{src:((N=I.images)==null?void 0:N[0])||"/placeholder-product.jpg",alt:I.displayName,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",onError:k=>{const D=k.target;D.src="/placeholder-product.jpg"}})]}),c.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20",children:c.jsxs("div",{className:"absolute top-3 right-3 flex flex-col space-y-2",children:[c.jsx("button",{type:"button",onClick:k=>O(I,k),className:ae("p-2 rounded-full backdrop-blur-sm shadow-lg transition-all duration-200 transform hover:scale-110",I.isFavorite?"bg-red-900/60 text-red-400 hover:bg-red-900/80":"bg-gray-900/70 text-gray-300 hover:bg-gray-800/90 hover:text-white"),"aria-label":I.isFavorite?xo.favorites.remove[h]:xo.favorites.add[h],children:c.jsx(Sl,{className:ae("h-5 w-5",I.isFavorite?"fill-current":"fill-none"),strokeWidth:1.5})}),c.jsx("button",{type:"button",onClick:k=>S(I.id,k),className:"p-2 rounded-full bg-gray-900/70 backdrop-blur-sm text-gray-300 hover:bg-gray-800/90 hover:text-white transition-all duration-200 transform hover:scale-110","aria-label":xo.remove[h],children:c.jsx(yr,{className:"h-5 w-5"})})]})}),c.jsxs("div",{className:"p-5 pt-3 mt-auto bg-gradient-to-t from-black/90 via-black/80 to-transparent",children:[c.jsx("h3",{className:"font-medium text-base line-clamp-2 mb-2 text-white group-hover:text-crimson transition-colors duration-300",children:I.displayName}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-lg font-bold text-white",children:[I.price," ",I.currency]}),typeof I.rating=="number"&&c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-800/80 backdrop-blur-sm px-2.5 py-1 rounded-full",children:[c.jsx(Ns,{className:"h-4 w-4 text-yellow-400 fill-current"}),c.jsx("span",{className:"text-xs font-semibold text-gray-100",children:I.rating.toFixed(1)})]})]})]})]})})},I.id)})})})]})]})})};Nv`
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
`;Nv`
  0% {
    transform: scale(1);
    opacity: 0.7;
  }
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
`;document.head.insertAdjacentHTML("beforeend",`
  <style>
    @keyframes slowPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    @keyframes slowPing {
      75%, 100% {
        transform: scale(1.8);
        opacity: 0;
      }
    }
    .animate-slow-pulse {
      animation: slowPulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    .animate-slow-ping {
      animation: slowPing 3s cubic-bezier(0, 0, 0.2, 1) infinite;
    }
    .animate-ping-slow {
      animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
    }
    .animate-pulse-slow {
      animation: pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    @keyframes move-right {
      0% { transform: translateX(-100%); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateX(100vw); opacity: 0; }
    }
    .animate-float {
      animation: float 4s ease-in-out infinite;
    }
    .animate-move-right {
      animation: move-right 8s linear infinite;
    }
    .delay-500 {
      animation-delay: 0.5s;
    }
    .delay-1000 {
      animation-delay: 1s;
    }
    .animate-spin-slow {
      animation: spin 3s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    @keyframes spin-reverse {
      from { transform: rotate(0deg); }
      to { transform: rotate(-360deg); }
    }
    .animate-spin-slow-reverse {
      animation: spin-reverse 4s linear infinite;
    }
  </style>
`);const Vee=()=>{const{t,language:e}=ze(),{addToCart:n}=so(),[r,s]=g.useState(null),[i,o]=g.useState(!1);g.useState(!1);const[a,l]=g.useState(!1),[u,f]=g.useState(null),[h,p]=g.useState(!0);VX();const m=zr().slice(0,4),b=zr(),w=Array.from(new Set(["chokers","earrings","bracelets","rings","hairpins","candles","necklaces",...b.map(S=>S.category)].filter(Boolean))).sort();g.useEffect(()=>{(async()=>{try{p(!0);const I=zr(),N=I.filter(D=>D.featured);N.length>0?s(N[0]):s(I[0]||null);const k=$x();f(k)}catch(I){console.error("Error loading products:",I)}finally{p(!1)}})()},[]);const y=S=>{if(o(S),l(!1),!S){const I=$x();f(I)}};g.useEffect(()=>{var N;(new URLSearchParams(window.location.search).get("categories")==="true"||(N=window.history.state)!=null&&N.openCategoriesModal)&&l(!0);const I=k=>{var D;if((D=k.state)!=null&&D.openCategoriesModal)l(!0);else{const P=new URLSearchParams(window.location.search);l(P.get("categories")==="true")}};return window.addEventListener("popstate",I),()=>window.removeEventListener("popstate",I)},[]);const x=()=>{const S=new URLSearchParams(window.location.search);S.set("categories","true"),window.history.pushState({openCategoriesModal:!0},"",`?${S.toString()}`),l(!0)},_=()=>{window.history.replaceState({},"",window.location.pathname),l(!1)},E=S=>{S.stopPropagation(),a?_():x()},C=()=>{_()},R=S=>{const I=zr().find(N=>N.id===S);I&&n(I)},O=Q.useMemo(()=>{const S=zr(),I=[31];return[...S.filter(k=>I.includes(k.id)&&k.originalPrice&&k.originalPrice>k.price)].sort((k,D)=>k.id-D.id)},[]);return h?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-crimson"})}):c.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[c.jsx(es,{}),c.jsxs("section",{className:"relative overflow-hidden",children:[c.jsxs("div",{className:"relative flex items-start justify-center h-[calc(70vh-64px)] -mt-[6%]",children:[c.jsx("div",{className:"relative w-[65%] h-full",children:c.jsx("img",{src:"/lovable-uploads/backgrnd.jpeg",alt:"Background",className:"w-full h-full object-cover object-center",style:{objectPosition:"center 30%",opacity:.37}})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/80 via-background/30 to-background/90"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("div",{className:"container mx-auto text-center relative z-10",children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:"absolute -top-12 -left-12 w-32 h-32 rounded-full bg-crimson/10 blur-3xl animate-pulse-slow"}),c.jsx("div",{className:"absolute -bottom-8 -right-8 w-24 h-24 rounded-full bg-crimson/5 blur-2xl animate-pulse-slow delay-1000"}),c.jsxs("h1",{className:"text-6xl md:text-8xl font-bold tracking-tight mb-6 relative z-10 font-medieval",children:[c.jsx("div",{className:"absolute -left-16 -top-8 w-8 h-8 rounded-full bg-crimson/20 blur-md animate-float"}),c.jsx("div",{className:"absolute -right-12 -bottom-4 w-6 h-6 rounded-full bg-crimson/15 blur-sm animate-float delay-500"}),c.jsxs("div",{className:"relative inline-block",children:[c.jsxs("span",{className:"relative",children:[c.jsx("span",{className:"relative z-10 text-crimson drop-shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"Pawmade"})," ",c.jsx("span",{className:"text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"Oddities"})]}),c.jsx("span",{className:"absolute -bottom-2 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-crimson/60 to-transparent",children:c.jsx("span",{className:"absolute top-0 left-0 w-8 h-full bg-crimson/80 blur-sm animate-move-right"})})]})]})]}),c.jsx("p",{className:"text-xl text-foreground/80 max-w-2xl mx-auto mb-8",children:t("home.subtitle")}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-900 via-crimson to-red-800 rounded-xl blur opacity-75 group-hover:opacity-100 group-hover:duration-200 transition-all duration-700"}),c.jsxs(De,{to:"/shop",className:"relative flex items-center justify-center bg-gradient-to-br from-gray-900 to-black text-white font-bold px-14 py-6 text-lg rounded-xl border-2 border-red-900/60 hover:border-crimson/80 shadow-2xl hover:shadow-[0_0_25px_rgba(185,28,28,0.4)] transition-all duration-300 transform group-hover:scale-105 overflow-hidden",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-3 tracking-wider",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-bounce",style:{animationDuration:"2s"},children:[c.jsx("circle",{cx:"8",cy:"21",r:"1"}),c.jsx("circle",{cx:"19",cy:"21",r:"1"}),c.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),t("home.shop_now")]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-red-900/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"})]})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-900/80 via-red-800/60 to-red-900/80 rounded-xl blur opacity-75 group-hover:opacity-100 group-hover:duration-200 transition-all duration-700"}),c.jsxs("button",{onClick:E,className:"relative flex items-center justify-center bg-gradient-to-br from-gray-900 to-black text-white/90 hover:text-white font-bold px-14 py-6 text-lg rounded-xl border-2 border-red-900/60 hover:border-red-800/70 shadow-2xl hover:shadow-[0_0_25px_rgba(153,27,27,0.25)] transition-all duration-300 transform group-hover:scale-105 overflow-hidden",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-3 tracking-wider",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:rotate-12 transition-transform duration-300",children:[c.jsx("rect",{x:"3",y:"4",width:"18",height:"4",rx:"1"}),c.jsx("rect",{x:"3",y:"10",width:"18",height:"4",rx:"1"}),c.jsx("rect",{x:"3",y:"16",width:"18",height:"4",rx:"1"})]}),t("product.categories")]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-red-900/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"})]})]})]})]})})]}),c.jsx("section",{className:"py-12 px-4 bg-background relative z-20",children:c.jsx("div",{className:"container mx-auto",children:c.jsx("div",{className:"w-[101%] -mx-[0.5%] relative",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -top-20 left-0 right-0 flex items-center",children:c.jsxs("div",{className:"flex gap-8",children:[c.jsx("div",{className:"relative group",children:c.jsxs("button",{onClick:()=>y(!1),className:"relative z-10 px-4 py-3 text-[1.65rem] font-medium cursor-pointer uppercase tracking-wider flex items-center gap-2 font-medieval transition-all duration-500 transform hover:scale-105 border-0 outline-none focus:outline-none focus:ring-0 focus:ring-offset-0 overflow-hidden rounded-lg",style:{background:"linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.03) 50%, rgba(0,0,0,0) 100%)",boxShadow:`${!i&&!a?"0 0 15px rgba(220, 38, 38, 0.3)":"none"}`},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-crimson/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{animation:"shimmer 3s infinite linear",backgroundImage:"linear-gradient(90deg, transparent, rgba(220, 38, 38, 0.2) 50%, transparent)"}}),c.jsx("span",{className:`relative z-10 transition-all duration-300 ${!i&&!a?"text-crimson font-bold":"text-foreground/80 group-hover:text-crimson"}`,children:t("home.most_popular").split(" ")[0]}),c.jsx("span",{className:`relative z-10 transition-all duration-300 ${!i&&!a?"text-crimson font-bold":"text-foreground/80 group-hover:text-crimson"}`,children:t("home.most_popular").split(" ").slice(1).join(" ")}),c.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-crimson to-transparent ${!i&&!a?"opacity-100":"opacity-0 group-hover:opacity-70"} transition-opacity duration-500`})]})}),c.jsx("div",{className:"relative group",children:c.jsxs("button",{onClick:()=>y(!0),className:"relative z-10 px-4 py-3 text-[1.65rem] font-medium cursor-pointer uppercase tracking-wider flex items-center gap-2 font-medieval transition-all duration-500 transform hover:scale-105 border-0 outline-none focus:outline-none focus:ring-0 focus:ring-offset-0 overflow-hidden rounded-lg",style:{background:"linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.03) 50%, rgba(0,0,0,0) 100%)",boxShadow:`${i&&!a?"0 0 15px rgba(220, 38, 38, 0.3)":"none"}`},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-crimson/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700",style:{animation:"shimmer 8s infinite linear",backgroundImage:"linear-gradient(90deg, transparent, rgba(220, 38, 38, 0.2) 50%, transparent)"}}),c.jsx("span",{className:`relative z-10 transition-all duration-500 ${i&&!a?"text-crimson font-bold":"text-foreground/80 group-hover:text-crimson"}`,children:t("product.discounts")}),O.length>0&&c.jsxs("span",{className:"relative z-10 bg-red-900/80 text-white text-sm font-bold px-2.5 py-0.5 rounded-full flex items-center justify-center min-w-6 h-6 transform transition-all duration-500 group-hover:scale-110",children:[c.jsx("span",{className:"relative z-20",children:O.length}),c.jsx("span",{className:"absolute inset-0 rounded-full bg-red-900/80 opacity-70",style:{animation:"ping 3s cubic-bezier(0, 0, 0.2, 1) infinite",animationDelay:"2s"}})]}),c.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-crimson to-transparent ${i&&!a?"opacity-100":"opacity-0 group-hover:opacity-70"} transition-opacity duration-500`})]})})]})}),c.jsxs("div",{className:"mt-12",children:[!i&&r&&c.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[c.jsxs("div",{className:"relative aspect-square max-w-md mx-auto md:mx-0 rounded-xl overflow-hidden border-2 border-crimson/20",children:[c.jsx("a",{className:"block h-full w-full",href:`/product/${r.id}`,children:c.jsx("img",{src:r.images[0],alt:r.name[e],className:"w-full h-full object-cover"})}),c.jsx("div",{className:"absolute top-3 right-3 bg-crimson/90 text-white text-xs font-bold px-2 py-1 rounded-full",children:t("most_popular")})]}),c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-3xl font-bold text-crimson",children:r.name[e]})}),c.jsx("div",{className:"flex-grow",children:c.jsx("p",{className:"text-lg text-foreground/90 leading-relaxed mb-6",children:r.description[e]})}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border",children:[c.jsxs("p",{className:"text-3xl font-bold text-crimson",children:[r.price," ",r.currency]}),c.jsxs("button",{onClick:()=>R(r.id),className:"bg-crimson hover:bg-crimson/90 text-white font-medium py-3 px-8 rounded-full transition-all flex items-center gap-2 hover:scale-105",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-shopping-cart",children:[c.jsx("circle",{cx:"8",cy:"21",r:"1"}),c.jsx("circle",{cx:"19",cy:"21",r:"1"}),c.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),t("product.add_to_cart")]})]})]})]}),i&&O.length>0&&c.jsx("div",{className:"mt-8",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"flex overflow-x-auto pb-6 -mx-4 px-4 scrollbar-thin scrollbar-thumb-crimson/50 scrollbar-track-transparent hover:scrollbar-thumb-crimson/70 scrollbar-thumb-rounded-full",children:c.jsx("div",{className:"flex space-x-6 pr-4",children:O.map(S=>c.jsx("div",{className:"w-80 flex-shrink-0",children:c.jsx(ag,{...S,originalPrice:S.originalPrice,onAddToCart:()=>R(S.id)})},`discounted-${S.id}`))})}),c.jsx("div",{className:"absolute left-0 right-0 bottom-0 h-1 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-crimson/70 transition-all duration-300",style:{width:"30%"}})})]})})]})]})})})}),c.jsx("section",{className:"py-12 px-4 bg-background relative z-20",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h2",{className:"text-4xl md:text-6xl font-bold tracking-tight relative z-10 font-medieval",children:[c.jsx("span",{className:"text-crimson",children:t("home.popular_products").split(" ")[0]}),t("home.popular_products").split(" ").length>1&&c.jsxs("span",{className:"text-white",children:[" ",t("home.popular_products").split(" ").slice(1).join(" ")]})]}),c.jsx("div",{className:"w-16 h-0.5 bg-crimson/60 mt-2"})]}),c.jsxs(De,{to:"/shop",className:"inline-flex items-center justify-center gap-2 px-6 py-3 text-base font-medium bg-crimson/10 hover:bg-crimson/20 text-crimson border border-crimson/20 rounded-md transition-colors group",children:[t("home.view_all"),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-right h-4 w-4 transition-transform group-hover:translate-x-1",children:[c.jsx("path",{d:"M5 12h14"}),c.jsx("path",{d:"m12 5 7 7-7 7"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map(S=>c.jsx(ag,{...S,onAddToCart:()=>R(S.id)},S.id))}),c.jsx("div",{className:"col-span-full mt-12",children:c.jsx(Lee,{className:"bg-muted/30"})})]})}),c.jsx("div",{className:"w-[94%] mx-auto",children:c.jsx("div",{className:"mx-0.5",children:c.jsx(Mee,{})})}),c.jsx(ts,{}),a&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all duration-300",onClick:C,children:c.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-crimson/50 shadow-2xl shadow-crimson/10 transform transition-all duration-300 scale-95 hover:scale-100",onClick:S=>S.stopPropagation(),style:{animation:"fadeInUp 0.4s ease-out forwards",opacity:0,transform:"translateY(20px)"},children:[c.jsxs("div",{className:"relative p-8",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-crimson/90 via-crimson/70 to-crimson/90"}),c.jsxs("div",{className:"flex flex-col items-center mb-8",children:[c.jsx("h3",{className:"text-3xl font-bold text-white font-medieval tracking-wider mb-2",children:t("product.categories")}),c.jsx("div",{className:"w-24 h-1 bg-crimson/70 rounded-full"})]}),c.jsx("button",{onClick:C,className:"absolute top-6 right-6 text-gray-300 hover:text-white transition-colors duration-200","aria-label":"Close",children:c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12",className:"transition-transform duration-200 hover:scale-110"})})}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:w.map((S,I)=>{var P,j;const N=FX(S),k=N.length,D=N[0];return c.jsxs(De,{to:`/shop?category=${encodeURIComponent(S)}`,className:"group relative overflow-hidden rounded-xl bg-black/50 backdrop-blur-sm border border-crimson/30 p-5 transition-all duration-300 hover:border-crimson/70 hover:shadow-lg hover:shadow-crimson/20 hover:scale-105 hover:z-10 h-48 flex flex-col justify-center",onClick:C,style:{animation:`fadeIn 0.4s ease-out ${I*.05}s forwards`,opacity:0,transform:"translateY(10px)",...(P=D==null?void 0:D.images)!=null&&P[0]?{backgroundImage:`url(${D.images[0]})`,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay",backgroundColor:"rgba(0, 0, 0, 0.7)"}:{}},children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-crimson/5 to-crimson/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[(j=D==null?void 0:D.images)!=null&&j[0]?c.jsxs("div",{className:"mb-4 w-16 h-16 flex items-center justify-center rounded-full bg-black/70 backdrop-blur-sm border border-crimson/50 group-hover:border-crimson/70 transition-all duration-300 relative overflow-hidden",children:[c.jsx("img",{src:D.images[0],alt:D.name[e]||S,className:"w-full h-full object-cover opacity-90"}),c.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/30 transition-colors duration-300"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent group-hover:border-crimson/30 transition-all duration-500 group-hover:animate-ping"})]}):c.jsxs("div",{className:"mb-4 w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 group-hover:border-crimson/50 transition-all duration-300 relative",children:[c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent group-hover:border-crimson/30 transition-all duration-500 group-hover:animate-ping"}),c.jsx("svg",{className:"w-7 h-7 text-gray-300 group-hover:text-crimson transition-all duration-300 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})]}),c.jsx("span",{className:"text-base font-semibold text-white group-hover:text-crimson transition-colors duration-300 mb-1 drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]",children:t(`category.${S.toLowerCase()}`)}),c.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-crimson/80 backdrop-blur-sm text-white group-hover:bg-crimson transition-colors duration-300",children:[k," ",k===1?t("products.one"):k<5?t("products.few"):t("products.many")]})]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"})]},I)})}),c.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-crimson/90 via-crimson/70 to-crimson/90"})]}),c.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @keyframes fadeInUp {
                  from {
                    opacity: 0;
                    transform: translateY(20px);
                  }
                  to {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
                
                @keyframes fadeIn {
                  from {
                    opacity: 0;
                    transform: translateY(10px);
                  }
                  to {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
              `}})]})})]})};function sM(t,[e,n]){return Math.min(n,Math.max(e,t))}function iM(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var oM=["PageUp","PageDown"],aM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Gc="Slider",[zx,Fee,$ee]=Pg(Gc),[cM,Zne]=zn(Gc,[$ee]),[Uee,Fv]=cM(Gc),uM=g.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:f,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:b,...w}=t,y=g.useRef(new Set),x=g.useRef(0),E=o==="horizontal"?Bee:zee,[C=[],R]=to({prop:f,defaultProp:u,onChange:D=>{var j;(j=[...y.current][x.current])==null||j.focus(),h(D)}}),O=g.useRef(C);function S(D){const P=Gee(C,D);k(D,P)}function I(D){k(D,x.current)}function N(){const D=O.current[x.current];C[x.current]!==D&&p(C)}function k(D,P,{commit:j}={commit:!1}){const K=Xee(i),X=Zee(Math.round((D-r)/i)*i+r,K),U=sM(X,[r,s]);R((G=[])=>{const M=Kee(G,U,P);if(Jee(M,l*i)){x.current=M.indexOf(U);const F=String(M)!==String(G);return F&&j&&p(M),F?M:G}else return G})}return c.jsx(Uee,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:C,orientation:o,form:b,children:c.jsx(zx.Provider,{scope:t.__scopeSlider,children:c.jsx(zx.Slot,{scope:t.__scopeSlider,children:c.jsx(E,{"aria-disabled":a,"data-disabled":a?"":void 0,...w,ref:e,onPointerDown:se(w.onPointerDown,()=>{a||(O.current=C)}),min:r,max:s,inverted:m,onSlideStart:a?void 0:S,onSlideMove:a?void 0:I,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(s,C.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:P})=>{if(!a){const X=oM.includes(D.key)||D.shiftKey&&aM.includes(D.key)?10:1,U=x.current,G=C[U],M=i*X*P;k(G+M,U,{commit:!0})}}})})})})});uM.displayName=Gc;var[dM,hM]=cM(Gc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Bee=g.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...f}=t,[h,p]=g.useState(null),m=Ue(e,E=>p(E)),b=g.useRef(void 0),w=Dv(s),y=w==="ltr",x=y&&!i||!y&&i;function _(E){const C=b.current||h.getBoundingClientRect(),R=[0,C.width],S=q_(R,x?[n,r]:[r,n]);return b.current=C,S(E-C.left)}return c.jsx(dM,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(fM,{dir:w,"data-orientation":"horizontal",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const C=_(E.clientX);o==null||o(C)},onSlideMove:E=>{const C=_(E.clientX);a==null||a(C)},onSlideEnd:()=>{b.current=void 0,l==null||l()},onStepKeyDown:E=>{const R=lM[x?"from-left":"from-right"].includes(E.key);u==null||u({event:E,direction:R?-1:1})}})})}),zee=g.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,f=g.useRef(null),h=Ue(e,f),p=g.useRef(void 0),m=!s;function b(w){const y=p.current||f.current.getBoundingClientRect(),x=[0,y.height],E=q_(x,m?[r,n]:[n,r]);return p.current=y,E(w-y.top)}return c.jsx(dM,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(fM,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const y=b(w.clientY);i==null||i(y)},onSlideMove:w=>{const y=b(w.clientY);o==null||o(y)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:w=>{const x=lM[m?"from-bottom":"from-top"].includes(w.key);l==null||l({event:w,direction:x?-1:1})}})})}),fM=g.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,f=Fv(Gc,n);return c.jsx(ge.span,{...u,ref:e,onKeyDown:se(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):oM.concat(aM).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:se(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(p)?p.focus():r(h)}),onPointerMove:se(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:se(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),i(h))})})}),pM="SliderTrack",mM=g.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Fv(pM,n);return c.jsx(ge.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});mM.displayName=pM;var qx="SliderRange",gM=g.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Fv(qx,n),i=hM(qx,n),o=g.useRef(null),a=Ue(e,o),l=s.values.length,u=s.values.map(p=>wM(p,s.min,s.max)),f=l>1?Math.min(...u):0,h=100-Math.max(...u);return c.jsx(ge.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:f+"%",[i.endEdge]:h+"%"}})});gM.displayName=qx;var Hx="SliderThumb",vM=g.forwardRef((t,e)=>{const n=Fee(t.__scopeSlider),[r,s]=g.useState(null),i=Ue(e,a=>s(a)),o=g.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(qee,{...t,ref:i,index:o})}),qee=g.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Fv(Hx,n),a=hM(Hx,n),[l,u]=g.useState(null),f=Ue(e,_=>u(_)),h=l?o.form||!!l.closest("form"):!0,p=tb(l),m=o.values[r],b=m===void 0?0:wM(m,o.min,o.max),w=Wee(r,o.values.length),y=p==null?void 0:p[a.size],x=y?Qee(y,b,a.direction):0;return g.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${b}% + ${x}px)`},children:[c.jsx(zx.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(ge.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:f,style:m===void 0?{display:"none"}:t.style,onFocus:se(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&c.jsx(yM,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});vM.displayName=Hx;var Hee="RadioBubbleInput",yM=g.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=g.useRef(null),i=Ue(s,r),o=iM(e);return g.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&f){const h=new Event("input",{bubbles:!0});f.call(a,e),a.dispatchEvent(h)}},[o,e]),c.jsx(ge.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});yM.displayName=Hee;function Kee(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function wM(t,e,n){const i=100/(n-e)*(t-e);return sM(i,[0,100])}function Wee(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Gee(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function Qee(t,e,n){const r=t/2,i=q_([0,50],[0,r]);return(r-i(e)*n)*n}function Yee(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Jee(t,e){if(e>0){const n=Yee(t);return Math.min(...n)>=e}return!0}function q_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Xee(t){return(String(t).split(".")[1]||"").length}function Zee(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var xM=uM,ete=mM,tte=gM,TC=vM;const bM=g.forwardRef(({className:t,...e},n)=>c.jsxs(xM,{ref:n,className:ae("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(ete,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(tte,{className:"absolute h-full bg-primary"})}),c.jsx(TC,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),c.jsx(TC,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));bM.displayName=xM.displayName;var $v="Checkbox",[nte,ere]=zn($v),[rte,H_]=nte($v);function ste(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:u,value:f="on",internal_do_not_use_render:h}=t,[p,m]=to({prop:n,defaultProp:s??!1,onChange:l,caller:$v}),[b,w]=g.useState(null),[y,x]=g.useState(null),_=g.useRef(!1),E=b?!!o||!!b.closest("form"):!0,C={checked:p,disabled:i,setChecked:m,control:b,setControl:w,name:a,form:o,value:f,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:Ui(s)?!1:s,isFormControl:E,bubbleInput:y,setBubbleInput:x};return c.jsx(rte,{scope:e,...C,children:ite(h)?h(C):r})}var _M="CheckboxTrigger",EM=g.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:u,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:b}=H_(_M,t),w=Ue(s,f),y=g.useRef(l);return g.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const _=()=>h(y.current);return x.addEventListener("reset",_),()=>x.removeEventListener("reset",_)}},[i,h]),c.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":Ui(l)?"mixed":l,"aria-required":u,"data-state":kM(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:w,onKeyDown:se(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:se(n,x=>{h(_=>Ui(_)?!0:!_),b&&m&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});EM.displayName=_M;var K_=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:u,form:f,...h}=t;return c.jsx(ste,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:u,name:r,form:f,value:l,internal_do_not_use_render:({isFormControl:p})=>c.jsxs(c.Fragment,{children:[c.jsx(EM,{...h,ref:e,__scopeCheckbox:n}),p&&c.jsx(CM,{__scopeCheckbox:n})]})})});K_.displayName=$v;var IM="CheckboxIndicator",SM=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=H_(IM,n);return c.jsx(or,{present:r||Ui(i.checked)||i.checked===!0,children:c.jsx(ge.span,{"data-state":kM(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});SM.displayName=IM;var TM="CheckboxBubbleInput",CM=g.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:u,value:f,form:h,bubbleInput:p,setBubbleInput:m}=H_(TM,t),b=Ue(n,m),w=iM(i),y=tb(r);g.useEffect(()=>{const _=p;if(!_)return;const E=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(E,"checked").set,O=!s.current;if(w!==i&&R){const S=new Event("click",{bubbles:O});_.indeterminate=Ui(i),R.call(_,Ui(i)?!1:i),_.dispatchEvent(S)}},[p,w,i,s]);const x=g.useRef(Ui(i)?!1:i);return c.jsx(ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:a,disabled:l,name:u,value:f,form:h,...e,tabIndex:-1,ref:b,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CM.displayName=TM;function ite(t){return typeof t=="function"}function Ui(t){return t==="indeterminate"}function kM(t){return Ui(t)?"indeterminate":t?"checked":"unchecked"}const zu=g.forwardRef(({className:t,...e},n)=>c.jsx(K_,{ref:n,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(SM,{className:ae("flex items-center justify-center text-current"),children:c.jsx(OR,{className:"h-4 w-4"})})}));zu.displayName=K_.displayName;var ote="Label",NM=g.forwardRef((t,e)=>c.jsx(ge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));NM.displayName=ote;var RM=NM;const ate=Th("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vr=g.forwardRef(({className:t,...e},n)=>c.jsx(RM,{ref:n,className:ae(ate(),t),...e}));vr.displayName=RM.displayName;const lte=({onFilterChange:t,categories:e,initialFilters:n,activeCategory:r})=>{const{t:s}=ze(),o=zr().map(C=>C.price),a=Math.min(...o),l=Math.max(...o),[u,f]=g.useState(n||{priceRange:[a,l],categories:[],inStock:!1,outOfStock:!1,onSale:!1});g.useEffect(()=>{r?f(C=>({...C,categories:[r]})):u.categories.length>0&&f(C=>({...C,categories:[]}))},[r]);const[h,p]=g.useState(!1);u.categories.includes("bracelets"),console.log("Active category:",r);const m=C=>{C.length>=2&&f(R=>{const O={...R,priceRange:[C[0],C[1]]};return t(O),O})},b=C=>C.toLowerCase().trim(),w=C=>{f(R=>{if(R.categories.includes(C)){const S={...R,categories:[]};return t(S),S}const O={...R,categories:[C]};return t(O),O})},y=()=>{f(C=>{const R={...C,inStock:!C.inStock,...C.outOfStock&&{outOfStock:!1}};return t(R),R})},x=()=>{f(C=>{const R={...C,outOfStock:!C.outOfStock,...C.inStock&&{inStock:!1}};return t(R),R})},_=()=>{f(C=>{const R={...C,onSale:!C.onSale};return t(R),R})},E=()=>{const C={priceRange:[0,1e3],categories:[],inStock:!1,outOfStock:!1,onSale:!1};t({...C,categories:[]}),f(C)};return c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[c.jsx("div",{className:"flex flex-col space-y-2 mb-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[c.jsx(VR,{className:"mr-2 h-5 w-5"})," ",s("filters.title")]}),c.jsx(xe,{variant:"outline",size:"sm",onClick:()=>p(!h),className:"md:hidden",children:s(h?"filters.hide":"filters.show")})]})}),c.jsxs("div",{className:`space-y-6 ${h?"block":"hidden md:block"}`,children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:s("filters.price")}),c.jsxs("div",{className:"px-2",children:[c.jsx(bM,{defaultValue:[u.priceRange[0],u.priceRange[1]],min:a,max:l,step:5,value:[u.priceRange[0],u.priceRange[1]],onValueChange:m,className:"mb-2"}),c.jsxs("div",{className:"flex justify-between text-sm text-foreground/80 mb-3",children:[c.jsxs("span",{children:[u.priceRange[0]," "]}),c.jsxs("span",{children:[u.priceRange[1]," "]})]}),c.jsx("button",{onClick:E,className:`text-[1.1em] text-crimson hover:text-crimson/80 font-medium transition-colors 
                         flex items-center justify-center w-full py-2 px-3 rounded-md 
                         border border-crimson/30 hover:border-crimson/50 hover:bg-crimson/5`,children:s("filters.reset")})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:s("filters.categories")}),c.jsx("div",{className:"space-y-2",children:e.map(C=>{const R=r?b(C.id)===b(r):u.categories.some(S=>b(S)===b(C.id)),O=s(`category.${C.id.toLowerCase()}`).startsWith("category.")?C.name:s(`category.${C.id.toLowerCase()}`);return c.jsxs("div",{className:"flex items-center",children:[c.jsx(zu,{id:`category-${C.id}`,checked:R,onCheckedChange:()=>w(C.id),className:"data-[state=checked]:bg-crimson data-[state=checked]:border-crimson"}),c.jsx(vr,{htmlFor:`category-${C.id}`,className:`ml-2 text-sm font-normal cursor-pointer ${R?"text-crimson font-medium":""}`,children:O})]},C.id)})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-medium",children:s("filters.availability")}),c.jsxs("div",{className:"space-y-2 pl-2",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(zu,{id:"in-stock",checked:u.inStock,onCheckedChange:y,className:"data-[state=checked]:bg-crimson data-[state=checked]:border-crimson"}),c.jsx(vr,{htmlFor:"in-stock",className:"text-sm font-normal cursor-pointer",children:s("filters.in_stock")})]})}),c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(zu,{id:"out-of-stock",checked:u.outOfStock,onCheckedChange:x,className:"data-[state=checked]:bg-crimson data-[state=checked]:border-crimson"}),c.jsx(vr,{htmlFor:"out-of-stock",className:"text-sm font-normal cursor-pointer",children:s("filters.out_of_stock")})]})})]})]}),c.jsxs("div",{className:"space-y-2 pt-4 mt-4 border-t border-border",children:[c.jsx("h4",{className:"text-sm font-medium",children:s("filters.special_offers")}),c.jsx("div",{className:"space-y-2 pl-2",children:c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(zu,{id:"on-sale",checked:u.onSale,onCheckedChange:_,className:"data-[state=checked]:bg-crimson data-[state=checked]:border-crimson"}),c.jsx(vr,{htmlFor:"on-sale",className:"ml-2 text-sm font-normal cursor-pointer",children:s("filters.on_sale")})]})})})]})]})]})})},Bi=g.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Bi.displayName="Input";const cte=({isOpen:t,onClose:e})=>{const{t:n}=ze(),r=[{name:"Telegram",icon:c.jsx($R,{className:"w-5 h-5"}),link:"https://t.me/not_even_here",color:"bg-[#0088cc] hover:bg-[#0088cc]/90"},{name:"Instagram",icon:c.jsx(K1,{className:"w-5 h-5"}),link:"https://www.instagram.com/nekosshop/",color:"bg-[#E4405F] hover:bg-[#E4405F]/90"},{name:"Facebook",icon:c.jsx(Og,{className:"w-5 h-5"}),link:"https://www.facebook.com/NekosShopy",color:"bg-[#1877F2] hover:bg-[#1877F2]/90"}];return c.jsx(kc,{open:t,onOpenChange:e,children:c.jsxs(ba,{className:"sm:max-w-[490px] bg-card p-8",children:[c.jsx(Nc,{children:c.jsx(Rc,{className:"text-3xl font-bold text-crimson",children:n("custom_order.title")})}),c.jsxs("div",{className:"mt-4 space-y-4",children:[c.jsx("p",{className:"text-foreground/80 text-lg leading-relaxed",children:n("custom_order.description")}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("p",{className:"text-foreground font-semibold text-lg mb-2",children:[n("custom_order.social_links"),":"]}),c.jsx("div",{className:"flex gap-3",children:r.map(s=>c.jsxs(xe,{variant:"default",className:`flex-1 ${s.color}`,onClick:()=>window.open(s.link,"_blank"),children:[s.icon,c.jsx("span",{className:"ml-2",children:s.name})]},s.name))})]})]})]})})},ute=()=>{var D;const{t}=ze(),[e]=t7(),n=e.get("category"),{addToCart:r}=so(),[s,i]=g.useState(n),o=[0,1e3],[a,l]=g.useState({priceRange:o,categories:n?[n]:[],inStock:!1,outOfStock:!1,onSale:!1}),[u,f]=g.useState(""),[h,p]=g.useState(!1),[m,b]=g.useState(!1),w=zr(),y=P=>(P||"").toLowerCase().trim(),_=Array.from(new Set(["chokers","earrings","bracelets","rings","hairpins","candles","necklaces",...w.map(P=>P.category)].filter(Boolean))).reduce((P,j)=>{const K=y(j);return P[K]||(P[K]=j),P},{}),E=Object.values(_);console.log("All categories:",E),console.log("Active filters:",a),console.log("Active category:",s),console.log("Current filters:",a),console.log("Active category:",s);const C=Dee(w,{priceRange:a.priceRange,categories:s?[s]:(D=a.categories)!=null&&D.length?a.categories:void 0,inStock:a.inStock,outOfStock:a.outOfStock,onSale:a.onSale});console.log("Filtered products count:",C.length),console.log("All products categories:",[...new Set(w.map(P=>P.category))]),console.log("Filtered products count:",C.length),a.categories.length>0&&console.log("Products in selected categories:",C.map(P=>({id:P.id,name:P.name,category:P.category,price:P.price})));const O=[...u.trim()?C.filter(P=>{var K,X;const j=t("language");return((K=P.name[j])==null?void 0:K.toLowerCase().includes(u.toLowerCase()))||((X=P.description[j])==null?void 0:X.toLowerCase().includes(u.toLowerCase()))}):C].sort((P,j)=>P.stock<=0&&j.stock>0?1:P.stock>0&&j.stock<=0?-1:0),S=h?[...O].sort((P,j)=>j.price-P.price):O,I=P=>{P.categories&&P.categories.length===0?i(null):P.categories&&P.categories.length>0&&i(P.categories[0]);const j={...P,priceRange:[Math.max(0,P.priceRange[0]),Math.min(1e3,P.priceRange[1])]};l(j)};g.useEffect(()=>{n?(i(n),l(P=>({...P,categories:[n],inStock:!1,outOfStock:!1,onSale:!1}))):(i(null),l(P=>({...P,categories:[]})))},[n]);const N=P=>{const j=t(`category.${P}`);return j===`category.${P}`?P.charAt(0).toUpperCase()+P.slice(1):j},k=E.map(P=>({id:P,name:N(P)}));return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(es,{}),c.jsx("section",{className:"py-12 px-4 bg-background",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsx(cte,{isOpen:m,onClose:()=>b(!1)}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[c.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 space-y-4",children:[c.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[c.jsx(CF,{className:"mr-2 h-5 w-5"})," ",t("shop.search_title")]}),c.jsx(Bi,{type:"search",placeholder:t("home.search_placeholder"),className:"w-full bg-background",value:u,onChange:P=>f(P.target.value)})]}),c.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium flex items-center",children:c.jsx("span",{className:"text-crimson",children:t("shop.custom_design_title")})}),c.jsx(xe,{variant:"default",className:"bg-red-900/80 hover:bg-red-900/70 w-full text-sm py-1.5 font-bold text-white transition-colors",onClick:()=>b(!0),children:t("shop.custom_design_button")})]}),c.jsx(lte,{onFilterChange:I,categories:k,initialFilters:a,activeCategory:s})]}),c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("div",{className:"mb-6 flex justify-end",children:c.jsxs(xe,{variant:"outline",className:`flex items-center gap-2 ${h?"bg-accent":"bg-card"} hover:bg-accent transition-colors border border-gray-300 dark:border-gray-600`,onClick:()=>p(!h),"aria-label":t(h?"sort.by_price_low_high":"sort.by_price_high_low"),children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:t(h?"sort.by_price_low_high":"sort.by_price_high_low")}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-200 ${h?"rotate-180":""}`,"aria-hidden":"true",children:c.jsx("path",{d:"M6 9l6 6 6-6"})})]})}),S.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-foreground/80 text-xl font-semibold",children:t("product.no_products_found")||" ,  ."})}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(P=>{const{id:j,name:K,description:X,price:U,originalPrice:G,currency:M,images:F,stock:W}=P;return c.jsx(ag,{id:j,category:s||"",name:K,description:X,price:U,originalPrice:G,currency:M,images:F,stock:W,onAddToCart:z=>r(z),materials:[],colors:[]},j)})})]})]})]})}),c.jsx(ts,{})]})},dte=()=>{const{t,language:e}=ze();return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(es,{}),c.jsx("section",{className:"py-16 px-4 bg-background",children:c.jsxs("div",{className:"container mx-auto max-w-4xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-2 tracking-tight",children:[t("about.title")," ",c.jsx("span",{className:"text-crimson",children:"NEKO"})," ",c.jsx("span",{className:"text-white",children:"SHOP"})]}),c.jsx("div",{className:"w-24 h-1 bg-crimson mx-auto mt-6"})]}),c.jsxs("div",{className:"space-y-10 text-gray-300",children:[c.jsx("p",{className:"text-lg leading-relaxed text-center max-w-3xl mx-auto",children:t("about.intro")}),c.jsx("div",{className:"my-12 bg-card/50 border border-border/30 p-8 rounded-xl backdrop-blur-sm",children:c.jsxs("blockquote",{className:"text-2xl italic font-medium text-center text-white leading-relaxed",children:['"',t("about.quote"),'"']})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-crimson/30 pb-2 inline-block",children:t("about.philosophy_title")}),c.jsx("p",{className:"text-lg leading-relaxed",children:t("about.philosophy_text")})]}),c.jsxs("div",{className:"space-y-6 pt-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-crimson/30 pb-2 inline-block",children:t("about.craftsmanship_title")}),c.jsx("p",{className:"text-lg leading-relaxed",children:t("about.craftsmanship_text")})]}),c.jsxs("div",{className:"space-y-6 pt-6",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6 border-b border-crimson/30 pb-2 inline-block",children:t("about.join_title")}),c.jsx("p",{className:"text-lg leading-relaxed",children:t("about.join_text")})]}),c.jsx("p",{className:"text-base font-medium text-center mb-8 text-red-900 dark:text-red-800",children:t("about.closing")}),c.jsxs("div",{className:"flex justify-center space-x-6 mt-10",children:[c.jsx("a",{href:"https://www.facebook.com/NekosShopy",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center hover:bg-crimson/20 transition-colors","aria-label":"Facebook",children:c.jsx(Og,{className:"w-6 h-6 text-crimson"})}),c.jsx("a",{href:"https://www.instagram.com/nekosshop/",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center hover:bg-crimson/20 transition-colors","aria-label":"Instagram",children:c.jsx("svg",{className:"w-6 h-6 text-crimson",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"})})}),c.jsx("a",{href:"https://t.me/not_even_here",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center hover:bg-crimson/20 transition-colors","aria-label":"Telegram",children:c.jsx($R,{className:"w-6 h-6 text-crimson"})})]})]})]})}),c.jsx(ts,{})]})};class Xh{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const hte=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},$t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:hte()},W_=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},fte=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=W_(t);$t.publicKey=n.publicKey,$t.blockHeadless=n.blockHeadless,$t.storageProvider=n.storageProvider,$t.blockList=n.blockList,$t.limitRate=n.limitRate,$t.origin=n.origin||e},PM=async(t,e,n={})=>{const r=await fetch($t.origin+t,{method:"POST",headers:n,body:e}),s=await r.text(),i=new Xh(r.status,s);if(r.ok)return i;throw i},AM=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},pte=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},jM=t=>t.webdriver||!t.languages||t.languages.length===0,DM=()=>new Xh(451,"Unavailable For Headless Browser"),mte=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},gte=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},vte=(t,e)=>t instanceof FormData?t.get(e):t[e],OM=(t,e)=>{if(gte(t))return!1;mte(t.list,t.watchVariable);const n=vte(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},MM=()=>new Xh(403,"Forbidden"),yte=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},wte=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},LM=async(t,e,n)=>{if(!e.throttle||!n)return!1;yte(e.throttle,e.id);const r=e.id||t;return await wte(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},VM=()=>new Xh(429,"Too Many Requests"),xte=async(t,e,n,r)=>{const s=W_(r),i=s.publicKey||$t.publicKey,o=s.blockHeadless||$t.blockHeadless,a=s.storageProvider||$t.storageProvider,l={...$t.blockList,...s.blockList},u={...$t.limitRate,...s.limitRate};return o&&jM(navigator)?Promise.reject(DM()):(AM(i,t,e),pte(n),n&&OM(l,n)?Promise.reject(MM()):await LM(location.pathname,u,a)?Promise.reject(VM()):PM("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},bte=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},_te=t=>typeof t=="string"?document.querySelector(t):t,Ete=async(t,e,n,r)=>{const s=W_(r),i=s.publicKey||$t.publicKey,o=s.blockHeadless||$t.blockHeadless,a=$t.storageProvider||s.storageProvider,l={...$t.blockList,...s.blockList},u={...$t.limitRate,...s.limitRate};if(o&&jM(navigator))return Promise.reject(DM());const f=_te(n);AM(i,t,e),bte(f);const h=new FormData(f);return OM(l,h)?Promise.reject(MM()):await LM(location.pathname,u,a)?Promise.reject(VM()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",i),PM("/api/v1.0/email/send-form",h))},Ite={init:fte,send:xte,sendForm:Ete,EmailJSResponseStatus:Xh},ih=g.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ih.displayName="Textarea";const Ste=()=>{const{toast:t}=Ia(),{t:e}=ze(),[n,r]=g.useState(!1),[s,i]=g.useState({first_name:"",last_name:"",email:"",message:""}),o=u=>{const{id:f,value:h}=u.target;i(p=>({...p,[f]:h}))},a=()=>s.first_name.trim()?!s.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?(t({title:e("contact.error"),description:e("contact.error_email_invalid"),variant:"destructive"}),!1):s.message.trim()?!0:(t({title:e("contact.error"),description:e("contact.error_message_required"),variant:"destructive"}),!1):(t({title:e("contact.error"),description:e("contact.error_name_required"),variant:"destructive"}),!1),l=async u=>{if(u.preventDefault(),!!a()){r(!0);try{const f="service_q9aooyp",h="template_tm4v6kc",p="dSrGPvQ4YvKySD9Iu",m={to_name:"Neko Team",from_name:`${s.first_name} ${s.last_name}`.trim(),from_email:s.email,message:s.message,reply_to:s.email,to_email:"grge339@gmail.com",subject:`New Contact Form Submission from ${s.first_name} ${s.last_name}`};if((await Ite.send(f,h,m,p)).status===200)t({title:e("contact.success"),description:e("contact.success_message")}),i({first_name:"",last_name:"",email:"",message:""});else throw new Error("Failed to send email")}catch(f){console.error("Error sending email:",f),t({title:e("contact.error"),description:e("contact.error_sending"),variant:"destructive"})}finally{r(!1)}}};return c.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[c.jsx(es,{}),c.jsxs("main",{className:"flex-1 container mx-auto py-12 px-4",children:[c.jsxs("h1",{className:"text-4xl font-bold mb-8 text-center",children:[c.jsx("span",{className:"text-crimson",children:e("contact.title")})," ",c.jsx("span",{className:"text-white",children:e("contact.us")})]}),c.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-6",children:c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"first_name",className:"text-sm font-medium text-white",children:e("contact.first_name")}),c.jsx(Bi,{id:"first_name",value:s.first_name,onChange:o,className:"bg-black/50 border-crimson/20 text-white",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"last_name",className:"text-sm font-medium text-white",children:e("contact.last_name")}),c.jsx(Bi,{id:"last_name",value:s.last_name,onChange:o,className:"bg-black/50 border-crimson/20 text-white"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-white",children:e("contact.email")}),c.jsx(Bi,{id:"email",type:"email",value:s.email,onChange:o,className:"bg-black/50 border-crimson/20 text-white",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"message",className:"text-sm font-medium text-white",children:e("contact.message")}),c.jsx(ih,{id:"message",value:s.message,onChange:o,className:"h-32 bg-black/50 border-crimson/20 text-white",required:!0})]}),c.jsx(xe,{type:"submit",disabled:n,className:"w-full bg-crimson hover:bg-crimson/90 text-white",children:n?c.jsxs(c.Fragment,{children:[c.jsx(yw,{className:"mr-2 h-4 w-4 animate-spin"}),e("contact.sending")]}):e("contact.submit")})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"space-y-4 p-6 rounded-lg border border-crimson/20 bg-gradient-to-r from-crimson/10 to-transparent",children:[c.jsx("p",{className:"text-gray-300",children:e("contact.collaboration")}),c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(IF,{className:"w-5 h-5 text-crimson"}),c.jsx("a",{href:"mailto:grge339@gmail.com",className:"hover:text-white transition-colors",children:"grge339@gmail.com"})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:e("contact.social_media")}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("a",{href:"https://www.facebook.com/NekosShopy",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 rounded-lg border border-crimson/20 bg-gradient-to-r from-crimson/10 to-transparent hover:bg-crimson/20 transition-colors",children:[c.jsx(Og,{className:"w-6 h-6 text-crimson flex-shrink-0"}),c.jsx("span",{className:"text-white",children:"Facebook"})]}),c.jsxs("a",{href:"https://www.instagram.com/nekosshop/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 rounded-lg border border-crimson/20 bg-gradient-to-r from-crimson/10 to-transparent hover:bg-crimson/20 transition-colors",children:[c.jsx(K1,{className:"w-6 h-6 text-crimson flex-shrink-0"}),c.jsx("span",{className:"text-white",children:"Instagram"})]}),c.jsxs("a",{href:"https://t.me/not_even_here",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 rounded-lg border border-crimson/20 bg-gradient-to-r from-crimson/10 to-transparent hover:bg-crimson/20 transition-colors","aria-label":e("contact.telegram"),children:[c.jsx(TF,{className:"w-6 h-6 text-crimson flex-shrink-0"}),c.jsx("span",{className:"text-white",children:"Telegram"})]})]})]})]})]})]}),c.jsx(ts,{})]})},Tte=()=>{const t=ro();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var G_="Progress",Q_=100,[Cte,tre]=zn(G_),[kte,Nte]=Cte(G_),FM=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Rte,...o}=t;(s||s===0)&&!CC(s)&&console.error(Pte(`${s}`,"Progress"));const a=CC(s)?s:Q_;r!==null&&!kC(r,a)&&console.error(Ate(`${r}`,"Progress"));const l=kC(r,a)?r:null,u=lg(l)?i(l,a):void 0;return c.jsx(kte,{scope:n,value:l,max:a,children:c.jsx(ge.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":lg(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":BM(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});FM.displayName=G_;var $M="ProgressIndicator",UM=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Nte($M,n);return c.jsx(ge.div,{"data-state":BM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});UM.displayName=$M;function Rte(t,e){return`${Math.round(t/e*100)}%`}function BM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function lg(t){return typeof t=="number"}function CC(t){return lg(t)&&!isNaN(t)&&t>0}function kC(t,e){return lg(t)&&!isNaN(t)&&t<=e&&t>=0}function Pte(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Q_}\`.`}function Ate(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Q_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var zM=FM,jte=UM;const qM=g.forwardRef(({className:t,value:e,...n},r)=>c.jsx(zM,{ref:r,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:c.jsx(jte,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));qM.displayName=zM.displayName;const Dte=({productId:t,onReviewAdded:e})=>{const{t:n}=ze(),{toast:r}=Ia(),s=wa(),[i,o]=g.useState(5),[a,l]=g.useState(""),[u,f]=g.useState(null),[h,p]=g.useState(null),[m,b]=g.useState(""),[w,y]=g.useState(!1),[x,_]=g.useState(0),[E,C]=g.useState(!1),[R,O]=g.useState(""),[S,I]=g.useState(null),[N,k]=g.useState([]),[D,P]=g.useState(""),[j,K]=g.useState(!1),X=[{type:"",label:n("reviews.reactions.love")},{type:"",label:n("reviews.reactions.funny")},{type:"",label:n("reviews.reactions.mind_blown")}],U=[{type:"",label:n("reviews.categories.price")},{type:"",label:n("reviews.categories.quality")},{type:"",label:n("reviews.categories.design")},{type:"",label:n("reviews.categories.delivery")},{type:"",label:n("reviews.categories.packaging")},{type:"",label:n("reviews.categories.usability")}];g.useEffect(()=>{if(s.isLoggedIn&&s.user){const ie=nM(s.user.uid,t);C(ie.canReview),O(ie.reason?n(ie.reason):"")}else C(!1),O(n("reviews.login_required"))},[s.isLoggedIn,s.user,t,n]);const G=g.useRef(null),M=1e3,F=5*1024*1024,W=["image/jpeg","image/png","image/webp"],z=ie=>{var Je;const ce=(Je=ie.target.files)==null?void 0:Je[0];if(!ce)return;if(!W.includes(ce.type)){r({title:n("reviews.invalid_file_type_title"),description:n("reviews.invalid_file_type",{types:"JPEG, PNG, WebP"}),variant:"destructive"});return}if(ce.size>F){r({title:n("reviews.file_too_large_title"),description:n("reviews.file_too_large",{size:"5MB"}),variant:"destructive"});return}p(ce);const be=new FileReader;be.onloadend=()=>{b(be.result)},be.readAsDataURL(ce)},q=()=>{p(null),b(""),G.current&&(G.current.value="")},Z=async ie=>{if(ie.preventDefault(),!s.isLoggedIn||!s.user){r({title:n("reviews.error"),description:n("reviews.login_required"),variant:"destructive"});return}if(!a.trim()){r({title:n("reviews.error"),description:n("reviews.comment_required"),variant:"destructive"});return}K(!0);let ce="";try{if(h){y(!0),_(0);const Oe=at=>{_(at)};ce=await Oee(h,s.user.uid,Oe),y(!1)}const be={productId:t,userId:s.user.uid,userName:s.user.displayName||n("reviews.anonymous"),rating:i,comment:a.trim(),date:new Date,photoUrl:ce||void 0,isVerifiedPurchase:!1,reaction:S||void 0,feedbackCategories:N.length>0?N:void 0,likedFeatures:D.trim()||void 0};await Aee(be)&&(i===5&&await rM(s.user.uid),r({title:n("reviews.success_title"),description:n("reviews.success_message")}),o(5),l(""),p(null),b(""),I(null),k([]),P(""),_(0),G.current&&(G.current.value=""),e==null||e())}catch(be){console.error("Error submitting review:",be),r({title:n("reviews.error"),description:be instanceof Error?be.message:n("reviews.submit_error"),variant:"destructive"})}finally{K(!1),y(!1)}},ue=ie=>{k(ce=>ce.includes(ie)?ce.filter(be=>be!==ie):[...ce,ie])};return c.jsx(NP,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-medium",children:n("reviews.write_review")}),!E&&R&&c.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg flex items-start gap-3",children:[c.jsx(EF,{className:"h-5 w-5 mt-0.5 flex-shrink-0 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:R})]}),c.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(vr,{htmlFor:"rating",className:"block mb-2",children:n("reviews.your_rating")}),c.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(ie=>c.jsx("button",{type:"button",className:"p-1",onClick:()=>o(ie),onMouseEnter:()=>f(ie),onMouseLeave:()=>f(null),disabled:!E,children:c.jsx(Ns,{className:`h-8 w-8 ${(u||i)>=ie?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},ie))})]}),c.jsxs("div",{children:[c.jsx(vr,{className:"block mb-2",children:n("reviews.how_was_it")}),c.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(({type:ie,label:ce})=>c.jsxs("button",{type:"button",onClick:()=>I(ie===S?null:ie),className:ae("flex items-center gap-2 px-4 py-2 rounded-full border transition-colors",S===ie?"bg-primary/10 border-primary text-primary":"border-muted-foreground/30 hover:bg-muted/50",!E&&"opacity-50 cursor-not-allowed"),disabled:!E,children:[c.jsx("span",{className:"text-xl",children:ie}),c.jsx("span",{className:"text-sm",children:ce})]},ie))})]}),c.jsxs("div",{children:[c.jsx(vr,{className:"block mb-2",children:n("reviews.what_did_you_like")}),c.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(({type:ie,label:ce})=>c.jsxs("button",{type:"button",onClick:()=>ue(ie),className:ae("flex items-center gap-2 px-3 py-1.5 rounded-full border transition-colors text-sm",N.includes(ie)?"bg-primary/10 border-primary text-primary":"border-muted-foreground/30 hover:bg-muted/50",!E&&"opacity-50 cursor-not-allowed"),disabled:!E,children:[c.jsx("span",{children:ie}),c.jsx("span",{children:ce})]},ie))}),N.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx(vr,{htmlFor:"likedFeatures",className:"block mb-2",children:n("reviews.tell_us_more")}),c.jsx(ih,{id:"likedFeatures",value:D,onChange:ie=>P(ie.target.value),placeholder:n("reviews.features_placeholder"),rows:2,disabled:!E}),c.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[n("reviews.example"),' "',n("reviews.example_text"),'"']})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs(vr,{htmlFor:"comment",children:[n("reviews.comment"),c.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),c.jsxs("span",{className:`text-xs ${a.length>M?"text-destructive":"text-muted-foreground"}`,children:[a.length,"/",M]})]}),c.jsx(ih,{id:"comment",value:a,onChange:ie=>l(ie.target.value),placeholder:n("reviews.comment_placeholder"),rows:4,required:!0,disabled:!E||w,className:ae("min-h-[120px]",a.length>M&&"border-destructive focus-visible:ring-destructive"),maxLength:M}),a.length>M&&c.jsx("p",{className:"mt-1 text-sm text-destructive",children:n("reviews.comment_too_long")}),c.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:n("reviews.comment_help")})]}),c.jsxs("div",{children:[c.jsxs(vr,{htmlFor:"photo-upload",className:"block mb-2",children:[n("reviews.add_photo")," (",n("common.optional"),")",c.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",n("reviews.max_size",{size:"5MB"}),")"]})]}),c.jsx("input",{type:"file",id:"photo-upload",ref:G,accept:"image/jpeg, image/png, image/webp",onChange:z,className:"hidden",disabled:!E||w}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(xe,{type:"button",variant:"outline",onClick:()=>{var ie;return(ie=G.current)==null?void 0:ie.click()},disabled:!E||w,className:"flex items-center gap-2",children:[w?c.jsx(yw,{className:"h-4 w-4 animate-spin"}):c.jsx(bF,{className:"h-4 w-4"}),n("reviews.choose_photo")]}),h&&c.jsx("span",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:h.name})]}),w&&c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx(qM,{value:x,className:"h-2"}),c.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[Math.round(x),"% ",n("common.uploading")]})]}),m&&c.jsx("div",{className:"mt-3 relative inline-block group",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:m,alt:n("reviews.photo_preview"),className:"h-32 w-32 object-cover rounded-md border shadow-sm"}),c.jsx("button",{type:"button",onClick:q,className:"absolute -top-2 -right-2 bg-background rounded-full p-1.5 shadow-md border hover:bg-destructive hover:text-destructive-foreground transition-colors","aria-label":n("common.remove"),children:c.jsx(yr,{className:"h-3.5 w-3.5"})})]})})]}),c.jsxs("div",{className:"pt-2 flex flex-col sm:flex-row gap-3",children:[c.jsx(xe,{type:"submit",disabled:!E||!a.trim()||j||w||a.length>M,className:"w-full sm:w-auto",children:j||w?c.jsxs(c.Fragment,{children:[c.jsx(yw,{className:"mr-2 h-4 w-4 animate-spin"}),n("common.submitting")]}):n("reviews.submit")}),c.jsxs(v$,{children:[c.jsx(y$,{asChild:!0,children:c.jsx(xe,{type:"button",variant:"outline",onClick:()=>{o(5),l(""),p(null),b(""),I(null),k([]),P(""),G.current&&(G.current.value="")},disabled:j||w||!a&&!m&&i===5&&!S&&N.length===0,className:"w-full sm:w-auto",children:n("common.clear")})}),c.jsx(RP,{children:c.jsx("p",{children:n("reviews.clear_form")})})]})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:c.jsxs("p",{className:"flex items-start gap-1",children:[c.jsx("span",{className:"text-destructive",children:"*"}),c.jsx("span",{children:n("common.required_fields")})]})})]})]})})};function Ote({images:t,currentIndex:e,onClose:n,onIndexChange:r}){const s=i=>{i.key==="ArrowLeft"?r((e-1+t.length)%t.length):i.key==="ArrowRight"?r((e+1)%t.length):i.key==="Escape"&&n()};return c.jsx(j_,{open:!0,onOpenChange:i=>!i&&n(),children:c.jsxs(D_,{children:[c.jsx(Kh,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 cursor-zoom-out",onClick:n}),c.jsx(Wh,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-[90vw] max-w-4xl max-h-[90vh] focus:outline-none",onKeyDown:s,tabIndex:-1,onClick:i=>i.stopPropagation(),children:c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:c.jsx("img",{src:t[e],alt:`Product view ${e+1}`,className:"max-h-[80vh] max-w-full object-contain cursor-zoom-out",onClick:n})}),t.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:i=>{i.stopPropagation(),r((e-1+t.length)%t.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors","aria-label":"Previous image",children:c.jsx(LR,{className:"w-6 h-6"})}),c.jsx("button",{onClick:i=>{i.stopPropagation(),r((e+1)%t.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors","aria-label":"Next image",children:c.jsx(Pd,{className:"w-6 h-6"})})]}),t.length>1&&c.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 overflow-x-auto px-4 py-2",onClick:i=>i.stopPropagation(),children:t.map((i,o)=>c.jsx("button",{onClick:a=>{a.stopPropagation(),r(o)},className:`w-16 h-16 rounded overflow-hidden border-2 transition-all ${e===o?"border-primary":"border-transparent"}`,"aria-label":`View image ${o+1}`,children:c.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover"})},o))})]})})]})})}function Mte({currentProductId:t,category:e,className:n}){const{t:r,language:s}=ze(),i=g.useRef(null),[o,a]=g.useState(!0),[l,u]=g.useState(!1),{data:f,isLoading:h,isError:p}=Z$({queryKey:["similarProducts",e,t],queryFn:async()=>(await zr()).filter(x=>x.category===e&&x.id!==t).slice(0,12),enabled:!!e}),m=g.useCallback(()=>{i.current&&i.current.scrollBy({left:-300,behavior:"smooth"})},[]),b=g.useCallback(()=>{i.current&&i.current.scrollBy({left:300,behavior:"smooth"})},[]);if(g.useEffect(()=>{const y=i.current;if(!y)return;const x=()=>{if(!y)return;const{scrollLeft:_,scrollWidth:E,clientWidth:C}=y,R=_<10,O=_+C>=E-10;a(R),u(O)};return x(),y.addEventListener("scroll",x,{passive:!0}),()=>{y.removeEventListener("scroll",x)}},[f]),h)return c.jsx("section",{className:ae("relative py-12 w-full",n),children:c.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4",children:[c.jsxs("div",{className:"mb-8 -mt-3 w-full",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold break-words w-full",children:r("similar.products")}),c.jsx("div",{className:"w-16 h-0.5 bg-crimson/60 mt-2"})]}),c.jsx("div",{className:"relative w-full",children:c.jsx("div",{className:"flex space-x-6 overflow-x-auto pb-6 scrollbar-hide w-full pr-4",children:[...Array(4)].map((y,x)=>c.jsxs("div",{className:"min-w-[200px] flex-shrink-0",children:[c.jsx(Ml,{className:"aspect-square w-full rounded-lg"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx(Ml,{className:"h-4 w-3/4"}),c.jsx(Ml,{className:"h-4 w-1/2"})]})]},x))})})]})});if(p)return console.error("Error loading similar products"),null;if(!h&&(!f||f.length===0))return null;const w=y=>typeof y.name=="string"?y.name:y.name[s]||y.name.en;return c.jsx("section",{className:ae("relative pt-2 pb-12 w-full",n),children:c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"mb-2 -mt-3 w-full pl-[1.5%]",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold break-words w-full",children:r("similar.products")}),c.jsx("div",{className:"w-16 h-0.5 bg-crimson/60 mt-2"})]}),c.jsxs("div",{className:"relative w-full",children:[c.jsx("button",{onClick:m,className:`absolute left-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 flex items-center justify-center bg-background/80 hover:bg-background text-foreground/70 hover:text-foreground rounded-full shadow-lg transition-all duration-300 group ${o?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Scroll left",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:b,className:`absolute right-4 top-1/2 -translate-y-1/2 z-20 w-10 h-10 flex items-center justify-center bg-background/80 hover:bg-background text-foreground/70 hover:text-foreground rounded-full shadow-lg transition-all duration-300 group ${l?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Scroll right",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),c.jsx("div",{ref:i,className:"w-full overflow-x-auto pb-6 scrollbar-hide",style:{scrollBehavior:"smooth",scrollbarWidth:"none",msOverflowStyle:"none",paddingLeft:"calc((100% - 1280px) / 2)",paddingRight:"calc((100% - 1280px) / 2)"},children:c.jsx("div",{className:"flex space-x-6 px-4",children:f==null?void 0:f.map(y=>{var x;return c.jsx("div",{className:"w-[200px] flex-shrink-0",children:c.jsxs(De,{to:`/product/${y.id}`,className:"group block h-full","aria-label":`View ${w(y)}`,children:[c.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-lg mb-2",children:[c.jsx("img",{src:((x=y.images)==null?void 0:x[0])||"/placeholder.svg",alt:w(y),className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",onError:_=>{const E=_.target;E.src="/placeholder.svg"}}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),c.jsxs("div",{className:"p-2",children:[c.jsx("h3",{className:"font-medium text-sm md:text-base line-clamp-2 text-foreground mb-1",children:w(y)}),c.jsxs("p",{className:"text-sm font-semibold text-primary",children:[y.price.toLocaleString("ka-GE")," "]})]})]})},y.id)})})})]})]})})}const Lte=()=>{const{id:t}=db(),{t:e,language:n}=ze(),r=g.useRef(null),s=g.useRef(null),i=Fc(),o=parseInt(t||"0"),a=sg(o),l=tM(o),u=jee(o),{addToCart:f,cart:h}=so(),{isInFavorites:p,addToFavorites:m,removeFromFavorites:b}=_v(),w=wa(),[y,x]=g.useState(0),[_,E]=g.useState(!1),[C,R]=g.useState(!1),[O,S]=g.useState(!1),[I,N]=g.useState(null),[k,D]=g.useState(!1);w.hasUserPurchasedProduct(o),g.useEffect(()=>{a!=null&&a.id&&Dl.addProduct(a.id,p(a.id))},[a==null?void 0:a.id,p]),g.useEffect(()=>{if(!a){i("/",{replace:!0});return}window.location.hash&&window.history.replaceState(null,""," ");const q=setTimeout(()=>{s.current?s.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo(0,0)},100);return()=>clearTimeout(q)},[t,a,i]),g.useEffect(()=>{if(!(a!=null&&a.id))return;Nl.addInterest(a.id);const q=()=>{const ue=Nl.checkInterest(a.id);D(ue)};q();const Z=setInterval(q,3e4);return()=>clearInterval(Z)},[a==null?void 0:a.id]);const P=q=>{console.error(`Failed to load image: ${a.images[q]}`),N(q)},j=()=>{var q;(q=a==null?void 0:a.images)!=null&&q.length&&(x(Z=>(Z+1)%a.images.length),N(null))},K=()=>{var q;(q=a==null?void 0:a.images)!=null&&q.length&&(x(Z=>(Z-1+a.images.length)%a.images.length),N(null))};if(!a)return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx("div",{className:"fixed top-4 left-4 z-50",children:c.jsxs("button",{onClick:()=>window.history.back(),className:"group flex items-center gap-1.5 px-4 py-2.5 bg-white/90 hover:bg-white text-crimson rounded-full shadow-lg border border-crimson/20 hover:border-crimson/40 transition-all duration-300 hover:shadow-crimson/20","aria-label":"  ",children:[c.jsx(eS,{className:"w-5 h-5 transition-transform duration-200 group-hover:-translate-x-0.5"}),c.jsx("span",{className:"text-base font-medium",children:"  "})]})}),c.jsx(es,{}),c.jsx("div",{ref:r,className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("product.not_found")}),c.jsx("p",{className:"mb-8",children:e("product.not_found_message")}),c.jsx(xe,{asChild:!0,children:c.jsx(De,{to:"/shop",children:e("product.back_to_shop")})})]})}),c.jsx(ts,{})]});const X=h.find(q=>q.product.id===a.id),U=(X==null?void 0:X.quantity)||0,G=a.stock-U,M=()=>{f(a)},F=q=>{const Z=e(`category.${q.toLowerCase()}`);return Z&&Z!==`category.${q.toLowerCase()}`?Z:q.charAt(0).toUpperCase()+q.slice(1)},W=()=>{S(!O)},z=q=>{const Z=[];for(let ue=0;ue<5;ue++)Z.push(c.jsx(Ns,{className:`h-5 w-5 ${ue<q?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},ue));return Z};return c.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[c.jsx(es,{}),c.jsxs("div",{className:"flex-grow container mx-auto py-12 px-4",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"space-y-4 relative -translate-x-[2.5%]",ref:s,children:[c.jsx("div",{className:"absolute -top-10 left-0 z-10",children:c.jsxs(De,{to:"/shop",className:"group flex items-center gap-1.5 px-4 py-2 bg-red-500/90 hover:bg-red-500 text-white rounded-full shadow-lg border border-red-600/50 hover:border-red-600/70 transition-all duration-300 hover:shadow-red-500/20","aria-label":e("product.back_to_shop"),children:[c.jsx(eS,{className:"w-5 h-5 transition-transform duration-200 group-hover:-translate-x-0.5"}),c.jsx("span",{className:"text-base font-medium",children:e("product.back_to_shop")})]})}),c.jsx("div",{className:"relative bg-transparent",children:c.jsxs("div",{className:"relative inline-block max-w-full border-2 border-crimson/30 rounded-lg overflow-hidden bg-transparent",children:[k&&c.jsxs("div",{className:"absolute top-2 right-2 z-20 bg-amber-500/90 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[c.jsx(wF,{className:"w-3 h-3"}),c.jsx("span",{children:e("product.in_cart")})]}),c.jsx("div",{className:"relative w-full h-full flex items-center justify-center bg-transparent cursor-zoom-in p-0 m-0",onClick:()=>E(!0),children:!I||I!==y?c.jsx("img",{src:a.images[y],alt:a.name[n],className:"block w-auto h-auto max-h-[550px]",style:{imageRendering:"-webkit-optimize-contrast"},onError:()=>P(y)}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center p-4",children:[c.jsx("div",{className:"text-gray-500 mb-2",children:"   "}),c.jsx("button",{onClick:q=>{q.stopPropagation(),N(null)},className:"text-sm text-crimson hover:underline",children:" "})]})})}),a.images.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:K,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/70 hover:bg-black text-white p-2.5 rounded-full shadow-lg z-10 transition-all duration-200","aria-label":" ",children:c.jsx(LR,{className:"w-6 h-6"})}),c.jsx("button",{onClick:j,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/70 hover:bg-black text-white p-2.5 rounded-full shadow-lg z-10 transition-all duration-200","aria-label":" ",children:c.jsx(Pd,{className:"w-6 h-6"})}),c.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 z-10",children:a.images.map((q,Z)=>c.jsx("button",{onClick:()=>x(Z),className:`w-2.5 h-2.5 rounded-full transition-all ${Z===y?"bg-crimson scale-125 ring-2 ring-offset-2 ring-crimson/50":"bg-white/80 hover:bg-white"}`,"aria-label":`  ${Z+1}`},Z))})]})]})})]}),c.jsxs("div",{className:"space-y-4 text-[0.92em] pl-[calc((100%-1280px)/2+100px-20%)] pr-8 mt-[2.5%] min-h-[calc(100%+3%)] w-[calc(100%+50px)]",children:[c.jsxs("div",{children:[c.jsx("div",{className:"relative overflow-hidden",children:c.jsx("h1",{className:"text-[2.53em] font-black text-crimson mb-4",children:a.name[n]})}),c.jsxs("div",{className:"flex items-center gap-4 mt-8",children:[c.jsx(xe,{variant:"outline",className:`relative ${p(a.id)?"text-crimson hover:text-crimson/90":"text-foreground/60 hover:text-foreground"}`,onClick:()=>p(a.id)?b(a.id):m(a.id),children:c.jsx(Sl,{className:`w-5 h-5 ${p(a.id)?"fill-crimson":""}`})}),c.jsx("span",{className:"inline-block bg-muted px-3 py-1 rounded-full text-sm font-medium text-foreground/80",children:F(a.category)}),l.length>0&&c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex mr-2",children:z(Math.round(u))}),c.jsxs("span",{className:"text-foreground/70 text-sm",children:["(",l.length," ",l.length===1?e("reviews.review"):e("reviews.reviews"),")"]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"relative overflow-hidden",children:c.jsx("p",{className:"text-[1.1em] text-foreground/80 leading-relaxed transition-all duration-500 transform hover:translate-x-1 hover:text-foreground/90",style:{lineHeight:"1.6"},children:c.jsx("span",{className:"inline-block transition-all duration-300 hover:bg-gradient-to-r hover:from-transparent hover:to-crimson/5 px-2 -mx-2 py-1 rounded",children:a.description[n]||a.description.en})})}),c.jsxs("div",{className:"space-y-3 mt-3",children:[c.jsx("div",{className:"relative inline-block",children:c.jsxs("button",{onClick:()=>R(!C),className:"group relative px-4 py-2 bg-black/80 hover:bg-black/90 text-white rounded-md transition-all duration-300 overflow-hidden border border-red-900/30 hover:border-red-500/50","aria-expanded":C,"aria-controls":"product-details",children:[c.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:e(C?"product.hide_details":"product.details")}),c.jsx(MR,{className:`w-4 h-4 transition-transform duration-300 ${C?"rotate-180":""}`})]}),c.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-red-900/30 via-transparent to-red-900/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-red-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})}),c.jsx("div",{id:"product-details",className:`overflow-hidden transition-all duration-500 ease-in-out ${C?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:c.jsxs("div",{className:"space-y-3 text-white/80 pl-1 pt-2",children:[c.jsx("div",{className:"font-light tracking-wide hover:text-white/90 transition-colors duration-200",children:e("product.detail_1")}),c.jsx("div",{className:"font-light tracking-wide hover:text-white/90 transition-colors duration-200",children:e("product.detail_2")}),c.jsx("div",{className:"font-light tracking-wide hover:text-white/90 transition-colors duration-200",children:e("product.detail_3")}),c.jsx("div",{className:"font-light tracking-wide hover:text-white/90 transition-colors duration-200",children:e("product.detail_4")})]})})]})]})]}),c.jsxs("div",{className:"border-t border-border pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("div",{className:"flex flex-col",children:a.originalPrice&&a.originalPrice>a.price?c.jsxs("div",{className:"flex items-baseline gap-3",children:[c.jsxs("span",{className:"text-[2.3em] font-bold text-crimson",children:[a.price," "]}),c.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:[a.originalPrice," "]}),c.jsxs("span",{className:"text-sm bg-red-100 text-red-600 px-2 py-0.5 rounded-full",children:[Math.round((a.originalPrice-a.price)/a.originalPrice*100),"% OFF"]})]}):c.jsxs("span",{className:"text-[2.3em] font-bold text-crimson",children:[a.price," "]})}),c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-600 to-red-900 rounded-lg blur opacity-75 group-hover:opacity-100 transition duration-300"}),c.jsx("div",{className:"relative px-4 py-2 bg-black/80 rounded-lg ring-1 ring-red-900/50 backdrop-blur-sm",children:c.jsx("div",{className:"flex items-center gap-2",children:G>0?c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"relative flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),c.jsxs("span",{className:"font-medium text-white/90",children:[e("product.in_stock"),": ",c.jsx("span",{className:"font-bold text-white",children:G})]})]}):c.jsxs("span",{className:"flex items-center gap-2 text-white/70",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),e("product.out_of_stock")]})})})]})})]}),G>0?c.jsx(c.Fragment,{children:c.jsxs(xe,{className:"w-full bg-[#8B000066] hover:bg-[#8B000099] text-white font-medium py-6 text-lg relative overflow-hidden group transition-all duration-300 border border-red-900/30 hover:border-red-900/50",onClick:M,disabled:G<=0,children:[c.jsx("span",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nNjAwJyBoZWlnaHQ9JzM1JyB2aWV3Qm94PScwIDAgNjAwIDM1JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxkZWZzPjxwYXR0ZXJuIGlkPSd0ZXh0dXJlJyBwYXR0ZXJuVW5pdHM9J3VzZXJTcGFjZU9uVXNlJyB3aWR0aD0nNjAwJyBoZWlnaHQ9JzM1Jz48cGF0aCBkPSdNIDAgMCBMIDAgMzUnIGZpbGw9J25vbmUnIHN0cm9rZT0ncmdiYSgyNTUsMjU1LDI1NSwwLjEpJyBzdHJva2Utd2lkdGg9JzAuNScvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9JzEwMCUnIGhlaWdodD0nMTAwJScgZmlsbD0ndXJsKCN0ZXh0dXJlKScvPjwvc3ZnPg==')] opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),c.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[c.jsxs("span",{className:"relative",children:[c.jsx(jo,{className:"h-5 w-5 transition-transform duration-300 group-hover:scale-110"}),G>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),c.jsx("span",{className:"font-semibold tracking-wide",children:e("product.add_to_cart")})]}),c.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-red-900/20 via-transparent to-red-900/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})}):c.jsx(xe,{className:"w-full bg-muted text-muted-foreground font-medium py-6 text-lg",disabled:!0,children:e("product.out_of_stock")})]})]})]}),a&&c.jsx("div",{className:"mt-16 pl-[calc((100%-1280px)/2+100px-5%)] pr-8 w-full",children:c.jsx("div",{className:"relative w-full",children:c.jsx(Mte,{currentProductId:a.id,category:typeof a.category=="string"?a.category:"",className:"w-full"})})}),c.jsx("div",{className:"max-w-6xl mx-auto mt-8 relative z-10",children:c.jsxs("div",{className:"border-t border-border pt-6 pb-4",children:[c.jsx(Dte,{productId:o,onReviewAdded:W}),c.jsx(z_,{reviews:l})]})})]}),c.jsx(ts,{}),_&&c.jsx(Ote,{images:a.images,currentIndex:y,onClose:()=>E(!1),onIndexChange:x})]})},Vte=()=>{const{categoryName:t}=db(),{t:e}=ze(),{addToCart:n}=so(),s=zr().filter(o=>t?o.category.toLowerCase()===t.toLowerCase():!0),i=()=>{if(!t)return e("category.all");const o=`category.${t.toLowerCase()}`;return e(o)};return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(es,{}),c.jsx("section",{className:"py-12 px-4 bg-background flex-grow",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold mb-8",children:i()}),s.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(o=>c.jsx(ag,{...o,onAddToCart:()=>n(o)},o.id))}):c.jsx("div",{className:"text-center py-16",children:c.jsx("p",{className:"text-muted-foreground",children:"No products found in this category"})})]})}),c.jsx(ts,{})]})},Fte=()=>{const{t}=ze(),[e,n]=g.useState({stars:null,sortBy:null,hasPhotos:null}),[r,s]=g.useState(!1),i=Nee(),o=g.useMemo(()=>{let p=[...i];if(e.stars!==null&&(p=p.filter(m=>Math.floor(m.rating)===e.stars)),e.hasPhotos!==null&&(p=p.filter(m=>e.hasPhotos?!!m.photoUrl:!0)),e.sortBy)switch(e.sortBy){case"newest":p.sort((m,b)=>new Date(b.date).getTime()-new Date(m.date).getTime());break;case"oldest":p.sort((m,b)=>new Date(m.date).getTime()-new Date(b.date).getTime());break;case"highest":p.sort((m,b)=>b.rating-m.rating);break;case"lowest":p.sort((m,b)=>m.rating-b.rating);break}return p},[i,e]);g.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e]);const a=p=>{n(m=>({...m,stars:m.stars===p?null:p}))},l=p=>{n(m=>({...m,sortBy:m.sortBy===p?null:p}))},u=()=>{n(p=>({...p,hasPhotos:p.hasPhotos===null?!0:null}))},f=()=>{n({stars:null,sortBy:null,hasPhotos:null})},h=e.stars!==null||e.sortBy!==null||e.hasPhotos!==null;return c.jsxs("div",{className:"min-h-screen flex flex-col",children:[c.jsx(es,{}),c.jsx("section",{className:"py-12 px-4 bg-background flex-grow",children:c.jsxs("div",{className:"container mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4 mt-6 relative z-10 font-medieval",children:[c.jsx("span",{className:"text-crimson",children:t("reviews.title_part1")})," ",c.jsx("span",{className:"text-white",children:t("reviews.title_part2")})]}),c.jsxs("div",{className:"relative",children:[c.jsxs(xe,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>s(!r),children:[c.jsx(VR,{className:"w-4 h-4"}),t("reviews.filters"),h&&c.jsx("span",{className:"ml-1 flex h-2 w-2 rounded-full bg-primary"})]}),r&&c.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-card rounded-md shadow-lg border border-border z-10 p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"font-medium",children:t("reviews.filters")}),h&&c.jsx(xe,{variant:"ghost",size:"sm",onClick:f,className:"text-xs h-6 px-2 text-foreground/60 hover:text-foreground/90",children:t("reviews.clear_all")})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:t("reviews.rating")}),c.jsx("div",{className:"flex flex-wrap gap-2",children:[5,4,3,2,1].map(p=>c.jsxs(xe,{variant:e.stars===p?"default":"outline",size:"sm",className:ae("flex items-center gap-1 h-8",e.stars===p?"bg-primary/10 text-primary hover:bg-primary/20":""),onClick:()=>a(p),children:[c.jsx(Ns,{className:"w-3.5 h-3.5 fill-yellow-500 text-yellow-500"}),c.jsxs("span",{className:"text-xs",children:[p,"+"]})]},p))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:t("reviews.sort_by")}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(xe,{variant:e.sortBy==="newest"?"default":"outline",size:"sm",className:ae("w-full justify-start",e.sortBy==="newest"?"bg-primary/10 text-primary hover:bg-primary/20":""),onClick:()=>l("newest"),children:[c.jsx(pF,{className:"w-4 h-4 mr-2"}),t("reviews.newest")]}),c.jsxs(xe,{variant:e.sortBy==="highest"?"default":"outline",size:"sm",className:ae("w-full justify-start",e.sortBy==="highest"?"bg-primary/10 text-primary hover:bg-primary/20":""),onClick:()=>l("highest"),children:[c.jsx(Ns,{className:"w-4 h-4 fill-yellow-500 text-yellow-500 mr-2"}),t("reviews.highest_rated")]})]})]}),c.jsx("div",{children:c.jsxs(xe,{variant:e.hasPhotos?"default":"outline",size:"sm",className:ae("w-full justify-start",e.hasPhotos?"bg-primary/10 text-primary hover:bg-primary/20":""),onClick:u,children:[c.jsx(_F,{className:"w-4 h-4 mr-2"}),t("reviews.with_photos")]})})]})]})]})]}),h&&c.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.stars!==null&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[e.stars,"+ ",t("reviews.stars"),c.jsx(yr,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>n(p=>({...p,stars:null}))})]}),e.sortBy==="newest"&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[t("reviews.newest"),c.jsx(yr,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>n(p=>({...p,sortBy:null}))})]}),e.sortBy==="highest"&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[t("reviews.highest_rated"),c.jsx(yr,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>n(p=>({...p,sortBy:null}))})]}),e.hasPhotos&&c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[t("reviews.with_photos"),c.jsx(yr,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>n(p=>({...p,hasPhotos:null}))})]})]})}),c.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:c.jsx(z_,{reviews:o})})]})}),c.jsx(ts,{})]})};var HM={exports:{}},KM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=g;function $te(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ute=typeof Object.is=="function"?Object.is:$te,Bte=Pc.useState,zte=Pc.useEffect,qte=Pc.useLayoutEffect,Hte=Pc.useDebugValue;function Kte(t,e){var n=e(),r=Bte({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return qte(function(){s.value=n,s.getSnapshot=e,y0(s)&&i({inst:s})},[t,n,e]),zte(function(){return y0(s)&&i({inst:s}),t(function(){y0(s)&&i({inst:s})})},[t]),Hte(n),n}function y0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ute(t,n)}catch{return!0}}function Wte(t,e){return e()}var Gte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wte:Kte;KM.useSyncExternalStore=Pc.useSyncExternalStore!==void 0?Pc.useSyncExternalStore:Gte;HM.exports=KM;var Qte=HM.exports;function Yte(){return Qte.useSyncExternalStore(Jte,()=>!0,()=>!1)}function Jte(){return()=>{}}var Y_="Avatar",[Xte,nre]=zn(Y_),[Zte,WM]=Xte(Y_),GM=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return c.jsx(Zte,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(ge.span,{...r,ref:e})})});GM.displayName=Y_;var QM="AvatarImage",YM=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=WM(QM,n),a=ene(r,i),l=kn(u=>{s(u),o.onImageLoadingStatusChange(u)});return rr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ge.img,{...i,ref:e,src:r}):null});YM.displayName=QM;var JM="AvatarFallback",XM=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=WM(JM,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(ge.span,{...s,ref:e}):null});XM.displayName=JM;function NC(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ene(t,{referrerPolicy:e,crossOrigin:n}){const r=Yte(),s=g.useRef(null),i=(()=>r?(s.current||(s.current=new window.Image),s.current):null)(),[o,a]=g.useState(()=>NC(i,t));return rr(()=>{a(NC(i,t))},[i,t]),rr(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),f=l("error");return i.addEventListener("load",u),i.addEventListener("error",f),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,n,e]),o}var ZM=GM,e3=YM,t3=XM;const n3=g.forwardRef(({className:t,...e},n)=>c.jsx(ZM,{ref:n,className:ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));n3.displayName=ZM.displayName;const r3=g.forwardRef(({className:t,...e},n)=>c.jsx(e3,{ref:n,className:ae("aspect-square h-full w-full",t),...e}));r3.displayName=e3.displayName;const s3=g.forwardRef(({className:t,...e},n)=>c.jsx(t3,{ref:n,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));s3.displayName=t3.displayName;var Uv="Tabs",[tne,rre]=zn(Uv,[Ov]),i3=Ov(),[nne,J_]=tne(Uv),o3=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,f=Dv(a),[h,p]=to({prop:r,onChange:s,defaultProp:i??"",caller:Uv});return c.jsx(nne,{scope:n,baseId:Di(),value:h,onValueChange:p,orientation:o,dir:f,activationMode:l,children:c.jsx(ge.div,{dir:f,"data-orientation":o,...u,ref:e})})});o3.displayName=Uv;var a3="TabsList",l3=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=J_(a3,n),o=i3(n);return c.jsx(e5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});l3.displayName=a3;var c3="TabsTrigger",u3=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=J_(c3,n),a=i3(n),l=f3(o.baseId,r),u=p3(o.baseId,r),f=r===o.value;return c.jsx(t5,{asChild:!0,...a,focusable:!s,active:f,children:c.jsx(ge.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:se(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:se(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:se(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(r)})})})});u3.displayName=c3;var d3="TabsContent",h3=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=J_(d3,n),l=f3(a.baseId,r),u=p3(a.baseId,r),f=r===a.value,h=g.useRef(f);return g.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(or,{present:s||f,children:({present:p})=>c.jsx(ge.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});h3.displayName=d3;function f3(t,e){return`${t}-trigger-${e}`}function p3(t,e){return`${t}-content-${e}`}var rne=o3,m3=l3,g3=u3,v3=h3;const sne=rne,y3=g.forwardRef(({className:t,...e},n)=>c.jsx(m3,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));y3.displayName=m3.displayName;const Gp=g.forwardRef(({className:t,...e},n)=>c.jsx(g3,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Gp.displayName=g3.displayName;const Qp=g.forwardRef(({className:t,...e},n)=>c.jsx(v3,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qp.displayName=v3.displayName;const ine=()=>{const t=async({productId:z,userId:q,userName:Z,rating:ue,comment:ie})=>{console.log("Adding review:",{productId:z,userId:q,userName:Z,rating:ue,comment:ie})},{isLoggedIn:e,user:n,logout:r}=wa(),{language:s,t:i}=ze(),o=Fc(),[a,l]=Q.useState(null),[u,f]=g.useState(null),[h,p]=g.useState(0),[m,b]=g.useState(""),[w,y]=g.useState(""),[x,_]=g.useState(""),[E,C]=g.useState(()=>IC(n.id)),[R,O]=g.useState(()=>localStorage.getItem(`profile_city_${n.id}`)||""),[S,I]=g.useState(()=>localStorage.getItem(`profile_address_${n.id}`)||""),[N,k]=g.useState(()=>localStorage.getItem(`profile_phone_${n.id}`)||""),[D,P]=g.useState(!1),[j,K]=g.useState(!1),[X,U]=g.useState({city:R,address:S,phone:N}),G=R!==X.city||S!==X.address||N!==X.phone,M=()=>{localStorage.setItem(`profile_city_${n.id}`,R),localStorage.setItem(`profile_address_${n.id}`,S),localStorage.setItem(`profile_phone_${n.id}`,N),P(!0),K(!1),U({city:R,address:S,phone:N}),setTimeout(()=>P(!1),2e3)};if(Q.useEffect(()=>{(!e||!n)&&o("/")},[e,n,o]),!e||!n)return c.jsx("div",{style:{color:"white",background:"black",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx("div",{children:"Not logged in. Redirecting..."})});const F=z=>Array.from({length:5}).map((q,Z)=>c.jsx(Ns,{className:`w-4 h-4 ${Z<z?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},Z)),W=z=>new Date(z).toLocaleDateString();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(es,{}),c.jsxs("div",{className:"container mx-auto py-8 px-4",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(n3,{className:"h-20 w-20",children:[c.jsx(r3,{src:n.photoURL}),c.jsx(s3,{children:n.username?n.username.charAt(0).toUpperCase():c.jsx(yp,{className:"h-10 w-10"})})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:n.username}),c.jsx("p",{className:"text-muted-foreground",children:n.email})]})]}),c.jsx(xe,{variant:"outline",className:"border-crimson/30 text-crimson hover:bg-crimson/10 hover:border-crimson/50 transition-colors",onClick:async()=>{try{await r(),o("/")}catch(z){console.error("Logout error:",z)}},children:i("auth.sign_out")})]}),a&&c.jsx("div",{style:{color:"red",background:"white",padding:16,marginBottom:16},children:a}),c.jsxs(sne,{defaultValue:"address",className:"space-y-4",children:[c.jsxs(y3,{className:"text-lg",children:[c.jsx(Gp,{value:"address",className:"text-lg",children:i("profile.address")}),c.jsx(Gp,{value:"purchases",className:"text-lg",children:i("profile.purchases")}),c.jsx(Gp,{value:"reviews",className:"text-lg",children:i("profile.reviews")})]}),c.jsx(Qp,{value:"purchases",children:c.jsxs(hd,{children:[c.jsxs(qp,{children:[c.jsx(Hp,{children:i("profile.purchase_history")}),c.jsx(Kp,{children:i("profile.recent_purchases")})]}),c.jsx(Wp,{children:c.jsx("div",{className:"space-y-4",children:n.purchasedProducts.length>0?n.purchasedProducts.map(z=>{const q=sg(z);if(!q)return null;const Z=E.some(ue=>ue.productId===z);return c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border bg-card",children:[c.jsx("img",{src:q.images[0],alt:q.name[i("language")],className:"w-20 h-20 object-cover rounded-md"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium",children:q.name[i("language")]}),c.jsxs("p",{className:"text-muted-foreground",children:[q.price," ",q.currency]})]}),c.jsx(xe,{asChild:!0,variant:"outline",children:c.jsx(De,{to:`/product/${q.id}`,children:i("profile.view_product")})}),!Z&&u===z.toString()&&c.jsxs(kc,{open:!!u,onOpenChange:ue=>{ue||(f(null),p(0),b(""),y(""),_(""))},children:[c.jsx(Fx,{asChild:!0,children:c.jsx(xe,{variant:"default",onClick:()=>f(z.toString()),className:"ml-2",children:i("reviews.leave_review")})}),c.jsxs(ba,{children:[c.jsx("h3",{className:"font-bold mb-4 text-lg",children:i("reviews.leave_review")}),c.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[c.jsxs("span",{className:"mr-2",children:[i("reviews.rating"),":"]}),[1,2,3,4,5].map(ue=>c.jsx("button",{type:"button",className:`focus:outline-none ${ue<=h?"text-yellow-400":"text-gray-400"}`,onClick:()=>p(ue),"aria-label":`${i("reviews.rating")} ${ue}`,children:c.jsx(Ns,{className:"w-6 h-6 fill-current"})},ue))]}),c.jsx(ih,{className:"mb-3 bg-background text-foreground",placeholder:i("reviews.comment_placeholder"),value:m,onChange:ue=>b(ue.target.value),rows:3}),c.jsx(Bi,{className:"mb-3 bg-background text-foreground",placeholder:i("reviews.photo_url_placeholder"),value:w,onChange:ue=>y(ue.target.value)}),x&&c.jsx("div",{className:"text-red-500 mb-2",children:x}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(xe,{variant:"default",onClick:()=>{if(!h)return _(i("reviews.rating_required"));if(!m.trim())return _(i("reviews.comment_required"));_("");try{t({productId:u,userId:String(n.id),userName:n.username,rating:h,comment:m}),C(IC(n.id)),f(null),p(0),b(""),y("")}catch{_(i("reviews.already_reviewed"))}},children:i("reviews.submit")}),c.jsx(xe,{variant:"outline",onClick:()=>{f(null),p(0),b(""),y(""),_("")},children:i("product.back_to_shop")})]})]})]})]},z)}):c.jsx("p",{className:"text-center text-muted-foreground py-8",children:i("profile.no_purchases")})})})]})}),c.jsx(Qp,{value:"reviews",children:c.jsxs(hd,{children:[c.jsxs(qp,{children:[c.jsx(Hp,{children:i("profile.my_reviews")}),c.jsx(Kp,{children:i("profile.reviews_description")})]}),c.jsx(Wp,{children:c.jsx("div",{className:"space-y-4",children:E.length>0?E.map(z=>{const q=sg(z.productId);return q?c.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("img",{src:q.images[0],alt:q.name[i("language")],className:"w-16 h-16 object-cover rounded-md"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:q.name[i("language")]}),c.jsx("div",{className:"flex gap-1 mt-1",children:F(z.rating)})]}),c.jsx("div",{className:"ml-auto text-sm text-muted-foreground",children:W(z.date)})]}),c.jsx("p",{className:"text-sm text-foreground/90",children:z.comment}),z.photoUrl&&c.jsx("img",{src:z.photoUrl,alt:"Review",className:"mt-4 max-h-40 rounded-md object-cover"})]},z.id):null}):c.jsx("p",{className:"text-center text-muted-foreground py-8",children:i("profile.no_reviews")})})})]})}),c.jsx(Qp,{value:"address",children:c.jsxs(hd,{className:"mb-8",children:[c.jsxs(qp,{children:[c.jsx(Hp,{children:i("profile.address")}),c.jsx(Kp,{children:i("profile.address_description")})]}),c.jsx(Wp,{children:c.jsxs("div",{className:"flex flex-col gap-4 max-w-md",children:[c.jsx("label",{htmlFor:"city",className:"font-medium",children:i("profile.city")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("select",{id:"city",className:"border rounded px-3 py-2 bg-background flex-1",value:R,onChange:z=>O(z.target.value),disabled:!j,children:c.jsx("option",{value:"",children:i("profile.tbilisi")})}),c.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:i("profile.only_tbilisi")})]}),c.jsx("label",{htmlFor:"address",className:"font-medium",children:i("profile.address_field")}),c.jsx(Bi,{id:"address",value:S,onChange:z=>I(z.target.value),placeholder:i("profile.address_placeholder"),disabled:!j}),c.jsx("label",{htmlFor:"phone",className:"font-medium",children:i("profile.phone")}),c.jsx(Bi,{id:"phone",value:N,onChange:z=>{const q=z.target.value.replace(/\D/g,"");k(q),n!=null&&n.uid&&localStorage.setItem(`profile_phone_${n.uid}`,q)},placeholder:i("profile.phone_placeholder"),disabled:!j,type:"tel",inputMode:"numeric",pattern:"[0-9]*"}),c.jsxs("div",{className:"flex justify-between gap-2",children:[j?c.jsx(xe,{className:"mt-2 px-8 py-3 text-base font-bold",onClick:M,disabled:!G,children:i("profile.save")}):null,j?null:c.jsx(xe,{className:"mt-2 px-8 py-3 text-base font-bold",onClick:()=>K(!0),children:i("profile.edit")})]}),D&&c.jsx("div",{className:"text-green-600 text-sm mt-1",children:i("profile.saved")})]})})]})})]})]}),c.jsx(ts,{})]})},one=({question:t,answer:e,isOpen:n,onClick:r})=>c.jsxs("div",{className:`group rounded-xl overflow-hidden transition-all duration-300 ${n?"ring-2 ring-crimson bg-gray-900/50":"ring-1 ring-gray-800 hover:ring-crimson/50 bg-black"}`,children:[c.jsxs("button",{className:"w-full px-6 py-5 text-left flex justify-between items-center transition-all duration-300 group-hover:bg-gray-900/30",onClick:r,"aria-expanded":n,children:[c.jsx("span",{className:"font-medium text-lg transition-colors text-white group-hover:text-crimson",children:t}),c.jsx("div",{className:`p-1 rounded-full transition-all ${n?"bg-crimson/20":"bg-gray-800 group-hover:bg-crimson/10"}`,children:n?c.jsx(gF,{className:"h-5 w-5 text-crimson"}):c.jsx(MR,{className:"h-5 w-5 text-crimson"})})]}),n&&c.jsx("div",{className:"px-6 pb-6 pt-2 bg-gradient-to-b from-gray-900/50 to-transparent",children:c.jsx("div",{className:"text-gray-300 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:e.replace(/Contact Us|  |/g,'<a href="/contact" class="text-crimson font-medium hover:underline transition-colors">$&</a>')}})})]}),ane=()=>{const{t,language:e}=ze(),[n,r]=g.useState(null),s=g.useMemo(()=>[{id:1,questionKey:"faq.q1.question",answerKey:"faq.q1.answer"},{id:2,questionKey:"faq.q2.question",answerKey:"faq.q2.answer"},{id:3,questionKey:"faq.q3.question",answerKey:"faq.q3.answer"},{id:4,questionKey:"faq.q5.question",answerKey:"faq.q5.answer"}],[]),i=h=>{r(n===h?null:h)},o=g.useMemo(()=>s.map(h=>({...h,question:t(h.questionKey),answer:t(h.answerKey)})),[s,t,e]),a=g.useMemo(()=>t("faq.title"),[t,e]),l=g.useMemo(()=>t("faq.subtitle"),[t,e]),u=g.useMemo(()=>t("faq.needHelp"),[t,e]),f=g.useMemo(()=>t("faq.contactUs"),[t,e]);return c.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[c.jsx(es,{}),c.jsx("section",{className:"py-20 px-4 flex-grow",id:"faq",children:c.jsxs("div",{className:"container mx-auto max-w-6xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("div",{className:"relative inline-block mb-12",children:[c.jsx("h1",{className:"text-3xl md:text-5xl font-bold tracking-tight relative z-10",children:c.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-crimson to-crimson-dark",children:a})}),c.jsx("div",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-crimson to-transparent rounded-full"})]}),c.jsx("p",{className:"text-xl text-gray-300 mt-6 max-w-2xl mx-auto",children:l})]}),c.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:o.map(h=>c.jsx(one,{question:h.question,answer:h.answer,isOpen:n===h.id,onClick:()=>i(h.id)},h.id))}),c.jsxs("div",{className:"mt-12 text-center",children:[c.jsx("p",{className:"text-gray-300 mb-6",children:u}),c.jsx(De,{to:"/contact",className:"inline-flex items-center justify-center px-8 py-3 border border-crimson text-base font-medium rounded-md text-white bg-crimson hover:bg-crimson/90 transition-colors shadow-sm",children:f})]})]})}),c.jsx(ts,{})]})},lne=()=>hb.purchase_messages||[" Quest completed: [Purchase successful]."," Unlocked: New equipment item."," Added to inventory. Use wisely."],cne=()=>{const t=lne(),e=Math.floor(Math.random()*t.length);return t[e]},une=()=>{const{cart:t,clearCart:e,calculateTotal:n,calculateDiscount:r,calculateTotalWithDiscount:s}=so(),{t:i}=ze(),{isLoggedIn:o,signInWithGoogle:a}=wa(),l=Fc(),u=()=>{l("/")},f=O=>{if(!O)return"";if(typeof O=="string")return O;if(typeof O=="object"&&O!==null){const S=O,I=localStorage.getItem("shoppy_language")||"ru";return S[I]||S.en||Object.values(S)[0]||""}return String(O)},[h,p]=g.useState(!1),[m,b]=g.useState(!o),{user:w}=wa(),[y,x]=g.useState({name:(w==null?void 0:w.displayName)||"",email:(w==null?void 0:w.email)||"",phone:"",address:""});g.useEffect(()=>{if(w!=null&&w.uid){const O=localStorage.getItem(`profile_phone_${w.uid}`),S=localStorage.getItem(`profile_address_${w.uid}`);x(I=>({...I,phone:O||"",address:S||"",name:w.displayName||I.name,email:w.email||I.email}))}},[w]);const _=O=>{const{name:S,value:I}=O.target;x(N=>({...N,[S]:I})),w!=null&&w.uid&&(S==="phone"?localStorage.setItem(`profile_phone_${w.uid}`,I):S==="address"&&localStorage.setItem(`profile_address_${w.uid}`,I))},E=async()=>{try{await a(),b(!1),jy.success("Successfully logged in with Google")}catch(O){console.error("Error signing in with Google:",O),jy.error("Failed to sign in with Google")}};g.useEffect(()=>{o||b(!0)},[o]);const C=O=>{if(O.preventDefault(),!o){b(!0);return}p(!0),setTimeout(()=>{p(!1),e();const S=cne();jy.success(S,{duration:3e3,position:"top-center",style:{background:"#10b981",color:"white",border:"none",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:500,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}),l("/success")},2e3)},R=O=>{O.preventDefault(),C(O)};return t.length===0?c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-lg mb-4",children:"Your cart is empty"}),c.jsx(xe,{onClick:()=>l("/shop"),children:"Continue Shopping"})]})]}):c.jsx("div",{className:"min-h-screen bg-background text-foreground",children:c.jsxs("div",{className:"container mx-auto px-4 py-8 relative",children:[c.jsx("button",{onClick:u,className:"absolute right-4 top-4 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Close",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),c.jsx("h1",{className:"text-3xl font-bold mb-8 text-center md:text-left",children:"Checkout"}),c.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300 ${m?"opacity-100":"opacity-0 pointer-events-none"}`,children:c.jsx("div",{className:`bg-card border border-border rounded-xl shadow-2xl max-w-md w-full transform transition-all duration-300 ${m?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex items-center justify-center mb-6",children:c.jsx("div",{className:"bg-crimson/10 p-3 rounded-full",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-crimson",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h.01a1 1 0 100-2H10V9z",clipRule:"evenodd"})})})}),c.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:i("checkout.login_required")}),c.jsx("p",{className:"text-muted-foreground text-center mb-6",children:i("checkout.login_prompt")}),c.jsxs(xe,{type:"button",className:"w-full bg-crimson hover:bg-crimson/90 text-white flex items-center justify-center gap-2 h-12 text-base font-medium",onClick:E,children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"currentColor"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"currentColor"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"currentColor"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"currentColor"})]}),i("auth.sign_in_with_google")]}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{onClick:()=>l("/"),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:i("common.back_to_home")})})]})})}),") : (",c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-card rounded-lg shadow-sm p-6 mb-6 border border-border",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Information"}),c.jsxs("form",{onSubmit:R,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",htmlFor:"name",children:[i("checkout.name")," *"]}),c.jsx("input",{type:"text",id:"name",required:!0,className:"w-full px-3 py-2 bg-background border border-input rounded-md text-foreground",value:y.name,onChange:O=>x(S=>({...S,name:O.target.value}))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:[i("checkout.email")," *"]}),c.jsx("input",{type:"email",id:"email",required:!0,className:"w-full px-3 py-2 bg-background border border-input rounded-md text-foreground",value:y.email,onChange:O=>x(S=>({...S,email:O.target.value}))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",htmlFor:"phone",children:[i("checkout.phone")," *"]}),c.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,pattern:"[0-9]*",inputMode:"numeric",className:"w-full px-3 py-2 bg-background border border-input rounded-md text-foreground",value:y.phone,onChange:O=>{const S=O.target.value.replace(/[^0-9]/g,"");x(I=>({...I,phone:S})),w!=null&&w.uid&&localStorage.setItem(`profile_phone_${w.uid}`,S)},onKeyDown:O=>{["e","E","+","-","."].includes(O.key)&&O.preventDefault()}})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",htmlFor:"address",children:[i("checkout.address")," *"]}),c.jsx("input",{type:"text",id:"address",required:!0,className:"w-full px-3 py-2 bg-background border border-input rounded-md text-foreground",name:"address",value:y.address,onChange:_})]})]}),c.jsx("div",{className:"mt-6",children:c.jsx(xe,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:h,children:i(h?"checkout.processing":"checkout.complete_order")})})]})]})}),c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-card rounded-lg shadow-sm p-6 border border-border",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),c.jsxs("div",{className:"space-y-4",children:[t.map(O=>{const S=f(O.product.name),I=Array.isArray(O.product.images)&&O.product.images.length>0?O.product.images[0]:"";return c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[I&&c.jsx("img",{src:I,alt:S,className:"w-16 h-16 object-cover rounded"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:S}),c.jsxs("p",{className:"text-sm text-gray-500",children:[O.quantity,"  ",O.product.price," "]})]})]}),c.jsxs("p",{className:"font-medium",children:[(O.quantity*O.product.price).toFixed(2)," "]})]},O.product.id)}),c.jsxs("div",{className:"border-t pt-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal"}),c.jsxs("span",{children:[n().toFixed(2)," "]})]}),r().amount>0&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsxs("span",{children:["Discount (",r().percentage,"%)"]}),c.jsxs("span",{children:["-",r().amount.toFixed(2)," "]})]}),c.jsxs("div",{className:"flex justify-between font-bold text-lg mt-2",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:[s().toFixed(2)," "]})]})]})]})]})})]})]})})};function dne(){const[t,e]=g.useState(!1),n=ro(),r=db();g.useEffect(()=>{function i(){const o=window.pageYOffset||document.documentElement.scrollTop;e(o>300)}return window.addEventListener("scroll",i),i(),()=>{window.removeEventListener("scroll",i)}},[]),g.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[n.pathname,JSON.stringify(r)]);function s(){window.scrollTo({top:0,behavior:"smooth"})}return t?c.jsx("button",{onClick:s,style:{position:"fixed",bottom:"20px",right:"20px",padding:"10px 15px",fontSize:"16px",background:"red",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",zIndex:9999},children:"Up"}):null}const hne=({children:t})=>{const{t:e}=Cm(),[n,r]=g.useState(!1),s=()=>document.getElementById("main")||document.documentElement||document.body,i=()=>{const l=s().scrollTop||window.pageYOffset;r(l>300)},o=()=>{s().scrollTo({top:0,behavior:"smooth"})};return g.useEffect(()=>{const a=s();return a.addEventListener("scroll",i,{passive:!0}),()=>{a.removeEventListener("scroll",i)}},[]),c.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-gray-900 via-gray-900 to-black",children:[c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-crimson/5 via-transparent to-transparent opacity-40"}),c.jsx("div",{className:"relative z-10",children:t}),c.jsxs("button",{onClick:o,className:ae("fixed left-6 bottom-6 z-50 inline-flex items-center justify-center gap-2 px-6 py-3 text-base font-medium","bg-crimson/10 hover:bg-crimson/20 text-crimson border border-crimson/20 rounded-md","transition-all duration-300 transform group",n?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"),"aria-label":e("common.scroll_to_top",{defaultValue:"Scroll to top"}),children:[e("common.scroll_to_top",{defaultValue:"Back to top"}),c.jsx(fF,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})},fne=new M$,pne=()=>{const[t,e]=g.useState(!0);return g.useEffect(()=>{const n=setTimeout(()=>{e(!1)},3e3);return()=>clearTimeout(n)},[]),t?c.jsx(NY,{}):c.jsx(U$,{client:fne,children:c.jsx(NP,{children:c.jsx(y7,{children:c.jsx(kY,{children:c.jsx(w7,{children:c.jsxs(CY,{children:[c.jsx(h9,{}),c.jsx(q9,{}),c.jsxs(JU,{children:[c.jsx(dne,{}),c.jsx(hne,{children:c.jsx("div",{id:"main",className:"min-h-screen flex flex-col",children:c.jsxs(zU,{children:[c.jsx(Hn,{path:"/",element:c.jsx(Vee,{})}),c.jsx(Hn,{path:"/shop",element:c.jsx(ute,{})}),c.jsx(Hn,{path:"/about",element:c.jsx(dte,{})}),c.jsx(Hn,{path:"/contact",element:c.jsx(Ste,{})}),c.jsx(Hn,{path:"/product/:id",element:c.jsx(Lte,{})}),c.jsx(Hn,{path:"/category/:categoryName",element:c.jsx(Vte,{})}),c.jsx(Hn,{path:"/reviews",element:c.jsx(Fte,{})}),c.jsx(Hn,{path:"/profile",element:c.jsx(ine,{})}),c.jsx(Hn,{path:"/faq",element:c.jsx(ane,{})}),c.jsx(Hn,{path:"/checkout",element:c.jsx(une,{})}),c.jsx(Hn,{path:"*",element:c.jsx(Tte,{})})]})})})]})]})})})})})})};const ve=t=>typeof t=="string",Nu=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},RC=t=>t==null?"":""+t,mne=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},gne=/###/g,PC=t=>t&&t.indexOf("###")>-1?t.replace(gne,"."):t,AC=t=>!t||ve(t),fd=(t,e,n)=>{const r=ve(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(AC(t))return{};const i=PC(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return AC(t)?{}:{obj:t,k:PC(r[s])}},jC=(t,e,n)=>{const{obj:r,k:s}=fd(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=fd(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=fd(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},vne=(t,e,n,r)=>{const{obj:s,k:i}=fd(t,e,Object);s[i]=s[i]||[],s[i].push(n)},cg=(t,e)=>{const{obj:n,k:r}=fd(t,e);if(n)return n[r]},yne=(t,e,n)=>{const r=cg(t,n);return r!==void 0?r:cg(e,n)},w3=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ve(t[r])||t[r]instanceof String||ve(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):w3(t[r],e[r],n):t[r]=e[r]);return t},Ja=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var wne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const xne=t=>ve(t)?t.replace(/[&<>"'\/]/g,e=>wne[e]):t;class bne{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const _ne=[" ",",","?","!",";"],Ene=new bne(20),Ine=(t,e,n)=>{e=e||"",n=n||"";const r=_ne.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=Ene.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(n);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},Kx=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;i+=l-i+1;break}s=o}return s},ug=t=>t&&t.replace("_","-"),Sne={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class dg{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Sne,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(ve(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new dg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new dg(this.logger,e)}}var Kr=new dg;class Bv{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[e,...r])})}}class DC extends Bv{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):ve(r)&&i?a.push(...r.split(i)):a.push(r)));const l=cg(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!ve(r)?l:Kx(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),s=n,n=a[1]),this.addNamespaces(n),jC(this.data,a,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(ve(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let l=cg(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?w3(l,r,i):l={...l,...r},jC(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var x3={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const OC={};class hg extends Bv{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),mne(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Kr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ine(e,r,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ve(i)?[i]:i};const u=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:ve(i)?[i]:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],u=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const C=n.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${C}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${C}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const h=this.resolve(e,n);let p=h&&h.res;const m=h&&h.usedKey||o,b=h&&h.exactUsedKey||o,w=Object.prototype.toString.apply(p),y=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,E=!ve(p)&&typeof p!="boolean"&&typeof p!="number";if(_&&p&&E&&y.indexOf(w)<0&&!(ve(x)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=C,h.usedParams=this.getUsedParamsDetails(n),h):C}if(i){const C=Array.isArray(p),R=C?[]:{},O=C?b:m;for(const S in p)if(Object.prototype.hasOwnProperty.call(p,S)){const I=`${O}${i}${S}`;R[S]=this.translate(I,{...n,joinArrays:!1,ns:a}),R[S]===I&&(R[S]=p[S])}p=R}}else if(_&&ve(x)&&Array.isArray(p))p=p.join(x),p&&(p=this.extendTranslation(p,e,n,r));else{let C=!1,R=!1;const O=n.count!==void 0&&!ve(n.count),S=hg.hasDefaultValue(n),I=O?this.pluralResolver.getSuffix(u,n.count,n):"",N=n.ordinal&&O?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",k=O&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),D=k&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${I}`]||n[`defaultValue${N}`]||n.defaultValue;!this.isValidLookup(p)&&S&&(C=!0,p=D),this.isValidLookup(p)||(R=!0,p=o);const j=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:p,K=S&&D!==p&&this.options.updateMissing;if(R||C||K){if(this.logger.log(K?"updateKey":"missingKey",u,l,o,K?D:p),i){const M=this.resolve(o,{...n,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let M=0;M<U.length;M++)X.push(U[M]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(n.lng||this.language):X.push(n.lng||this.language);const G=(M,F,W)=>{const z=S&&W!==p?W:j;this.options.missingKeyHandler?this.options.missingKeyHandler(M,l,F,z,K,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(M,l,F,z,K,n),this.emit("missingKey",M,l,F,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?X.forEach(M=>{const F=this.pluralResolver.getSuffixes(M,n);k&&n[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(W=>{G([M],o+W,n[`defaultValue${W}`]||D)})}):G(X,o,D))}p=this.extendTranslation(p,e,n,h,r),R&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),(R||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return s?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(e,n,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=ve(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const p=e.match(this.interpolator.nestingRegexp);f=p&&p.length}let h=r.replace&&!ve(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),m=p&&p.length;f<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,m=new Array(p),b=0;b<p;b++)m[b]=arguments[b];return i&&i[0]===m[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):o.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=ve(a)?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=x3.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,a;return ve(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),f=u.key;s=f;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!ve(n.count),m=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),b=n.context!==void 0&&(ve(n.context)||typeof n.context=="number")&&n.context!=="",w=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(y=>{this.isValidLookup(r)||(a=y,!OC[`${w[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(OC[`${w[0]}-${y}`]=!0,this.logger.warn(`key "${s}" for languages "${w.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(x=>{if(this.isValidLookup(r))return;o=x;const _=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,f,x,y,n);else{let C;p&&(C=this.pluralResolver.getSuffix(x,n.count,n));const R=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(_.push(f+C),n.ordinal&&C.indexOf(O)===0&&_.push(f+C.replace(O,this.options.pluralSeparator)),m&&_.push(f+R)),b){const S=`${f}${this.options.contextSeparator}${n.context}`;_.push(S),p&&(_.push(S+C),n.ordinal&&C.indexOf(O)===0&&_.push(S+C.replace(O,this.options.pluralSeparator)),m&&_.push(S+R))}}let E;for(;E=_.pop();)this.isValidLookup(r)||(i=E,r=this.getResource(x,y,E,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ve(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const w0=t=>t.charAt(0).toUpperCase()+t.slice(1);class MC{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Kr.create("languageUtils")}getScriptPartFromCode(e){if(e=ug(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ug(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ve(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=w0(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=w0(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=w0(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ve(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ve(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):ve(e)&&i(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let Tne=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Cne={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const kne=["v1","v2","v3"],Nne=["v4"],LC={zero:0,one:1,two:2,few:3,many:4,other:5},Rne=()=>{const t={};return Tne.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Cne[e.fc]}})}),t};class Pne{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Kr.create("pluralResolver"),(!this.options.compatibilityJSON||Nne.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Rne(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=ug(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>LC[s]-LC[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!kne.includes(this.options.compatibilityJSON)}}const VC=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=yne(t,e,n);return!i&&s&&ve(n)&&(i=Kx(t,n,r),i===void 0&&(i=Kx(e,n,r))),i},x0=t=>t.replace(/\$/g,"$$$$");class Ane{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Kr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:b,nestingSuffixEscaped:w,nestingOptionsSeparator:y,maxReplaces:x,alwaysFormat:_}=e.interpolation;this.escape=n!==void 0?n:xne,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Ja(i):o||"{{",this.suffix=a?Ja(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?Ja(p):m||Ja("$t("),this.nestingSuffix=b?Ja(b):w||Ja(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=x||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const x=VC(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...s,...n,interpolationkey:m}):x}const b=m.split(this.formatSeparator),w=b.shift().trim(),y=b.join(this.formatSeparator).trim();return this.format(VC(n,l,w,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...s,...n,interpolationkey:w})};this.resetRegExp();const f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>x0(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?x0(this.escape(m)):x0(m)}].forEach(m=>{for(a=0;i=m.regex.exec(e);){const b=i[1].trim();if(o=u(b),o===void 0)if(typeof f=="function"){const y=f(e,i,s);o=ve(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,b))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),o="";else!ve(o)&&!this.useRawValueToEscape&&(o=RC(o));const w=m.safeValue(o);if(e=e.replace(i[0],w),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const a=(l,u)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const h=l.split(new RegExp(`${f}[ ]*{`));let p=`{${h[1]}`;l=h[0],p=this.interpolate(p,o);const m=p.match(/'/g),b=p.match(/"/g);(m&&m.length%2===0&&!b||b.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),u&&(o={...u,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,w),`${l}${f}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!ve(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const f=s[1].split(this.formatSeparator).map(h=>h.trim());s[1]=f.shift(),l=f,u=!0}if(i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!ve(i))return i;ve(i)||(i=RC(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((f,h)=>this.format(f,h,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const jne=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),f=a.trim();n[f]||(n[f]=u),u==="false"&&(n[f]=!1),u==="true"&&(n[f]=!0),isNaN(u)||(n[f]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Xa=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=e[o];return a||(a=t(ug(r),s),e[o]=a),a(n)}};class Dne{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Kr.create("formatter"),this.options=e,this.formats={number:Xa((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:Xa((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:Xa((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:Xa((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:Xa((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Xa(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{const{formatName:u,formatOptions:f}=jne(l);if(this.formats[u]){let h=a;try{const p=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},m=p.locale||p.lng||s.locale||s.lng||r;h=this.formats[u](a,m,{...f,...s,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}const One=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Mne extends Bv{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Kr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},o={},a={},l={};return e.forEach(u=>{let f=!0;n.forEach(h=>{const p=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,f=!1,o[p]===void 0&&(o[p]=!0),i[p]===void 0&&(i[p]=!0),l[h]===void 0&&(l[h]=!0)))}),f||(a[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const s=e.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{vne(l.loaded,[i],o),One(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const f=l.loaded[u];f.length&&f.forEach(h=>{a[u][h]===void 0&&(a[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,o)},i);return}o(u,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(f=>a(null,f)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ve(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ve(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(e,n,r,s,l):f=u(e,n,r,s),f&&typeof f.then=="function"?f.then(h=>a(null,h)).catch(a):a(null,f)}catch(f){a(f)}else u(e,n,r,s,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const FC=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ve(t[1])&&(e.defaultValue=t[1]),ve(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),$C=t=>(ve(t.ns)&&(t.ns=[t.ns]),ve(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ve(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),rp=()=>{},Lne=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class oh extends Bv{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=$C(e),this.services={},this.logger=Kr,this.modules={external:[]},Lne(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(ve(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=FC();this.options={...s,...this.options,...$C(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Kr.init(i(this.modules.logger),this.options):Kr.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=Dne);const h=new MC(this.options);this.store=new DC(this.options.resources,this.options);const p=this.services;p.logger=Kr,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new Pne(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(p.formatter=i(f),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new Ane(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new Mne(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var b=arguments.length,w=new Array(b>1?b-1:0),y=1;y<b;y++)w[y-1]=arguments[y];e.emit(m,...w)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new hg(this.services,this.options),this.translator.on("*",function(m){for(var b=arguments.length,w=new Array(b>1?b-1:0),y=1;y<b;y++)w[y-1]=arguments[y];e.emit(m,...w)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=rp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const l=Nu(),u=()=>{const f=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),r(h,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rp;const s=ve(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const s=Nu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=rp),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&x3.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=Nu();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=ve(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{o(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,n,r){var s=this;const i=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),h=2;h<u;h++)f[h-2]=arguments[h];l=s.options.overloadTranslationOptionHandler([o,a].concat(f))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const p=s.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(o)?m=o.map(b=>`${l.keyPrefix}${p}${b}`):m=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,s.t(m,l)};return ve(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(i,e)))}loadNamespaces(e,n){const r=Nu();return this.options.ns?(ve(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Nu();ve(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new MC(FC());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new oh(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rp;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new oh(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new DC(this.store.data,s),i.services.resourceStore=i.store),i.translator=new hg(i.services,s),i.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),f=1;f<l;f++)u[f-1]=arguments[f];i.emit(a,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const tn=oh.createInstance();tn.createInstance=oh.createInstance;tn.createInstance;tn.dir;tn.init;tn.loadResources;tn.reloadResources;tn.use;tn.changeLanguage;tn.getFixedT;tn.t;tn.exists;tn.setDefaultNamespace;tn.hasLoadedNamespace;tn.loadNamespaces;tn.loadLanguages;const Vne=t=>{const e={ru:{},en:{},ge:{}};return Object.entries(t).forEach(([n,r])=>{if(r&&typeof r=="object"&&"ru"in r&&"en"in r&&"ge"in r){const s=r;e.ru[n]=s.ru,e.en[n]=s.en,e.ge[n]=s.ge}else{const s=String(r);e.ru[n]=s,e.en[n]=s,e.ge[n]=s}}),e},Ll=Vne(hb);console.log("Discount translation:",{ru:Ll.ru["cart.discount_5"],en:Ll.en["cart.discount_5"],ge:Ll.ge["cart.discount_5"]});tn.use(f7).init({resources:{ru:{translation:Ll.ru},en:{translation:Ll.en},ge:{translation:Ll.ge}},lng:"ge",fallbackLng:"ge",interpolation:{escapeValue:!1}});const Fne=console.warn;console.warn=(...t)=>{var e;(e=t[0])!=null&&e.includes("React Router:")||Fne(...t)};b0.createRoot(document.getElementById("root")).render(c.jsx(Q.StrictMode,{children:c.jsx(pne,{})}));
//# sourceMappingURL=main-f6b9cdc7.js.map
